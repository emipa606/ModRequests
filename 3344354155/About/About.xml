<?xml version="1.0" encoding="utf-8"?>
<ModMetaData>
    <packageId>I.FixStrongMeleeSpearAP</packageId>
    <name>Fix Strong Melee Spear AP</name>
    <author>I</author>
    <description>Background:
In vanilla, the AP of every verb on every melee weapon is 1.5 times the verb damage. Strong melee gene will increase verb damage by 1.5, which increases AP as well. Weak melee damage gene will do the opposite.

This is true for every melee weapon, except the stab attack of the spear, and both the stab and cut attacks of monosword. The AP of these three attacks is only affected by weapon quality. Also, some implants (the knee spike, hand talon, and flesh whip) have non-standard AP. This can be a problem.

https://rimworldwiki.com/wiki/Spear
In the analysis of the spear, it's apparent that with the strong melee damage gene, the spear becomes almost obsolete because it loses its AP advantage against the longsword, which was its only advantage it had, since spear only does stab damage, which is generally worse than longsword's cut.

Mod:
This mod changes the game to ensure Strong Melee gene does affect spear AP. This makes it viable in the mid-to-late game, and justifies using them for aesthetic variety by giving it better strategic value. Weak melee damage gene will also decrease spear stab AP.

I guess the spear x strong melee damage gene interaction is not intentional, but it likely is, since it's been this way for many updates, so this mod is probably not actually a "fix".

This mod will also do the same for monosword, the implants, any other similar weapons from mods.

More specifically, the reason the spear was unaffected by strong melee was because the xml for spear specified its own armorPenetration value (0.5; this can be observed in-game by looking at the AP of a normal quality steel spear). The only thing this mod does is make it so any melee weapon that specified its own armorPenetration value will be affected by damage genes, including monosword, and other modded weapons.

Applies to all enemies. Neanderthal (strong melee) and Impid (weak melee) raids in vanilla usually carry spears.</description>
    <supportedVersions>
        <li>1.5</li>
    </supportedVersions>
    <modDependencies>
        <li>
            <packageId>brrainz.harmony</packageId>
            <displayName>Harmony</displayName>
            <steamWorkshopUrl>steam://url/CommunityFilePage/2009463077</steamWorkshopUrl>
        </li>
    </modDependencies>
    <loadAfter>
        <li>brrainz.harmony</li>
    </loadAfter>
</ModMetaData>
