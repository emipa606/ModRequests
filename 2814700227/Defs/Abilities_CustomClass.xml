<?xml version="1.0" encoding="utf-8" ?>
<Defs>
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_TimeDilation</defName>
        <label>Time Dilation</label>
        <uiIconPath>UI/shadowcall</uiIconPath>
        <description>Compress time, massively increasing relative speed.</description>
        <upkeepEnergyCost>0</upkeepEnergyCost>
        <upkeepRegenCost>0</upkeepRegenCost>
        <abilityHediff>TM_TimeDilationHD</abilityHediff>
        <canCopy>true</canCopy>
        <learnItem>SpellOf_TimeDilation</learnItem>
        <learnChance>1</learnChance>
        <restrictedAbility>true</restrictedAbility>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ToggleHediff</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_TimeDilation</abilityDef>
            <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetLocations>false</canTargetLocations>
                <canTargetSelf>true</canTargetSelf>
            </targetParams>
            <warmupTime>0</warmupTime>
            <SecondsToRecharge>2.0</SecondsToRecharge>
            <range>0</range>
            <isViolent>false</isViolent>
            <requiresLineOfSight>false</requiresLineOfSight>
            <stopBurstWithoutLos>false</stopBurstWithoutLos>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <muzzleFlashScale>0</muzzleFlashScale>
            <soundCast>TM_VibrationLow</soundCast>
            <isPrimary>true</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ReverseBlink</defName>
        <label>Reverse Blink</label>
        <uiIconPath>UI/reverseblink</uiIconPath>
        <description>Instantly moves objects to the caster's location.
        
Casting time: .5s
Recharge time: 10s
Range: 30</description>
        <manaCost>0.15</manaCost>
        <efficiencyReductionPercent>.1</efficiencyReductionPercent>
        <learnChance>.3</learnChance>
        <canCopy>true</canCopy>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Summon</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_Summon</defaultProjectile>
            <abilityDef>TM_ReverseBlink</abilityDef>
            <AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>true</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetLocations>true</canTargetLocations>
                <canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>0.5</warmupTime>
            <SecondsToRecharge>10.0</SecondsToRecharge>
            <range>30</range>
            <isViolent>false</isViolent>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>TM_Gong</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ReverseBlink_I</defName>
        <label>Reverse Blink</label>
        <uiIconPath>UI/reverseblink</uiIconPath>
        <description>Instantly moves objects to the caster's location.
        
Casting time: .3s
Recharge time: 8s
Range: 50</description>
        <manaCost>0.15</manaCost>
        <efficiencyReductionPercent>.1</efficiencyReductionPercent>
        <shouldInitialize>false</shouldInitialize>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Summon</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_Summon</defaultProjectile>
            <abilityDef>TM_ReverseBlink_I</abilityDef>
            <AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>true</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetLocations>true</canTargetLocations>
                <canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>0.3</warmupTime>
            <SecondsToRecharge>8.0</SecondsToRecharge>
            <range>50</range>
            <isViolent>false</isViolent>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>TM_Gong</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ReverseBlink_II</defName>
        <label>Reverse Blink</label>
        <uiIconPath>UI/reverseblink</uiIconPath>
        <description>Instantly moves objects to the caster's location.
        
Casting time: .1s
Recharge time: 6s
Range: 70</description>
        <manaCost>0.15</manaCost>
        <efficiencyReductionPercent>.1</efficiencyReductionPercent>
        <shouldInitialize>false</shouldInitialize>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Summon</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_Summon</defaultProjectile>
            <abilityDef>TM_ReverseBlink_II</abilityDef>
            <AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>true</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetLocations>true</canTargetLocations>
                <canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>0.1</warmupTime>
            <SecondsToRecharge>6.0</SecondsToRecharge>
            <range>70</range>
            <isViolent>false</isViolent>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>TM_Gong</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ReverseBlink_III</defName>
        <label>Reverse Blink</label>
        <uiIconPath>UI/reverseblink</uiIconPath>
        <description>Instantly moves objects to the caster's location.
        
Casting time: 0s
Recharge time: 5s
Range: 90</description>
        <manaCost>0.15</manaCost>
        <efficiencyReductionPercent>.1</efficiencyReductionPercent>
        <shouldInitialize>false</shouldInitialize>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Summon</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_Summon</defaultProjectile>
            <abilityDef>TM_ReverseBlink_III</abilityDef>
            <AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>true</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetLocations>true</canTargetLocations>
                <canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>0</warmupTime>
            <SecondsToRecharge>5.0</SecondsToRecharge>
            <range>90</range>
            <isViolent>false</isViolent>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>Message_PositiveEvent</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_TimeJaunt</defName>
        <label>Time Jaunt</label>
        <uiIconPath>UI/gateway2</uiIconPath>
        <description>The caster and up to four other creatures slip into the timestream for near-instant travel. 

            Note: this is the caster and all adjacent pawns, N,S,E,W, and their mounts if they're on them.</description>
        <manaCost>1</manaCost>
        <learnChance>0</learnChance>
        <learnItem>SpellOf_TimeJaunt</learnItem>
        <shouldInitialize>false</shouldInitialize>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>ARoM_SpaceTimeMage.Verb_TimeJaunt</verbClass>
            <tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
            <tooltipShowExtraDamages>false</tooltipShowExtraDamages>
            <tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
            <tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_LightSkipGlobal</abilityDef>
            <warmupTime>6</warmupTime>
            <SecondsToRecharge>6</SecondsToRecharge>
            <range>300</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_LightZip</soundCast>
            <soundCastTail>TM_LightZip</soundCastTail>
            <muzzleFlashScale>10</muzzleFlashScale>
            <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
            <isViolent>false</isViolent>
            <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
</Defs>