<Patch>

	<Operation Class="PatchOperationRemove">
        <xpath>Defs/ThingDef[defName="Gun_TF_CompMRL"]/verbs</xpath>
    </Operation>
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>Gun_TF_CompMRL</defName>
        <statBases>
            <Mass>7</Mass>
            <Bulk>9</Bulk>
            <SwayFactor>1.1</SwayFactor>
            <ShotSpread>0.05</ShotSpread>
            <SightsEfficiency>1.8</SightsEfficiency>
            <RangedWeapon_Cooldown>0.30</RangedWeapon_Cooldown>
        </statBases>
        <costList>
            <Steel>100</Steel>
			<Plasteel>50</Plasteel>
			<ComponentIndustrial>6</ComponentIndustrial>
        </costList>
        <Properties>
            <recoilAmount>0.95</recoilAmount>
            <verbClass>CombatExtended.Verb_ShootCE</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Bullet_55mmRailgun_Sabot</defaultProjectile>
            <warmupTime>0.36</warmupTime>
            <range>55</range>
            <burstShotCount>25</burstShotCount>
            <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
            <soundCast>TF_MRL_fire</soundCast>
            <soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>9</muzzleFlashScale>
        </Properties>
        <AmmoUser>
            <magazineSize>50</magazineSize>
            <reloadTime>6</reloadTime>
            <ammoSet>AmmoSet_55mmRailgun</ammoSet>
        </AmmoUser>
        <FireModes>
            <aimedBurstShotCount>5</aimedBurstShotCount>
            <aiUseBurstMode>TRUE</aiUseBurstMode>
            <aiAimMode>AimedShot</aiAimMode>
        </FireModes>
    </Operation>
	
	<Operation Class="PatchOperationRemove">
        <xpath>Defs/ThingDef[defName="Gun_TF_CompMRL"]/comps/li[@Class="WeaponUtilityI.CompProperties_SecondaryVerb"]</xpath>
    </Operation>
	
	<Operation Class="PatchOperationRemove">
        <xpath>Defs/ThingDef[defName="Gun_TF_CompMRL"]/modExtensions/li[@Class="ExperimentalGear.DurabilityCostExtension"]</xpath>
    </Operation>
	
    <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="Gun_TF_CompMRL"]/comps</xpath>
        <value>
            <li Class="CombatExtended.CompProperties_UnderBarrel">
                <propsUnderBarrel>
                    <magazineSize>1</magazineSize>
                    <reloadTime>2.2</reloadTime>
                    <ammoSet>AmmoSet_RPG7Grenade</ammoSet>
                </propsUnderBarrel>
                <verbPropsUnderBarrel>
                    <verbClass>CombatExtended.Verb_ShootCE</verbClass>
                    <hasStandardCommand>true</hasStandardCommand>
                    <defaultProjectile>Bullet_RPG7Grenade_HEAT</defaultProjectile>
                    <warmupTime>2.1</warmupTime>
                    <range>64</range>
                    <soundCast>Shot_HellsphereCannonGun</soundCast>
                    <soundCastTail>GunTail_Medium</soundCastTail>
                    <muzzleFlashScale>12</muzzleFlashScale>
                </verbPropsUnderBarrel>
                <propsFireModesUnderBarrel>
					<aiUseBurstMode>FALSE</aiUseBurstMode>
					<aiAimMode>AimedShot</aiAimMode>
				</propsFireModesUnderBarrel>
            </li>
        </value>
    </Operation>
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>MechGun_TF_MRL</defName>
        <statBases>
            <Mass>7</Mass>
            <Bulk>9</Bulk>
            <SwayFactor>1.1</SwayFactor>
            <ShotSpread>0.05</ShotSpread>
            <SightsEfficiency>1.8</SightsEfficiency>
            <RangedWeapon_Cooldown>0.30</RangedWeapon_Cooldown>
        </statBases>
        <Properties>
            <recoilAmount>0.95</recoilAmount>
            <verbClass>CombatExtended.Verb_ShootCE</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Bullet_55mmRailgun_Sabot</defaultProjectile>
            <warmupTime>0.36</warmupTime>
            <range>55</range>
            <burstShotCount>25</burstShotCount>
            <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
            <soundCast>TF_MRL_fire</soundCast>
            <soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>9</muzzleFlashScale>
        </Properties>
        <AmmoUser>
            <magazineSize>50</magazineSize>
            <reloadTime>6</reloadTime>
            <ammoSet>AmmoSet_55mmRailgun</ammoSet>
        </AmmoUser>
        <FireModes>
            <aimedBurstShotCount>5</aimedBurstShotCount>
            <aiUseBurstMode>TRUE</aiUseBurstMode>
            <aiAimMode>AimedShot</aiAimMode>
        </FireModes>
    </Operation>
	
	<Operation Class="PatchOperationAddModExtension">
        <xpath>Defs/ThingDef[defName="Gun_TF_CompMRL"]</xpath>
        <value>
            <li Class="CombatExtended.GunDrawExtension">
                <DrawSize>2.7,2.7</DrawSize>
                <DrawOffset>0.15,0</DrawOffset>
            </li>
        </value>
    </Operation>
	
	<Operation Class="PatchOperationAddModExtension">
        <xpath>Defs/ThingDef[defName="MechGun_TF_MRL"]</xpath>
        <value>
            <li Class="CombatExtended.GunDrawExtension">
                <DrawSize>1.8,1.8</DrawSize>
                <DrawOffset>0.15,0</DrawOffset>
            </li>
        </value>
    </Operation>

</Patch>