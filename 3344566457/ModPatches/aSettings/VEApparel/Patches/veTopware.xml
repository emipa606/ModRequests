<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <Operation Class="XmlExtensions.OptionalPatch">
    <modId>Yy.CapesandArmor</modId>
    <key>HoodToggle</key>
    <defaultValue>true</defaultValue>
    <caseTrue>
      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Sunglasses"]/apparel/bodyPartGroups</xpath>
        <value>
          <bodyPartGroups>
            <li>Mouth</li>
          </bodyPartGroups>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Glasses"]/apparel/bodyPartGroups</xpath>
        <value>
          <bodyPartGroups>
            <li>Mouth</li>
          </bodyPartGroups>
        </value>
      </Operation>
    </caseTrue>
  </Operation>

  <Operation Class="XmlExtensions.OptionalPatch">
    <modId>Yy.CapesandArmor</modId>
    <key>HatToggle</key>
    <defaultValue>true</defaultValue>
    <caseTrue>
      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Fedora"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Beret"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_BaseballCap"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Sunglasses"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>Overhead</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Sunglasses"]/apparel/bodyPartGroups</xpath>
        <value>
          <bodyPartGroups>
            <li>Mouth</li>
          </bodyPartGroups>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Glasses"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Glasses"]/apparel/bodyPartGroups</xpath>
        <value>
          <bodyPartGroups>
            <li>Mouth</li>
          </bodyPartGroups>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Fedora"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>
    </caseTrue>   

    <caseFalse>
      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Fedora"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>Overhead</li>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Beret"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>Overhead</li>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_BaseballCap"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>Overhead</li>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Sunglasses"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>Overhead</li>
            <li>Overhead</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Glasses"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>Overhead</li>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>

      <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="VAE_Headgear_Fedora"]/apparel/layers</xpath>
        <value>
          <layers>
            <li>Overhead</li>
            <li>EyeCover</li>
          </layers>
        </value>
      </Operation>
    </caseFalse>
  </Operation>
    
</Patch>
