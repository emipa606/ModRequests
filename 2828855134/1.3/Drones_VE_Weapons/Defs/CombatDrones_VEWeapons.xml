<?xml version="1.0" encoding="utf-8" ?>
<Defs>
<!--charge shotgun-->
	<AbilityDef>
		<defName>BIE_CombatDrone_ChargeShotgun</defName>
		<label>combat drone support</label>
		<description>Activate combat drones for extra firepower.</description>
		<descriptionHyperlinks>
			<HediffDef>BIE_CombatDrone_ChargeShotgun</HediffDef>
		</descriptionHyperlinks>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>UI/BIE_CombatDrone_AbilityIcon</iconPath>
		<targetRequired>False</targetRequired>
		<groupDef>BIE_OnePerDay</groupDef>
		<warmupMoteSocialSymbol>UI/BIE_CombatDrone_AbilityIcon</warmupMoteSocialSymbol>
		<stunTargetWhileCasting>false</stunTargetWhileCasting>
		<showPsycastEffects>False</showPsycastEffects>
		<displayGizmoWhileUndrafted>False</displayGizmoWhileUndrafted>
		<disableGizmoWhileUndrafted>true</disableGizmoWhileUndrafted>
		<hotKey>Misc12</hotKey>
		<uiOrder>2</uiOrder>
		<warmupSound>OrbitalTargeter_Aiming</warmupSound>

		<statBases>
			<Ability_Duration>125</Ability_Duration>
		</statBases>
		<verbProperties>
			<verbClass>Verb_CastAbilityTouch</verbClass>
			<drawAimPie>False</drawAimPie>
			<range>-1</range>
			<warmupTime>2.0</warmupTime>
			<targetParams>
				<canTargetSelf>true</canTargetSelf>
				<canTargetPawns>false</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
				<canTargetAnimals>false</canTargetAnimals>
				<canTargetHumans>false</canTargetHumans>
				<canTargetMechs>false</canTargetMechs>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>BIE_CombatDrone_ChargeShotgun</hediffDef>
				<onlyBrain>True</onlyBrain>
				<applicableToMechs>False</applicableToMechs>
				<onlyApplyToSelf>true</onlyApplyToSelf>
			</li>
		</comps>
	</AbilityDef>

	<HediffDef ParentName="ImplantHediffBase">
		<defName>BIE_CombatDrone_ChargeShotgun_Implant</defName>
		<defaultLabelColor>(161,206,243)</defaultLabelColor>
		<label>charge shotgun combat drone pack</label>
		<description>Installed charge shotgun combat drone pack.</description>
		<descriptionHyperlinks>
			<HediffDef>BIE_CombatDrone_ChargeShotgun</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeShotgun</AbilityDef>
			<ThingDef>BIE_CombatDrone_ChargeShotgun_Implant</ThingDef>
			<RecipeDef>Install_BIE_CombatDrone_ChargeShotgun_Implant</RecipeDef>
		</descriptionHyperlinks>
		<spawnThingOnRemoved>BIE_CombatDrone_ChargeShotgun_Implant</spawnThingOnRemoved>
		<stages>
		</stages>
		<comps>
			<li Class="HediffCompProperties_GiveAbility">
				<abilityDef>BIE_CombatDrone_ChargeShotgun</abilityDef>
			</li>
		</comps>
		<tags>
			<li>BIE_CombatDroneModule</li>
		</tags>
	</HediffDef>

	<HediffDef ParentName="CD_SpacerCombatDroneImplantHediffBase">
		<defName>BIE_CombatDrone_ChargeShotgun</defName>
		<label>charge shotgun combat drone support</label>
		<labelNoun>a charge shotgun combat drone</labelNoun>
		<description>An installed charge shotgun combat drone.</description>
		<descriptionHyperlinks>
			<AbilityDef>BIE_CombatDrone_ChargeShotgun</AbilityDef>
			<ThingDef>BIE_CombatDrone_ChargeShotgun_Implant</ThingDef>
		</descriptionHyperlinks>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<showRemainingTime>true</showRemainingTime>
			</li>
			<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
				<verbs>
					<li>

						<label>charge shotgun combat drone (primary)</label>
						<onlyManualCast>false</onlyManualCast>
						<targetParams>
							<canTargetLocations>true</canTargetLocations>
						</targetParams>


						<verbClass>Verb_Shoot</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>VWE_Bullet_ChargeShotgun</defaultProjectile>
						<warmupTime>0.9</warmupTime>
						<range>14.9</range>
						<burstShotCount>2</burstShotCount>
						<soundCast>VWE_Shot_ChargeShotgun</soundCast>
						<soundCastTail>GunTail_Heavy</soundCastTail>
						<muzzleFlashScale>9</muzzleFlashScale>
						<accuracyTouch>0.7</accuracyTouch>
						<accuracyShort>0.67</accuracyShort>
						<accuracyMedium>0.57</accuracyMedium>
						<accuracyLong>0.54</accuracyLong>
						<defaultCooldownTime>1.1</defaultCooldownTime>
					</li>
					<li>

						<label>charge shotgun combat drone (secondary)</label>
						<onlyManualCast>false</onlyManualCast>
						<targetParams>
							<canTargetLocations>true</canTargetLocations>
						</targetParams>


						<verbClass>Verb_Shoot</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>VWE_Bullet_ChargeShotgun</defaultProjectile>
						<warmupTime>0.9</warmupTime>
						<range>14.9</range>
						<burstShotCount>2</burstShotCount>
						<soundCast>VWE_Shot_ChargeShotgun</soundCast>
						<soundCastTail>GunTail_Heavy</soundCastTail>
						<muzzleFlashScale>9</muzzleFlashScale>
						<accuracyTouch>0.7</accuracyTouch>
						<accuracyShort>0.67</accuracyShort>
						<accuracyMedium>0.57</accuracyMedium>
						<accuracyLong>0.54</accuracyLong>
						<defaultCooldownTime>1.1</defaultCooldownTime>
					</li>

				</verbs>
				<verbProps>
					<li>
						<label>charge shotgun combat drone (primary)</label>
						<draw>true</draw>
						<canBeToggled>true</canBeToggled>
						<graphic>
							<texPath>Things/Drones/CD_DroneShotgun</texPath>
							<graphicClass>Graphic_Single</graphicClass>
							<shaderType>CutoutFlying</shaderType>
						</graphic>
						<canFireIndependently>true</canFireIndependently>
						<humanAsDefault>true</humanAsDefault>
						<specificPositions>
							<li>
								<defName>Human</defName>
								<Default>(0,0)</Default>
								<Up>(-0.75,0.35)</Up>
								<Down>(-0.75,0.35)</Down>
								<Right>(-0.75,0.35)</Right>
								<Left>(-0.75,0.35)</Left>
							</li>
						</specificPositions>
					</li>
					<li>
						<label>charge shotgun combat drone (secondary)</label>
						<draw>true</draw>
						<canBeToggled>true</canBeToggled>
						<graphic>
							<texPath>Things/Drones/CD_DroneShotgun</texPath>
							<graphicClass>Graphic_Single</graphicClass>
							<shaderType>CutoutFlying</shaderType>
						</graphic>
						<canFireIndependently>true</canFireIndependently>
						<humanAsDefault>true</humanAsDefault>
						<specificPositions>
							<li>
								<defName>Human</defName>
								<Default>(0,0)</Default>
								<Up>(0.75,0.35)</Up>
								<Down>(0.75,0.35)</Down>
								<Right>(0.75,0.35)</Right>
								<Left>(0.75,0.35)</Left>
							</li>
						</specificPositions>
					</li>
				</verbProps>
			</li>
		</comps>
	</HediffDef>

	<RecipeDef ParentName="SurgeryInstallImplantBase">
		<defName>Install_BIE_CombatDrone_ChargeShotgun_Implant</defName>
		<label>install charge shotgun combat drone pack</label>
		<description>Install a charge shotgun combat drone pack.</description>
		<descriptionHyperlinks>
			<ThingDef>BIE_CombatDrone_ChargeShotgun_Implant</ThingDef>
			<HediffDef>BIE_CombatDrone_ChargeShotgun</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeShotgun_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeShotgun</AbilityDef>
		</descriptionHyperlinks>
		<jobString>Installing charge shotgun combat drone pack.</jobString>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>BIE_CombatDrone_ChargeShotgun_Implant</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>BIE_CombatDrone_ChargeShotgun_Implant</li>
			</thingDefs>
		</fixedIngredientFilter>
		<appliedOnFixedBodyParts>
			<li>Torso</li>
		</appliedOnFixedBodyParts>
		<incompatibleWithHediffTags>
			<li>BIE_CombatDroneModule</li>
		</incompatibleWithHediffTags>
		<addsHediff>BIE_CombatDrone_ChargeShotgun_Implant</addsHediff>
	</RecipeDef>
	<RecipeDef ParentName="SurgeryRemoveImplantBase">
		<defName>Remove_BIE_CombatDrone_ChargeShotgun_Implant</defName>
		<label>remove charge shotgun combat drone pack</label>
		<description>remove a charge shotgun combat drone pack.</description>
		<descriptionHyperlinks>
			<ThingDef>BIE_CombatDrone_ChargeShotgun_Implant</ThingDef>
			<HediffDef>BIE_CombatDrone_ChargeShotgun</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeShotgun_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeShotgun</AbilityDef>
		</descriptionHyperlinks>
		<jobString>Removing charge shotgun combat drone pack.</jobString>
		<removesHediff>BIE_CombatDrone_ChargeShotgun_Implant</removesHediff>

	</RecipeDef>

	<ThingDef ParentName="CD_SpacerCombatDroneImplantBase_Medium">
		<defName>BIE_CombatDrone_ChargeShotgun_Implant</defName>
		<label>charge shotgun combat drone pack</label>
		<description>A case containing a pair of combat drones and a chip meant to be installed into a person’s torso. Once the chip has been installed, the drones will follow the chip’s host. \n\nWhen active, the drone will attack any enemy within range similarly to a standard turret, but it can also follow simple orders from the host.\n\nThe drones have short battery life, they can be active for 3 hours and after that a charging period that takes roughly a day is required.\n\nThis particular model is in the standard size class and is quipped with a modified charge shotgun.</description>
		<descriptionHyperlinks>
			<RecipeDef>Install_BIE_CombatDrone_ChargeShotgun_Implant</RecipeDef>
			<HediffDef>BIE_CombatDrone_ChargeShotgun</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeShotgun_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeShotgun</AbilityDef>
		</descriptionHyperlinks>
		<researchPrerequisites>
			<li>ChargedShot</li>
		</researchPrerequisites>
		<costList>
			<!--
			<Plasteel>30</Plasteel>
			<ComponentSpacer>3</ComponentSpacer>
			<Steel>20</Steel>
			<Uranium>8</Uranium>
			&base cost of a combat drone, add the weapon cost on top later^
			-->
			<Plasteel>80</Plasteel>
			<ComponentSpacer>5</ComponentSpacer>
			<Steel>20</Steel>
			<Uranium>8</Uranium>
		</costList>
		<thingSetMakerTags>
			<li>RewardStandardMidFreq</li>
		</thingSetMakerTags>
		<statBases>
			<Mass>5</Mass>
		</statBases>
	</ThingDef>

	<!--charge sniper rifle-->
	<AbilityDef>
		<defName>BIE_CombatDrone_ChargeSniperRifle</defName>
		<label>combat drone support</label>
		<description>Activate combat drones for extra firepower.</description>
		<descriptionHyperlinks>
			<HediffDef>BIE_CombatDrone_ChargeSniperRifle</HediffDef>
		</descriptionHyperlinks>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>UI/BIE_CombatDrone_AbilityIcon</iconPath>
		<targetRequired>False</targetRequired>
		<groupDef>BIE_OnePerDay</groupDef>
		<warmupMoteSocialSymbol>UI/BIE_CombatDrone_AbilityIcon</warmupMoteSocialSymbol>
		<stunTargetWhileCasting>false</stunTargetWhileCasting>
		<showPsycastEffects>False</showPsycastEffects>
		<displayGizmoWhileUndrafted>False</displayGizmoWhileUndrafted>
		<disableGizmoWhileUndrafted>true</disableGizmoWhileUndrafted>
		<hotKey>Misc12</hotKey>
		<uiOrder>2</uiOrder>
		<warmupSound>OrbitalTargeter_Aiming</warmupSound>

		<statBases>
			<Ability_Duration>125</Ability_Duration>
		</statBases>
		<verbProperties>
			<verbClass>Verb_CastAbilityTouch</verbClass>
			<drawAimPie>False</drawAimPie>
			<range>-1</range>
			<warmupTime>2.0</warmupTime>
			<targetParams>
				<canTargetSelf>true</canTargetSelf>
				<canTargetPawns>false</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
				<canTargetAnimals>false</canTargetAnimals>
				<canTargetHumans>false</canTargetHumans>
				<canTargetMechs>false</canTargetMechs>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>BIE_CombatDrone_ChargeSniperRifle</hediffDef>
				<onlyBrain>True</onlyBrain>
				<applicableToMechs>False</applicableToMechs>
				<onlyApplyToSelf>true</onlyApplyToSelf>
			</li>
		</comps>
	</AbilityDef>

	<HediffDef ParentName="ImplantHediffBase">
		<defName>BIE_CombatDrone_ChargeSniperRifle_Implant</defName>
		<defaultLabelColor>(161,206,243)</defaultLabelColor>
		<label>charge sniper rifle combat drone pack</label>
		<description>Installed charge sniper rifle combat drone pack.</description>
		<descriptionHyperlinks>
			<HediffDef>BIE_CombatDrone_ChargeSniperRifle</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeSniperRifle</AbilityDef>
			<ThingDef>BIE_CombatDrone_ChargeSniperRifle_Implant</ThingDef>
			<RecipeDef>Install_BIE_CombatDrone_ChargeSniperRifle_Implant</RecipeDef>
		</descriptionHyperlinks>
		<spawnThingOnRemoved>BIE_CombatDrone_ChargeSniperRifle_Implant</spawnThingOnRemoved>
		<stages>
		</stages>
		<comps>
			<li Class="HediffCompProperties_GiveAbility">
				<abilityDef>BIE_CombatDrone_ChargeSniperRifle</abilityDef>
			</li>
		</comps>
		<tags>
			<li>BIE_CombatDroneModule</li>
		</tags>
	</HediffDef>

	<HediffDef ParentName="CD_SpacerCombatDroneImplantHediffBase">
		<defName>BIE_CombatDrone_ChargeSniperRifle</defName>
		<label>charge sniper rifle combat drone support</label>
		<labelNoun>a charge sniper rifle combat drone</labelNoun>
		<description>An installed charge sniper rifle combat drone.</description>
		<descriptionHyperlinks>
			<AbilityDef>BIE_CombatDrone_ChargeSniperRifle</AbilityDef>
			<ThingDef>BIE_CombatDrone_ChargeSniperRifle_Implant</ThingDef>
		</descriptionHyperlinks>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<showRemainingTime>true</showRemainingTime>
			</li>
			<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
				<verbs>
					<li>

						<label>charge sniper rifle combat drone (primary)</label>
						<onlyManualCast>false</onlyManualCast>
						<targetParams>
							<canTargetLocations>true</canTargetLocations>
						</targetParams>

						<verbClass>Verb_Shoot</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>VWE_Bullet_ChargeSniperRifle</defaultProjectile>
						<warmupTime>3.0</warmupTime>
						<range>39.9</range>
						<ticksBetweenBurstShots>0</ticksBetweenBurstShots>
						<burstShotCount>3</burstShotCount>
						<soundCast>VWE_Shot_ChargeSniperRifle</soundCast>
						<soundCastTail>GunTail_Medium</soundCastTail>
						<muzzleFlashScale>9</muzzleFlashScale>
						<accuracyTouch>0.70</accuracyTouch>
						<accuracyShort>0.73</accuracyShort>
						<accuracyMedium>0.86</accuracyMedium>
						<accuracyLong>0.88</accuracyLong>
						<defaultCooldownTime>2.3</defaultCooldownTime>
					</li>
					<li>

						<label>charge sniper rifle combat drone (secondary)</label>
						<onlyManualCast>false</onlyManualCast>
						<targetParams>
							<canTargetLocations>true</canTargetLocations>
						</targetParams>

						<verbClass>Verb_Shoot</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>VWE_Bullet_ChargeSniperRifle</defaultProjectile>
						<warmupTime>3.0</warmupTime>
						<range>39.9</range>
						<ticksBetweenBurstShots>0</ticksBetweenBurstShots>
						<burstShotCount>3</burstShotCount>
						<soundCast>VWE_Shot_ChargeSniperRifle</soundCast>
						<soundCastTail>GunTail_Medium</soundCastTail>
						<muzzleFlashScale>9</muzzleFlashScale>
						<accuracyTouch>0.70</accuracyTouch>
						<accuracyShort>0.73</accuracyShort>
						<accuracyMedium>0.86</accuracyMedium>
						<accuracyLong>0.88</accuracyLong>
						<defaultCooldownTime>2.3</defaultCooldownTime>
					</li>

				</verbs>
				<verbProps>
					<li>
						<label>charge sniper rifle combat drone (primary)</label>
						<draw>true</draw>
						<canBeToggled>true</canBeToggled>
						<graphic>
							<texPath>Things/Drones/CD_DroneSniper</texPath>
							<graphicClass>Graphic_Single</graphicClass>
							<shaderType>CutoutFlying</shaderType>
						</graphic>
						<canFireIndependently>true</canFireIndependently>
						<humanAsDefault>true</humanAsDefault>
						<specificPositions>
							<li>
								<defName>Human</defName>
								<Default>(0,0)</Default>
								<Up>(-0.75,0.35)</Up>
								<Down>(-0.75,0.35)</Down>
								<Right>(-0.75,0.35)</Right>
								<Left>(-0.75,0.35)</Left>
							</li>
						</specificPositions>
					</li>
					<li>
						<label>charge sniper rifle combat drone (secondary)</label>
						<draw>true</draw>
						<canBeToggled>true</canBeToggled>
						<graphic>
							<texPath>Things/Drones/CD_DroneSniper</texPath>
							<graphicClass>Graphic_Single</graphicClass>
							<shaderType>CutoutFlying</shaderType>
						</graphic>
						<canFireIndependently>true</canFireIndependently>
						<humanAsDefault>true</humanAsDefault>
						<specificPositions>
							<li>
								<defName>Human</defName>
								<Default>(0,0)</Default>
								<Up>(0.75,0.35)</Up>
								<Down>(0.75,0.35)</Down>
								<Right>(0.75,0.35)</Right>
								<Left>(0.75,0.35)</Left>
							</li>
						</specificPositions>
					</li>
				</verbProps>
			</li>
		</comps>
	</HediffDef>

	<RecipeDef ParentName="SurgeryInstallImplantBase">
		<defName>Install_BIE_CombatDrone_ChargeSniperRifle_Implant</defName>
		<label>install charge sniper rifle combat drone pack</label>
		<description>Install a charge sniper rifle combat drone pack.</description>
		<descriptionHyperlinks>
			<ThingDef>BIE_CombatDrone_ChargeSniperRifle_Implant</ThingDef>
			<HediffDef>BIE_CombatDrone_ChargeSniperRifle</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeSniperRifle_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeSniperRifle</AbilityDef>
		</descriptionHyperlinks>
		<jobString>Installing charge sniper rifle combat drone pack.</jobString>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>BIE_CombatDrone_ChargeSniperRifle_Implant</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>BIE_CombatDrone_ChargeSniperRifle_Implant</li>
			</thingDefs>
		</fixedIngredientFilter>
		<appliedOnFixedBodyParts>
			<li>Torso</li>
		</appliedOnFixedBodyParts>
		<incompatibleWithHediffTags>
			<li>BIE_CombatDroneModule</li>
		</incompatibleWithHediffTags>
		<addsHediff>BIE_CombatDrone_ChargeSniperRifle_Implant</addsHediff>
	</RecipeDef>
	<RecipeDef ParentName="SurgeryRemoveImplantBase">
		<defName>Remove_BIE_CombatDrone_ChargeSniperRifle_Implant</defName>
		<label>remove charge sniper rifle combat drone pack</label>
		<description>remove a charge sniper rifle combat drone pack.</description>
		<descriptionHyperlinks>
			<ThingDef>BIE_CombatDrone_ChargeSniperRifle_Implant</ThingDef>
			<HediffDef>BIE_CombatDrone_ChargeSniperRifle</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeSniperRifle_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeSniperRifle</AbilityDef>
		</descriptionHyperlinks>
		<jobString>Removing charge sniper rifle combat drone pack.</jobString>
		<removesHediff>BIE_CombatDrone_ChargeSniperRifle_Implant</removesHediff>

	</RecipeDef>

	<ThingDef ParentName="CD_SpacerCombatDroneImplantBase_Medium">
		<defName>BIE_CombatDrone_ChargeSniperRifle_Implant</defName>
		<label>charge sniper rifle combat drone pack</label>
		<description>A case containing a pair of combat drones and a chip meant to be installed into a person’s torso. Once the chip has been installed, the drones will follow the chip’s host. \n\nWhen active, the drone will attack any enemy within range similarly to a standard turret, but it can also follow simple orders from the host.\n\nThe drones have short battery life, they can be active for 3 hours and after that a charging period that takes roughly a day is required.\n\nThis particular model is in the standard size class and is quipped with a modified charge sniper rifle.</description>
		<descriptionHyperlinks>
			<RecipeDef>Install_BIE_CombatDrone_ChargeSniperRifle_Implant</RecipeDef>
			<HediffDef>BIE_CombatDrone_ChargeSniperRifle</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeSniperRifle_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeSniperRifle</AbilityDef>
		</descriptionHyperlinks>
		<researchPrerequisites>
			<li>ChargedShot</li>
		</researchPrerequisites>
		<costList>
			<!--
			<Plasteel>30</Plasteel>
			<ComponentSpacer>3</ComponentSpacer>
			<Steel>20</Steel>
			<Uranium>8</Uranium>
			&base cost of a combat drone, add the weapon cost on top later^
			-->
			<Plasteel>80</Plasteel>
			<ComponentSpacer>5</ComponentSpacer>
			<Steel>20</Steel>
			<Uranium>8</Uranium>
		</costList>
		<thingSetMakerTags>
			<li>RewardStandardMidFreq</li>
		</thingSetMakerTags>
		<statBases>
			<Mass>5</Mass>
		</statBases>
	</ThingDef>

<!--charge minigun-->
	<AbilityDef>
		<defName>BIE_CombatDrone_ChargeMinigun</defName>
		<label>combat drone support</label>
		<description>Activate combat drones for extra firepower.</description>
		<descriptionHyperlinks>
			<HediffDef>BIE_CombatDrone_ChargeMinigun</HediffDef>
		</descriptionHyperlinks>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>UI/BIE_CombatDrone_AbilityIcon</iconPath>
		<targetRequired>False</targetRequired>
		<groupDef>BIE_OnePerDay</groupDef>
		<warmupMoteSocialSymbol>UI/BIE_CombatDrone_AbilityIcon</warmupMoteSocialSymbol>
		<stunTargetWhileCasting>false</stunTargetWhileCasting>
		<showPsycastEffects>False</showPsycastEffects>
		<displayGizmoWhileUndrafted>False</displayGizmoWhileUndrafted>
		<disableGizmoWhileUndrafted>true</disableGizmoWhileUndrafted>
		<hotKey>Misc12</hotKey>
		<uiOrder>2</uiOrder>
		<warmupSound>OrbitalTargeter_Aiming</warmupSound>

		<statBases>
			<Ability_Duration>125</Ability_Duration>
		</statBases>
		<verbProperties>
			<verbClass>Verb_CastAbilityTouch</verbClass>
			<drawAimPie>False</drawAimPie>
			<range>-1</range>
			<warmupTime>3.0</warmupTime>
			<targetParams>
				<canTargetSelf>true</canTargetSelf>
				<canTargetPawns>false</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
				<canTargetAnimals>false</canTargetAnimals>
				<canTargetHumans>false</canTargetHumans>
				<canTargetMechs>false</canTargetMechs>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>BIE_CombatDrone_ChargeMinigun</hediffDef>
				<onlyBrain>True</onlyBrain>
				<applicableToMechs>False</applicableToMechs>
				<onlyApplyToSelf>true</onlyApplyToSelf>
			</li>
		</comps>
	</AbilityDef>

	<HediffDef ParentName="ImplantHediffBase">
		<defName>BIE_CombatDrone_ChargeMinigun_Implant</defName>
		<defaultLabelColor>(161,206,243)</defaultLabelColor>
		<label>charge minigun combat drone pack</label>
		<description>Installed charge minigun combat drone pack.</description>
		<descriptionHyperlinks>
			<HediffDef>BIE_CombatDrone_ChargeMinigun</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeMinigun</AbilityDef>
			<ThingDef>BIE_CombatDrone_ChargeMinigun_Implant</ThingDef>
			<RecipeDef>Install_BIE_CombatDrone_ChargeMinigun_Implant</RecipeDef>
		</descriptionHyperlinks>
		<spawnThingOnRemoved>BIE_CombatDrone_ChargeMinigun_Implant</spawnThingOnRemoved>
		<stages>
		</stages>
		<comps>
			<li Class="HediffCompProperties_GiveAbility">
				<abilityDef>BIE_CombatDrone_ChargeMinigun</abilityDef>
			</li>
		</comps>
		<tags>
			<li>BIE_CombatDroneModule</li>
		</tags>
	</HediffDef>

	<HediffDef ParentName="CD_SpacerCombatDroneImplantHediffBase">
		<defName>BIE_CombatDrone_ChargeMinigun</defName>
		<label>charge minigun combat drone support</label>
		<labelNoun>a charge minigun combat drone</labelNoun>
		<description>An installed charge minigun combat drone.</description>
		<descriptionHyperlinks>
			<AbilityDef>BIE_CombatDrone_ChargeMinigun</AbilityDef>
			<ThingDef>BIE_CombatDrone_ChargeMinigun_Implant</ThingDef>
		</descriptionHyperlinks>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<showRemainingTime>true</showRemainingTime>
			</li>
			<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
				<verbs>
					<li>

						<label>charge minigun combat drone (primary)</label>
							<onlyManualCast>false</onlyManualCast>
						<targetParams>
							<canTargetLocations>true</canTargetLocations>
						</targetParams>

						<verbClass>Verb_Shoot</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>VWE_Bullet_ChargeMinigun</defaultProjectile>
						<warmupTime>2.8</warmupTime>
						<minRange>1.5</minRange>
						<range>31.9</range>
						<accuracyTouch>0.20</accuracyTouch>
						<accuracyShort>0.30</accuracyShort>
						<accuracyMedium>0.30</accuracyMedium>
						<accuracyLong>0.18</accuracyLong>
						<ticksBetweenBurstShots>4</ticksBetweenBurstShots>
						<burstShotCount>30</burstShotCount>
						<soundCast>VWE_Shot_ChargeMinigun</soundCast>
						<soundCastTail>GunTail_Medium</soundCastTail>
						<muzzleFlashScale>9</muzzleFlashScale>
						<defaultCooldownTime>2.8</defaultCooldownTime>
					</li>
					<li>

						<label>charge minigun combat drone (secondary)</label>
						<onlyManualCast>false</onlyManualCast>
						<targetParams>
							<canTargetLocations>true</canTargetLocations>
						</targetParams>

						<verbClass>Verb_Shoot</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>VWE_Bullet_ChargeMinigun</defaultProjectile>
						<warmupTime>2.8</warmupTime>
						<minRange>1.5</minRange>
						<range>31.9</range>
						<accuracyTouch>0.20</accuracyTouch>
						<accuracyShort>0.30</accuracyShort>
						<accuracyMedium>0.30</accuracyMedium>
						<accuracyLong>0.18</accuracyLong>
						<ticksBetweenBurstShots>4</ticksBetweenBurstShots>
						<burstShotCount>30</burstShotCount>
						<soundCast>VWE_Shot_ChargeMinigun</soundCast>
						<soundCastTail>GunTail_Medium</soundCastTail>
						<muzzleFlashScale>9</muzzleFlashScale>
						<defaultCooldownTime>2.8</defaultCooldownTime>
					</li>

				</verbs>
				<verbProps>
					<li>
						<label>charge minigun combat drone (primary)</label>
						<draw>true</draw>
						<canBeToggled>true</canBeToggled>
						<graphic>
							<texPath>Things/Drones/CD_DroneMinigun</texPath>
							<graphicClass>Graphic_Single</graphicClass>
							<shaderType>CutoutFlying</shaderType>
						</graphic>
						<canFireIndependently>true</canFireIndependently>
						<humanAsDefault>true</humanAsDefault>
						<specificPositions>
							<li>
								<defName>Human</defName>
								<Default>(0,0)</Default>
								<Up>(-0.75,0.35)</Up>
								<Down>(-0.75,0.35)</Down>
								<Right>(-0.75,0.35)</Right>
								<Left>(-0.75,0.35)</Left>
							</li>
						</specificPositions>
					</li>
					<li>
						<label>charge minigun combat drone (secondary)</label>
						<draw>true</draw>
						<canBeToggled>true</canBeToggled>
						<graphic>
							<texPath>Things/Drones/CD_DroneMinigun</texPath>
							<graphicClass>Graphic_Single</graphicClass>
							<shaderType>CutoutFlying</shaderType>
						</graphic>
						<canFireIndependently>true</canFireIndependently>
						<humanAsDefault>true</humanAsDefault>
						<specificPositions>
							<li>
								<defName>Human</defName>
								<Default>(0,0)</Default>
								<Up>(0.75,0.35)</Up>
								<Down>(0.75,0.35)</Down>
								<Right>(0.75,0.35)</Right>
								<Left>(0.75,0.35)</Left>
							</li>
						</specificPositions>
					</li>
				</verbProps>
			</li>
		</comps>
	</HediffDef>

	<RecipeDef ParentName="SurgeryInstallImplantBase">
		<defName>Install_BIE_CombatDrone_ChargeMinigun_Implant</defName>
		<label>install charge minigun combat drone pack</label>
		<description>Install a charge minigun combat drone pack.</description>
		<descriptionHyperlinks>
			<ThingDef>BIE_CombatDrone_ChargeMinigun_Implant</ThingDef>
			<HediffDef>BIE_CombatDrone_ChargeMinigun</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeMinigun_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeMinigun</AbilityDef>
		</descriptionHyperlinks>
		<jobString>Installing charge minigun combat drone pack.</jobString>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>BIE_CombatDrone_ChargeMinigun_Implant</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>BIE_CombatDrone_ChargeMinigun_Implant</li>
			</thingDefs>
		</fixedIngredientFilter>
		<appliedOnFixedBodyParts>
			<li>Torso</li>
		</appliedOnFixedBodyParts>
		<incompatibleWithHediffTags>
			<li>BIE_CombatDroneModule</li>
		</incompatibleWithHediffTags>
		<addsHediff>BIE_CombatDrone_ChargeMinigun_Implant</addsHediff>
	</RecipeDef>
	<RecipeDef ParentName="SurgeryRemoveImplantBase">
		<defName>Remove_BIE_CombatDrone_ChargeMinigun_Implant</defName>
		<label>remove charge minigun combat drone pack</label>
		<description>remove a charge minigun combat drone pack.</description>
		<descriptionHyperlinks>
			<ThingDef>BIE_CombatDrone_ChargeMinigun_Implant</ThingDef>
			<HediffDef>BIE_CombatDrone_ChargeMinigun</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeMinigun_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeMinigun</AbilityDef>
		</descriptionHyperlinks>
		<jobString>Removing charge minigun combat drone pack.</jobString>
		<removesHediff>BIE_CombatDrone_ChargeMinigun_Implant</removesHediff>

	</RecipeDef>

	<ThingDef ParentName="CD_SpacerCombatDroneImplantBase_Medium">
		<defName>BIE_CombatDrone_ChargeMinigun_Implant</defName>
		<label>charge minigun combat drone pack</label>
		<description>A case containing a pair of combat drones and a chip meant to be installed into a person’s torso. Once the chip has been installed, the drones will follow the chip’s host. \n\nWhen active, the drone will attack any enemy within range similarly to a standard turret, but it can also follow simple orders from the host.\n\nThe drones have short battery life, they can be active for 3 hours and after that a charging period that takes roughly a day is required.\n\nThis particular model is in the standard size class and is quipped with a modified charge minigun.</description>
		<descriptionHyperlinks>
			<RecipeDef>Install_BIE_CombatDrone_ChargeMinigun_Implant</RecipeDef>
			<HediffDef>BIE_CombatDrone_ChargeMinigun</HediffDef>
			<HediffDef>BIE_CombatDrone_ChargeMinigun_Implant</HediffDef>
			<AbilityDef>BIE_CombatDrone_ChargeMinigun</AbilityDef>
		</descriptionHyperlinks>
		<researchPrerequisites>
			<li>ChargedShot</li>
		</researchPrerequisites>
		<costList>
			<!--
			<Plasteel>30</Plasteel>
			<ComponentSpacer>3</ComponentSpacer>
			<Steel>20</Steel>
			<Uranium>8</Uranium>
			&base cost of a combat drone, add the weapon cost on top later^
			-->
			<Plasteel>190</Plasteel>
			<ComponentSpacer>13</ComponentSpacer>
			<Steel>20</Steel>
			<Uranium>8</Uranium>
		</costList>
		<thingSetMakerTags>
			<li>RewardStandardMidFreq</li>
		</thingSetMakerTags>
		<statBases>
			<Mass>5</Mass>
		</statBases>
	</ThingDef>
</Defs>
