<?xml version="1.0" encoding="utf-8"?>

<Defs>
	<HediffDef>
		<defName>REDS_Spirit</defName>
		<label>spirit</label>
		<description>This person is temporally linked to Elysium. Part of their essence is bound to another dimension. Fatal trauma will forcibly return them to their pocket dimension. After recovering for some time, they'll skip back to the colony.</description>
		<hediffClass>REDSpirit.Hediff_Spirit</hediffClass>
		<scenarioCanAdd>false</scenarioCanAdd>
		<maxSeverity>1.0</maxSeverity>
		<countsAsAddedPartOrImplant>false</countsAsAddedPartOrImplant>
		<everCurableByItem>false</everCurableByItem>
		<keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>
        <allowedMeditationFocusTypes>
			<li>Natural</li>
		</allowedMeditationFocusTypes>			
	</HediffDef>
	
	<!--<HediffDef Name="REDS_SpiritInvisibilityBase" Abstract="True">
		<label>Spirit Form</label>
		<hediffClass>HediffWithComps</hediffClass>
		<description>This person is experiencing a rapidly decaying mental state. Within a few days, they will be incapable of most work. With sufficient technology, like a healer mech serum, the condition can still be reversed. However, it will soon become permanent.</description>
		<isBad>false</isBad>
		<duplicationAllowed>false</duplicationAllowed>
	  </HediffDef>-->
	
	<HediffDef>
		<hediffClass>HediffWithComps</hediffClass>
		<defName>REDS_SpiritInvisibility</defName>
		<label>Ethereal Form</label>
		<description>This person has phase shifted to an ethereal form. Harm will momentarily disrupt their invisibility.</description>
		<isBad>false</isBad>
		<countsAsAddedPartOrImplant>false</countsAsAddedPartOrImplant>
		<everCurableByItem>false</everCurableByItem>
		<keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>	
    <reportStringOverrides>
      <li>
        <jobDef>GotoWander</jobDef>
        <reportString>Wandering and thinking about the stars.</reportString>
      </li>
      <li>
        <jobDef>Wait_Wander</jobDef>
        <reportString>Wandering and thinking about the stars.</reportString>
      </li>
      <li>
        <jobDef>Wait_Asleep</jobDef>
        <reportString>Asleep, dreaming about the stars.</reportString>
      </li>
      <li>
        <jobDef>Meditate</jobDef>
        <reportString>Attuning connection to Elysium.</reportString>
      </li>
      <li>
        <jobDef>Pray</jobDef>
        <reportString>Attuning connection to Elysium.</reportString>
      </li>
      <li MayRequire="Ludeon.RimWorld.Ideology">
        <jobDef>MeditatePray</jobDef>
        <reportString>Attuning connection to Elysium.</reportString>
      </li>
    </reportStringOverrides>
		<disablesNeeds>
			<li>Food</li>
			<li>Comfort</li>
		</disablesNeeds>
		<stages>
			<li>
					<disabledWorkTags>
						<li>Violent</li>
						<li>Intellectual</li>
						<li>Caring</li>
						<li>Firefighting</li>
						<li>ManualDumb</li>
						<li>ManualSkilled</li>
						<li>Artistic</li>
					</disabledWorkTags>
				<statFactors>
					<Flammability>0</Flammability>
					<StaggerDurationFactor>0</StaggerDurationFactor>
					<PawnTrapSpringChance>0</PawnTrapSpringChance>
					<ImmunityGainSpeed>10</ImmunityGainSpeed>
					<IncomingDamageFactor>0.2</IncomingDamageFactor>	
					<PsychicSensitivity>0.1</PsychicSensitivity>					
				</statFactors>			
				<regeneration>100</regeneration>						
			</li>
		</stages>	
		<comps>
		  <li Class="HediffCompProperties_Invisibility">
			<visibleToPlayer>true</visibleToPlayer>
			<fadeDurationTicks>60</fadeDurationTicks>
			<recoverFromDisruptedTicks>90</recoverFromDisruptedTicks>
		  </li>
		  <li Class="HediffCompProperties_DisappearsOnDeath" />
		  <li Class="HediffCompProperties_RemoveIfOtherHediff">
			<hediffs>
			  <li>REDS_SpiritInvisibilityOff</li>
			</hediffs>
		  </li>		  
			<li Class="HediffCompProperties_GiveAbility">
			<abilityDefs>
			<li>REDS_InvisibilityOff</li>
			<li>REDS_Haunt</li>
			<li>REDS_SpiritualHealing</li>
			</abilityDefs>
		  </li>		  
		</comps>
	  </HediffDef>
	  
	<HediffDef>
		<hediffClass>HediffWithComps</hediffClass>
		<defName>REDS_SpiritInvisibilityOff</defName>
		<label>Corporeal Form</label>
		<description>This person has phase shifted to a corporeal form and can physically interact with the world.</description>
		<isBad>false</isBad>
		<countsAsAddedPartOrImplant>false</countsAsAddedPartOrImplant>
		<everCurableByItem>false</everCurableByItem>
		<keepOnBodyPartRestoration>True</keepOnBodyPartRestoration>	
    <reportStringOverrides>
      <li>
        <jobDef>Meditate</jobDef>
        <reportString>Harmonizing connection to Elysium.</reportString>
      </li>
      <li>
        <jobDef>Pray</jobDef>
        <reportString>Harmonizing connection to Elysium.</reportString>
      </li>
      <li MayRequire="Ludeon.RimWorld.Ideology">
        <jobDef>MeditatePray</jobDef>
        <reportString>Harmonizing connection to Elysium.</reportString>
      </li>
    </reportStringOverrides>	
		<comps>
		  <li Class="HediffCompProperties_DisappearsOnDeath" />
		  <li Class="HediffCompProperties_RemoveIfOtherHediff">
			<hediffs>
			  <li>REDS_SpiritInvisibility</li>
			</hediffs>
		  </li>		  
		</comps>		
	  </HediffDef>

	<HediffDef>
		<defName>REDS_EctoplasmBlood</defName>
		<label>ectoplasm</label>
		<description>This person has thin blood with psychic properties called ectoplasm. They have an increased danger of bleeding out and a reduced work speed.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<scenarioCanAdd>false</scenarioCanAdd>
		<maxSeverity>1.0</maxSeverity>
		<isBad>false</isBad>
		<stages>
			<li>
				<minSeverity>0</minSeverity>
				<becomeVisible>false</becomeVisible>
				<totalBleedFactor>2.0</totalBleedFactor>
				<statFactors>
					<WorkSpeedGlobal>0.7</WorkSpeedGlobal>
					
				</statFactors>
			</li>
		</stages>
	</HediffDef>
	
	
	
</Defs>
