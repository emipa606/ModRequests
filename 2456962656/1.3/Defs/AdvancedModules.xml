<Defs>

	<ThingCategoryDef>
		<defName>WTH_AdvancedModules</defName>
		<label>advanced modules</label>
		<parent>Manufactured</parent>
		<resourceReadoutRoot>true</resourceReadoutRoot>
		<iconPath>UI/Icons/ThingCategories/Manufactured</iconPath>
	</ThingCategoryDef>
<!-- Speed -->
	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedSpeedModule</defName>
		<label>advanced speed module</label>
		<description>Can be installed in a mechanoid. Increases the movement speed of the mechanoid at the cost of extra power consumption. This model gives a bigger boost with slightly bigger drawback than its basic counterpart.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<HediffDef>
		<defName>WTH_AdvancedSpeedModule</defName>
		<label>advanced speed module</label>
		<description>advanced speed module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Moving</capacity>
						<offset>0.6</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedSpeedModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<powerRateOffset>0.35</powerRateOffset>
				<spawnChance>0.6</spawnChance>
				<destroyOnDeathChance>0.8</destroyOnDeathChance>
			</li>
		</modExtensions>
	</HediffDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedSpeedModule</defName>
		<label>install advanced speed module</label>
		<description>Install an advanced speed module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid</workerClass>
		<jobString>Installing speed module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedSpeedModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedSpeedModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!-- Cargo -->

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedCargoModule</defName>
		<label>advanced cargo module</label>
		<description>Can be installed in a mechanoid. Increases the carrying capacity of the mechanoid at the cost of a small manipulation penalty. This model gives a bigger boost with slightly bigger drawback than its basic counterpart.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<HediffDef>
		<defName>WTH_AdvancedCargoModule</defName>
		<label>advanced cargo module</label>
		<description>advanced cargo module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>-0.2</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedCargoModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<destroyOnDeathChance>0.7</destroyOnDeathChance>
				<carryingCapacityOffset>2.5</carryingCapacityOffset>
			</li>
		</modExtensions>
	</HediffDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedCargoModule</defName>
		<label>install advanced cargo module</label>
		<description>Install an advanced cargo module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid</workerClass>
		<jobString>Installing cargo module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedCargoModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<hideBodyPartNames>true</hideBodyPartNames>
		<targetsBodyPart>false</targetsBodyPart>
		<addsHediff>WTH_AdvancedCargoModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!-- Optic -->

	<HediffDef>
		<defName>WTH_AdvancedOpticSensorModule</defName>
		<label>advanced optic sensor module</label>
		<description>advanced optic sensor module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Sight</capacity>
						<offset>0.45</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedOpticSensorModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<powerRateOffset>0.2</powerRateOffset>
				<spawnChance>0.6</spawnChance>
				<destroyOnDeathChance>0.8</destroyOnDeathChance>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedOpticSensorModule</defName>
		<label>advanced optic sensor module</label>
		<description>Can be installed in a mechanoid. Improves the sight of the mechanoid at the cost of a small amount of extra power consumption. This model gives a bigger boost with slightly bigger drawback than its basic counterpart.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedOpticSensorModule</defName>
		<label>install advanced optic sensor module</label>
		<description>Install an advanced optic sensor module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid</workerClass>
		<jobString>Installing optic sensor module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedOpticSensorModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>MechanicalHead</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedOpticSensorModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!-- Armor -->

	<HediffDef>
		<defName>WTH_AdvancedArmorModule</defName>
		<label>advanced armor module</label>
		<description>advanced armor module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.35</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedArmorModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<armorOffset>0.75</armorOffset>
				<spawnChance>0.6</spawnChance>
				<destroyOnDeathChance>0.65</destroyOnDeathChance>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedArmorModule</defName>
		<label>advanced armor module</label>
		<description>Can be installed in a mechanoid. Increases the armor(blunt and sharp) of the mechanoid at the cost of movement speed. This model gives a bigger boost with slightly bigger drawback than its basic counterpart.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>1.2</Mass>
			<Flammability>0.5</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedArmorModule</defName>
		<label>install advanced armor module</label>
		<description>Install an advanced armor module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid</workerClass>
		<jobString>Installing advanced armor module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedArmorModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<addsHediff>WTH_AdvancedArmorModule</addsHediff>
		<hideBodyPartNames>true</hideBodyPartNames>
		<targetsBodyPart>false</targetsBodyPart>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!-- Battery expansion -->

	<HediffDef>
		<defName>WTH_AdvancedBatteryExpansionModule</defName>
		<label>Advanced battery expansion</label>
		<description>Advanced battery expansion</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.1</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedBatteryExpansionModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<batteryCapacityOffset>1.5</batteryCapacityOffset>
				<spawnChance>0.6</spawnChance>
				<destroyOnDeathChance>0.75</destroyOnDeathChance>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedBatteryExpansionModule</defName>
		<label>Advanced battery expansion module</label>
		<description>Can be installed in mechanoids to give them extra battery capacity, at the cost of a small movement penalty. This model gives a bigger boost with slightly bigger drawback than its basic counterpart.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>9000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedBatteryExpansionModule</defName>
		<label>install advanced battery expansion module</label>
		<description>Gives the mechanoid extra battery capacity at the cost of a small movement penalty.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid</workerClass>
		<jobString>Modifying mechanoid</jobString>
		<workAmount>3000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.2</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<effectWorking>Repair</effectWorking>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedBatteryExpansionModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedBatteryExpansionModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!--Manipulation-->

	<HediffDef>
		<defName>WTH_AdvancedManipulationModule</defName>
		<label>advanced manipulation module</label>
		<description>advanced manipulation module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>0.5</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedManipulationModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<powerRateOffset>0.35</powerRateOffset>
				<spawnChance>0.12</spawnChance>
				<destroyOnDeathChance>0.8</destroyOnDeathChance>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedManipulationModule</defName>
		<label>advanced manipulation module</label>
		<description>Can be installed in a mechanoid. Increases the precision and speed of the mechanoid at the cost of extra power consumption. This model gives a bigger boost with slightly bigger drawback than its basic counterpart.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedManipulationModule</defName>
		<label>install advanced manipulation module</label>
		<description>Install an advanced manipulation module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid</workerClass>
		<jobString>Installing advanced manipulation module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedManipulationModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedManipulationModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!--Planting-->

	<HediffDef>
		<defName>WTH_AdvancedGrowingModule</defName>
		<label>advanced growing module</label>
		<description>advanced growing module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>-0.1</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.25</offset>
					</li>
				</capMods>
				<statOffsets>
					<PlantWorkSpeed>0.25</PlantWorkSpeed>
				</statOffsets>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedGrowingModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<destroyOnDeathChance>0.65</destroyOnDeathChance>
			</li>
			<li Class="WhatTheHack.DefModExtension_Hediff_WorkModule">
				<workTypes>
					<li>Growing</li>
					<li>PlantCutting</li>
				</workTypes>
				<skillLevel>10</skillLevel>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedGrowingModule</defName>
		<label>advanced growing module</label>
		<description>Can be installed in a mechanoid to make it capable of plant cutting and growing. This model allows the mechanoid to perform the task with higher skill and precision at the cost of decreased movement speed.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedGrowingModule</defName>
		<label>install advanced growing module</label>
		<description>Install an advanced growing module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid_WorkModule</workerClass>
		<jobString>Installing growing module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedGrowingModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedGrowingModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!--Mining-->

	<HediffDef>
		<defName>WTH_AdvancedMiningModule</defName>
		<label>advanced mining module</label>
		<description>advanced mining module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>-0.1</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.25</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedMiningModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<destroyOnDeathChance>0.65</destroyOnDeathChance>
			</li>
			<li Class="WhatTheHack.DefModExtension_Hediff_WorkModule">
				<workTypes>
					<li>Mining</li>
				</workTypes>
				<skillLevel>10</skillLevel>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedMiningModule</defName>
		<label>advanced mining module</label>
		<description>Can be installed in a mechanoid to make it capable of mining. This model allows the mechanoid to perform the task with higher skill and precision at the cost of decreased movement speed.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedMiningModule</defName>
		<label>install advanced mining module</label>
		<description>Install an advanced mining module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid_WorkModule</workerClass>
		<jobString>Installing advanced mining module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedMiningModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedMiningModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!--Construct-->

	<HediffDef>
		<defName>WTH_AdvancedBuildingModule</defName>
		<label>advanced construction module</label>
		<description>advanced construction module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>-0.1</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.25</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Hediff">
				<extraButcherProduct>WTH_AdvancedBuildingModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<destroyOnDeathChance>0.65</destroyOnDeathChance>
			</li>
			<li Class="WhatTheHack.DefModExtension_Hediff_WorkModule">
				<workTypes>
					<li>Construction</li>
				</workTypes>
				<skillLevel>10</skillLevel>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedBuildingModule</defName>
		<label>advanced construction module</label>
		<description>Can be installed in a mechanoid to make it capable of constructing and repairing buildings. This model allows the mechanoid to perform the task with higher skill and precision at the cost of decreased movement speed.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedBuildingModule</defName>
		<label>install advanced construction module</label>
		<description>Install an advanced construction module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid_WorkModule</workerClass>
		<jobString>Installing advanced construction module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedBuildingModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedBuildingModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!--Smith/Machining/Tailoring-->

	<HediffDef>
		<defName>WTH_AdvancedAssemblyModule</defName>
		<label>advanced assembly module</label>
		<description>advanced assembly module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>-0.1</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.25</offset>
					</li>
				</capMods>
			</li>
		</stages>
		
		<modExtensions>
			<li Class="WhatTheHack.DefModextension_Hediff">
				<extraButcherProduct>WTH_AdvancedAssemblyModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<destroyOnDeathChance>0.65</destroyOnDeathChance>
			</li>
			<li Class="WhatTheHack.DefModExtension_Hediff_WorkModule">
				<workTypes>
					<li>Smithing</li>
					<li>Tailoring</li>
				</workTypes>
				<skillLevel>10</skillLevel>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedAssemblyModule</defName>
		<label>advanced assembly module</label>
		<description>Can be installed in a mechanoid to make it capable of machining, smithing and tailoring. This model allows the mechanoid to perform the task with higher skill and precision at the cost of decreased movement speed.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedAssemblyModule</defName>
		<label>install advanced assembly module</label>
		<description>Install an advanced assembly module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid_WorkModule</workerClass>
		<jobString>Installing advanced construction module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedAssemblyModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedAssemblyModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	
	</RecipeDef>

	<!--Research-->

	<HediffDef>
		<defName>WTH_AdvancedResearchModule</defName>
		<label>advanced research module</label>
		<description>advanced research module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>-0.1</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.25</offset>
					</li>
				</capMods>
			</li>
		</stages>
		
		<modExtensions>
			<li Class="WhatTheHack.DefModextension_Hediff">
				<extraButcherProduct>WTH_ResearchModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<destroyOnDeathChance>0.65</destroyOnDeathChance>
			</li>
			<li Class="WhatTheHack.DefModExtension_Hediff_WorkModule">
				<workTypes>
					<li>Research</li>
				</workTypes>
				<skillLevel>10</skillLevel>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedResearchModule</defName>
		<label>advanced research module</label>
		<description>Can be installed in a mechanoid to make it capable of researching and scanning with the speed and efficiency of a somewhat skilled scientist. This model allows the mechanoid to perform the task with higher skill and precision at the cost of decreased movement speed.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedResearchModule</defName>
		<label>install advanced research module</label>
		<description>Install an advanced research module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid_WorkModule</workerClass>
		<jobString>Installing advanced research module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedResearchModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedResearchModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>
	</RecipeDef>

	<!--Cooking-->

	<HediffDef>
		<defName>WTH_AdvancedCookingModule</defName>
		<label>advanced cooking module</label>
		<description>advanced cooking module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>-0.1</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.25</offset>
					</li>
				</capMods>
			</li>
		</stages>

		<modExtensions>
			<li Class="WhatTheHack.DefModextension_Hediff">
				<extraButcherProduct>WTH_AdvancedCookingModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<destroyOnDeathChance>0.65</destroyOnDeathChance>
			</li>
			<li Class="WhatTheHack.DefModExtension_Hediff_WorkModule">
				<workTypes>
					<li>Cooking</li>
				</workTypes>
				<skillLevel>10</skillLevel>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedCookingModule</defName>
		<label>advanced cooking module</label>
		<description>Can be installed in a mechanoid to make it capable of cooking and butchering. This model allows the mechanoid to perform the task with higher skill and precision at the cost of decreased movement speed.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedCookingModule</defName>
		<label>install advanced cooking module</label>
		<description>Install an advanced cooking module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid_WorkModule</workerClass>
		<jobString>Installing advanced cooking module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedCookingModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedCookingModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>

	</RecipeDef>

	<!--Medical-->

	<HediffDef>
		<defName>WTH_AdvancedMedicalModule</defName>
		<label>advanced medical module</label>
		<description>advanced medical module</description>
		<defaultLabelColor>(255, 255, 0)</defaultLabelColor>
		<isBad>false</isBad>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Manipulation</capacity>
						<offset>-0.1</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>-0.25</offset>
					</li>
				</capMods>
			</li>
		</stages>

		<modExtensions>
			<li Class="WhatTheHack.DefModextension_Hediff">
				<extraButcherProduct>WTH_AdvancedMedicalModule</extraButcherProduct>
				<canUninstall>true</canUninstall>
				<destroyOnDeathChance>0.65</destroyOnDeathChance>
			</li>
			<li Class="WhatTheHack.DefModExtension_Hediff_WorkModule">
				<workTypes>
					<li>Doctor</li>
				</workTypes>
				<skillLevel>10</skillLevel>
			</li>
		</modExtensions>
	</HediffDef>

	<ThingDef ParentName="BodyPartBase">
		<defName>WTH_AdvancedMedicalModule</defName>
		<label>advanced medical module</label>
		<description>Can be installed in a mechanoid to make it capable of performing medical tasks like tending and operating. This model allows the mechanoid to perform the task with higher skill and precision at the cost of decreased movement speed.</description>
		<graphicData>
			<texPath>Things/MechModuleTierTwo</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<soundInteract>Metal_Drop</soundInteract>
		<soundDrop>Standard_Drop</soundDrop>
		<stackLimit>1</stackLimit>
		<statBases>
			<WorkToMake>10000</WorkToMake>
			<MaxHitPoints>70</MaxHitPoints>
			<Mass>0.6</Mass>
			<Flammability>1.0</Flammability>
			<DeteriorationRate>2.0</DeteriorationRate>
			<SellPriceFactor>1</SellPriceFactor>
		</statBases>
		<intricate>true</intricate>
		<thingCategories>
			<li>WTH_AdvancedModules</li>
		</thingCategories>
	</ThingDef>

	<RecipeDef>
		<defName>WTH_InstallAdvancedMedicalModule</defName>
		<label>install advanced medical module</label>
		<description>Install an advanced medical module.</description>
		<workerClass>WhatTheHack.Recipes.Recipe_ModifyMechanoid_WorkModule</workerClass>
		<jobString>Installing advanced medical module.</jobString>
		<workAmount>5000</workAmount>
		<surgerySuccessChanceFactor>1.3</surgerySuccessChanceFactor>
		<deathOnFailedSurgeryChance>0.05</deathOnFailedSurgeryChance>
		<skillRequirements>
			<Crafting>10</Crafting>
			<Intellectual>10</Intellectual>
		</skillRequirements>
		<workSkill>Intellectual</workSkill>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>WTH_AdvancedMedicalModule</li>
					</thingDefs>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<appliedOnFixedBodyParts>
			<li>Reactor</li>
		</appliedOnFixedBodyParts>
		<addsHediff>WTH_AdvancedMedicalModule</addsHediff>
		<modExtensions>
			<li Class="WhatTheHack.DefModExtension_Recipe">
				<requireBed>true</requireBed>
			</li>
		</modExtensions>

	</RecipeDef>
</Defs>
