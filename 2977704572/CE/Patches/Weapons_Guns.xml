<?xml version="1.0" encoding="utf-8" ?>
<Patch>
  
  <!-- ========== Tools ========== -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="WW_RSC" or defName="WW_Perosa"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>grip</label>
          <capacities>
            <li>Blunt</li>
          </capacities>
          <power>2</power>
          <cooldownTime>1.54</cooldownTime>
          <chanceFactor>1.5</chanceFactor>
          <armorPenetrationBlunt>0.555</armorPenetrationBlunt>
          <linkedBodyPartsGroup>Grip</linkedBodyPartsGroup>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>muzzle</label>
          <capacities>
            <li>Poke</li>
          </capacities>
          <power>2</power>
          <cooldownTime>1.54</cooldownTime>
          <armorPenetrationBlunt>0.555</armorPenetrationBlunt>
          <linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
        </li>
      </tools>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>
      Defs/ThingDef[
        defName="WW_1903Pederson" or 
        defName="WW_1907Semi" or 
        defName="WW_FaquarHill" or 
        defName="WW_MaximSemi" or 
        defName="WW_Auto5A" or 
        defName="WW_1907IronBroom" or 
        defName="WW_1907Sight" or 
        defName="WW_1907Auto" or 
        defName="WW_RSCH" or 
        defName="WW_Mg15A" or 
        defName="WW_Na4A" or 
        defName="WW_Na4M" or 
        defName="WW_Tkb" or
        defName="WW_TkbM" 
      ]/tools
    </xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>stock</label>
          <capacities>
            <li>Blunt</li>
          </capacities>
          <power>8</power>
          <cooldownTime>1.55</cooldownTime>
          <chanceFactor>1.5</chanceFactor>
          <armorPenetrationBlunt>2.755</armorPenetrationBlunt>
          <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>barrel</label>
          <capacities>
            <li>Blunt</li>
          </capacities>
          <power>5</power>
          <cooldownTime>2.02</cooldownTime>
          <armorPenetrationBlunt>1.630</armorPenetrationBlunt>
          <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>muzzle</label>
          <capacities>
            <li>Poke</li>
          </capacities>
          <power>8</power>
          <cooldownTime>1.55</cooldownTime>
          <armorPenetrationBlunt>2.755</armorPenetrationBlunt>
          <linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
        </li>
      </tools>
    </value>
  </Operation>
  
  <Operation Class="PatchOperationReplace">
    <xpath>
      Defs/ThingDef[
        defName="WW_1903B" or 
        defName="WW_1907B" or 
        defName="WW_Auto5B" or 
        defName="WW_RSCB"
      ]/tools
    </xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>stock</label>
          <capacities>
            <li>Blunt</li>
          </capacities>
          <power>8</power>
          <cooldownTime>1.55</cooldownTime>
          <chanceFactor>1.5</chanceFactor>
          <armorPenetrationBlunt>2.755</armorPenetrationBlunt>
          <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>barrel</label>
          <capacities>
            <li>Blunt</li>
          </capacities>
          <power>5</power>
          <cooldownTime>2.02</cooldownTime>
          <armorPenetrationBlunt>1.630</armorPenetrationBlunt>
          <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
        </li>
        <li Class="CombatExtended.ToolCE">
					  <label>bayonet</label>
					  <capacities>
						<li>Stab</li>
					  </capacities>
					  <power>10</power>
					  <cooldownTime>1.6</cooldownTime>
					  <armorPenetrationBlunt>3.4</armorPenetrationBlunt>
					  <armorPenetrationSharp>5</armorPenetrationSharp>
            <linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
					</li>
      </tools>
    </value>
  </Operation>

  <!-- ========== 1903B ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_1903B</defName>
    <statBases>
      <Mass>4.5</Mass>
      <RangedWeapon_Cooldown>0.67</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <Bulk>12.00</Bulk>
      <WorkToMake>12000</WorkToMake>
    </statBases>
    <costList>
      <Steel>65</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.04</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_3006Springfield_FMJ</defaultProjectile>
      <warmupTime>0.85</warmupTime>
      <range>55</range>
      <soundCast>Shot_BoltActionRifle</soundCast>
      <soundCastTail>GunTail_Heavy</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>5</magazineSize>
      <reloadTime>3.8</reloadTime>
      <ammoSet>AmmoSet_3006Springfield</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_SR</li>
    </weaponTags>
    <AllowWithRunAndGun>false</AllowWithRunAndGun>
  </Operation>

  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_1903B"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.78,1.78</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== 1907winB ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_1907B</defName>
    <statBases>
      <Mass>4.5</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <Bulk>12.00</Bulk>
      <WorkToMake>12000</WorkToMake>
    </statBases>
    <costList>
      <Steel>65</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.04</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_351Winchester_FMJ</defaultProjectile>
      <warmupTime>0.85</warmupTime>
      <range>55</range>
      <soundCast>Shot_BoltActionRifle</soundCast>
      <soundCastTail>GunTail_Heavy</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>5</magazineSize>
      <reloadTime>3.8</reloadTime>
      <ammoSet>AmmoSet_351Winchester</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_SR</li>
    </weaponTags>
    <AllowWithRunAndGun>false</AllowWithRunAndGun>
  </Operation>

  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_1907B"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.78,1.78</DrawSize>
      </li>
    </value>
  </Operation>

<!-- ========== Auto 5 B ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_Auto5B</defName>
    <statBases>
      <Mass>4.50</Mass>
      <RangedWeapon_Cooldown>1.0</RangedWeapon_Cooldown>
      <ShotSpread>0.14</ShotSpread>
      <SwayFactor>1.20</SwayFactor>
      <Bulk>12.0</Bulk>
      <SightsEfficiency>1</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>65</Steel>
      <WoodLog>10</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_12Gauge_Buck</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>18</range>
      <soundCast>WW_Auto5_fire</soundCast>
      <soundCastTail>GunTail_Heavy</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>5</magazineSize>
      <reloadOneAtATime>true</reloadOneAtATime>
      <reloadTime>0.85</reloadTime>
      <ammoSet>AmmoSet_12Gauge</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_BROOM</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_Auto5B"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.78,1.78</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== Fusil Automatique Modèle 1917 B ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_RSCB</defName>
    <statBases>
      <Mass>5</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>12.7</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>1.8</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>55</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_8x50mmRLebel_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>55</range>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>5</magazineSize>
      <reloadTime>3.85</reloadTime>
      <ammoSet>AmmoSet_8x50mmRLebel</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_SMG</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_RSC"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.25,1.25</DrawSize>
      </li>
    </value>
  </Operation>



  <!-- ========== Sec verb ========== -->
  <Operation Class="PatchOperationRemove">
    <xpath>
      Defs/ThingDef[
        defName="WW_1903Pederson" or 
        defName="WW_1907Semi" or 
        defName="WW_FaquarHill" or 
        defName="WW_MaximSemi" or 
        defName="WW_Auto5A"
      ]/comps/li[@Class="WeaponUtilityIII.CompProperties_SecondaryVerb"]
    </xpath>
  </Operation>
  <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[
        defName="WW_1903Pederson" or 
        defName="WW_1907Semi" or 
        defName="WW_FaquarHill" or 
        defName="WW_MaximSemi" or 
        defName="WW_Auto5A"
      ]/comps</xpath>
        <value>
            <li Class="CombatExtended.CompProperties_UnderBarrel">
                <propsUnderBarrel>
                    <magazineSize>1</magazineSize>
                    <reloadTime>2.5</reloadTime>
                    <ammoSet>AmmoSet_MillsGrenade</ammoSet>
                </propsUnderBarrel>
                <verbPropsUnderBarrel>
                    <verbClass>CombatExtended.Verb_ShootCE</verbClass>
                    <hasStandardCommand>true</hasStandardCommand>
                    <defaultProjectile>Bullet_MillsGrenade_HE</defaultProjectile>
                    <warmupTime>2.1</warmupTime>
                    <range>35</range>
                    <soundCast>InfernoCannon_Fire</soundCast>
                    <soundCastTail>GunTail_Medium</soundCastTail>
                    <muzzleFlashScale>12</muzzleFlashScale>
                </verbPropsUnderBarrel>
                <propsFireModesUnderBarrel>
					<aiUseBurstMode>FALSE</aiUseBurstMode>
					<aiAimMode>AimedShot</aiAimMode>
				</propsFireModesUnderBarrel>
            </li>
        </value>
    </Operation>

  <!-- ========== 1903 ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_1903Pederson</defName>
    <statBases>
      <Mass>4.1</Mass>
      <RangedWeapon_Cooldown>0.67</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <Bulk>12.00</Bulk>
      <WorkToMake>12000</WorkToMake>
    </statBases>
    <costList>
      <Steel>55</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.04</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_3006Springfield_FMJ</defaultProjectile>
      <warmupTime>0.85</warmupTime>
      <range>55</range>
      <soundCast>Shot_BoltActionRifle</soundCast>
      <soundCastTail>GunTail_Heavy</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>5</magazineSize>
      <reloadTime>3.8</reloadTime>
      <ammoSet>AmmoSet_3006Springfield</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_SR</li>
    </weaponTags>
    <AllowWithRunAndGun>false</AllowWithRunAndGun>
  </Operation>

  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_1903Pederson"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.78,1.78</DrawSize>
      </li>
    </value>
  </Operation>


  
  <!-- ========== 1907win ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_1907Semi</defName>
    <statBases>
      <Mass>4.1</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <Bulk>12.00</Bulk>
      <WorkToMake>12000</WorkToMake>
    </statBases>
    <costList>
      <Steel>55</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.04</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_351Winchester_FMJ</defaultProjectile>
      <warmupTime>0.9</warmupTime>
      <range>55</range>
      <soundCast>Shot_BoltActionRifle</soundCast>
      <soundCastTail>GunTail_Heavy</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>5</magazineSize>
      <reloadTime>3.8</reloadTime>
      <ammoSet>AmmoSet_351Winchester</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_SR</li>
    </weaponTags>
    <AllowWithRunAndGun>false</AllowWithRunAndGun>
  </Operation>

  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_1907Semi"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.78,1.78</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== Auto 5 ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_Auto5A</defName>
    <statBases>
      <Mass>4.10</Mass>
      <RangedWeapon_Cooldown>1.0</RangedWeapon_Cooldown>
      <ShotSpread>0.14</ShotSpread>
      <SwayFactor>1.20</SwayFactor>
      <Bulk>12.0</Bulk>
      <SightsEfficiency>1</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>65</Steel>
      <WoodLog>10</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_12Gauge_Buck</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>18</range>
      <soundCast>Shot_Shotgun</soundCast>
      <soundCastTail>GunTail_Heavy</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>5</magazineSize>
      <reloadOneAtATime>true</reloadOneAtATime>
      <reloadTime>0.85</reloadTime>
      <ammoSet>AmmoSet_12Gauge</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_BROOM</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_Auto5A"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.78,1.78</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== Faquar Hill ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_FaquarHill</defName>
    <statBases>
      <Mass>4.90</Mass>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
      <Bulk>12.0</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>1</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>60</Steel>
      <WoodLog>10</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_303British_FMJ</defaultProjectile>
      <warmupTime>0.95</warmupTime>
      <range>55</range>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>20</magazineSize>
      <reloadTime>4.85</reloadTime>
      <ammoSet>AmmoSet_303British</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_SR</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_FaquarHill"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.25,1.25</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== WW_MaximSemi ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_MaximSemi</defName>
    <statBases>
      <Mass>4.5</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>12.0</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>1</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>55</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_303British_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>50</range>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>5</magazineSize>
      <reloadTime>4.85</reloadTime>
      <ammoSet>AmmoSet_303British</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_SR</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_MaximSemi"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.25,1.25</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== 1907 drum ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_1907IronBroom</defName>
    <statBases>
      <Mass>5</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>13.0</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>1</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>60</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>2</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_351Winchester_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>55</range>
      <burstShotCount>5</burstShotCount>
      <ticksBetweenBurstShots>10</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>35</magazineSize>
      <reloadTime>4.85</reloadTime>
      <ammoSet>AmmoSet_351Winchester</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
      <aimedBurstShotCount>3</aimedBurstShotCount>
    </FireModes>
    <weaponTags>
      <li>CE_AI_SR</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_1907IronBroom"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.25,1.25</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== 1907 sight ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_1907Sight</defName>
    <statBases>
      <Mass>5</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>12.7</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>1.8</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>60</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>2</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_351Winchester_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>55</range>
      <burstShotCount>5</burstShotCount>
      <ticksBetweenBurstShots>10</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>20</magazineSize>
      <reloadTime>4.85</reloadTime>
      <ammoSet>AmmoSet_351Winchester</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
      <aimedBurstShotCount>3</aimedBurstShotCount>
    </FireModes>
    <weaponTags>
      <li>CE_AI_AR</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_1907IronBroom"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.25,1.25</DrawSize>
      </li>
    </value>
  </Operation>
  
  <!-- ========== 1907 auto ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_1907Auto</defName>
    <statBases>
      <Mass>5</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>12.7</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>1.8</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>60</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>2</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_351Winchester_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>55</range>
      <burstShotCount>10</burstShotCount>
      <ticksBetweenBurstShots>10</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>20</magazineSize>
      <reloadTime>4.85</reloadTime>
      <ammoSet>AmmoSet_351Winchester</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
      <aimedBurstShotCount>3</aimedBurstShotCount>
    </FireModes>
    <weaponTags>
      <li>CE_AI_AR</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_1907Auto"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.25,1.25</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== Chauchat-Ribeyrolles 1918 submachine gun ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_RSC</defName>
    <statBases>
      <Mass>5</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>12.7</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>1.0</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>45</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_8x50mmRLebel_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>35</range>
      <burstShotCount>5</burstShotCount>
      <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>9</magazineSize>
      <reloadTime>3.85</reloadTime>
      <ammoSet>AmmoSet_8x50mmRLebel</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
      <aimedBurstShotCount>3</aimedBurstShotCount>
    </FireModes>
    <weaponTags>
      <li>CE_SMG</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_RSC"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.25,1.25</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== Chauchat-Ribeyrolles 1918 submachine gun ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_RSCH</defName>
    <statBases>
      <Mass>5.3</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>12.7</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>1.0</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>45</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>1</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_8x50mmRLebel_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>35</range>
      <burstShotCount>7</burstShotCount>
      <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>21</magazineSize>
      <reloadTime>3.85</reloadTime>
      <ammoSet>AmmoSet_8x50mmRLebel</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
      <aimedBurstShotCount>5</aimedBurstShotCount>
    </FireModes>
    <weaponTags>
      <li>CE_SMG</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_RSCH"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.25,1.25</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== Villar Perosa aircraft submachine gun ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_Perosa</defName>
    <statBases>
      <Mass>2.8</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>9.7</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>0.8</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>45</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>2</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_9x19mmPara_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>55</range>
      <burstShotCount>10</burstShotCount>
      <ticksBetweenBurstShots>2</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>50</magazineSize>
      <reloadTime>8.85</reloadTime>
      <ammoSet>AmmoSet_9x19mmPara</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
      <aimedBurstShotCount>6</aimedBurstShotCount>
    </FireModes>
    <weaponTags>
      <li>CE_SMG</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_Perosa"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.35,1.35</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== MG15 ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_Mg15A</defName>
    <statBases>
      <Mass>2.8</Mass>
      <RangedWeapon_Cooldown>0.8</RangedWeapon_Cooldown>
      <Bulk>9.7</Bulk>
      <ShotSpread>0.02</ShotSpread>
      <SwayFactor>1.68</SwayFactor>
      <SightsEfficiency>0.8</SightsEfficiency>
      <WorkToMake>9500</WorkToMake>
    </statBases>
    <costList>
      <Steel>120</Steel>
      <WoodLog>15</WoodLog>
      <ComponentIndustrial>3</ComponentIndustrial>
    </costList>
    <Properties>
      <recoilAmount>2.75</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_792x57mmMauser_FMJ</defaultProjectile>
      <warmupTime>0.6</warmupTime>
      <range>65</range>
      <burstShotCount>10</burstShotCount>
      <ticksBetweenBurstShots>2</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>75</magazineSize>
      <reloadTime>5.85</reloadTime>
      <ammoSet>AmmoSet_792x57mmMauser</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>Snapshot</aiAimMode>
      <aimedBurstShotCount>6</aimedBurstShotCount>
    </FireModes>
    <weaponTags>
      <li>CE_LMG</li>
    </weaponTags>
  </Operation>
  
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_Mg15A"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.4,1.4</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== Sec verb ========== -->
  <Operation Class="PatchOperationRemove">
    <xpath>
      Defs/ThingDef[
        defName="WW_Na4M" or 
        defName="WW_TkbM"
      ]/comps/li[@Class="WeaponUtilityIII.CompProperties_SecondaryVerb"]
    </xpath>
  </Operation>
  <Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[
        defName="WW_Na4M" or 
        defName="WW_TkbM"
      ]/comps</xpath>
        <value>
            <li Class="CombatExtended.CompProperties_UnderBarrel">
                <propsUnderBarrel>
                    <magazineSize>1</magazineSize>
                    <reloadTime>2.5</reloadTime>
                    <ammoSet>AmmoSet_WFFuel</ammoSet>
                </propsUnderBarrel>
                <verbPropsUnderBarrel>
                    <verbClass>CombatExtended.Verb_ShootCE</verbClass>
                    <hasStandardCommand>true</hasStandardCommand>
                    <defaultProjectile>Bullet_WFFuel_Incendiary</defaultProjectile>
                    <warmupTime>2.1</warmupTime>
                    <range>35</range>
                    <soundCast>InfernoCannon_Fire</soundCast>
                    <soundCastTail>GunTail_Medium</soundCastTail>
                    <muzzleFlashScale>12</muzzleFlashScale>
                </verbPropsUnderBarrel>
                <propsFireModesUnderBarrel>
					<aiUseBurstMode>FALSE</aiUseBurstMode>
					<aiAimMode>AimedShot</aiAimMode>
				</propsFireModesUnderBarrel>
            </li>
        </value>
  </Operation>

  <Operation Class="PatchOperationAdd">
  	<xpath>Defs/DamageDef[defName="MYDE_Damage_WhitePhosphorus"]</xpath>
  	<value>
      <defaultArmorPenetration>2</defaultArmorPenetration>
  	</value>
	</Operation>

  <Operation Class="PatchOperationReplace">
  	<xpath>Defs/HediffDef[defName="MYDE_Hediff_WhitePhosphorus"]/comps/li[@Class="HediffCompProperties_Disappears"]/disappearsAfterTicks</xpath>
  	<value>
      <disappearsAfterTicks>1200</disappearsAfterTicks>
  	</value>
	</Operation>

  <Operation Class="PatchOperationAddModExtension">
  	<xpath>Defs/DamageDef[defName="MYDE_Damage_WhitePhosphorus"]</xpath>
  	<value>
  		<li Class="CombatExtended.DamageDefExtensionCE">
  			<isAmbientDamage>true</isAmbientDamage>
  		</li>
  	</value>
	</Operation>
  

  <!-- ========== NA-4 ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_Na4A</defName>
    <statBases>
      <Mass>2.8</Mass>
      <RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.07</ShotSpread>
      <SwayFactor>1.25</SwayFactor>
      <Bulk>8.03</Bulk>
      <WorkToMake>30000</WorkToMake>
    </statBases>
    <costList>
      <Steel>55</Steel>
      <ComponentIndustrial>5</ComponentIndustrial>
      <Chemfuel>15</Chemfuel>
    </costList>
    <Properties>
      <recoilAmount>1.25</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_545x39mmSoviet_FMJ</defaultProjectile>
      <warmupTime>1.1</warmupTime>
      <range>55</range>
      <burstShotCount>6</burstShotCount>
      <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
      <soundCast>WW_NA4_fire</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>30</magazineSize>
      <reloadTime>4.5</reloadTime>
      <ammoSet>AmmoSet_545x39mmSoviet</ammoSet>
    </AmmoUser>
    <FireModes>
      <aimedBurstShotCount>3</aimedBurstShotCount>
      <aiUseBurstMode>TRUE</aiUseBurstMode>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_AR</li>
    </weaponTags>
    <researchPrerequisite>PrecisionRifling</researchPrerequisite>
  </Operation>
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_Na4A"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.1,1.1</DrawSize>
      </li>
    </value>
  </Operation>
  
  <!-- ========== NA-4M ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_Na4M</defName>
    <statBases>
      <Mass>3</Mass>
      <RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.07</ShotSpread>
      <SwayFactor>1.25</SwayFactor>
      <Bulk>8.03</Bulk>
      <WorkToMake>45000</WorkToMake>
    </statBases>
    <costList>
      <Steel>75</Steel>
      <ComponentIndustrial>6</ComponentIndustrial>
      <Chemfuel>15</Chemfuel>
    </costList>
    <Properties>
      <recoilAmount>1.35</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_545x39mmSoviet_FMJ</defaultProjectile>
      <warmupTime>1.1</warmupTime>
      <range>60</range>
      <burstShotCount>6</burstShotCount>
      <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
      <soundCast>WW_NA4_fire</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>30</magazineSize>
      <reloadTime>4.5</reloadTime>
      <ammoSet>AmmoSet_545x39mmSoviet</ammoSet>
    </AmmoUser>
    <FireModes>
      <aimedBurstShotCount>3</aimedBurstShotCount>
      <aiUseBurstMode>TRUE</aiUseBurstMode>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_AR</li>
    </weaponTags>
  </Operation>

  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_Na4M"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.1,1.1</DrawSize>
      </li>
    </value>
  </Operation>

  <!-- ========== Tkb ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_Tkb</defName>
    <statBases>
      <Mass>2.8</Mass>
      <RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.07</ShotSpread>
      <SwayFactor>1.25</SwayFactor>
      <Bulk>8.03</Bulk>
      <WorkToMake>30000</WorkToMake>
    </statBases>
    <costList>
      <Steel>55</Steel>
      <ComponentIndustrial>5</ComponentIndustrial>
      <Chemfuel>15</Chemfuel>
    </costList>
    <Properties>
      <recoilAmount>1.25</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_762x39mmSoviet_FMJ</defaultProjectile>
      <warmupTime>1.1</warmupTime>
      <range>55</range>
      <burstShotCount>6</burstShotCount>
      <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>30</magazineSize>
      <reloadTime>4.5</reloadTime>
      <ammoSet>AmmoSet_762x39mmSoviet</ammoSet>
    </AmmoUser>
    <FireModes>
      <aimedBurstShotCount>3</aimedBurstShotCount>
      <aiUseBurstMode>TRUE</aiUseBurstMode>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_AR</li>
    </weaponTags>
    <researchPrerequisite>PrecisionRifling</researchPrerequisite>
  </Operation>
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_Tkb"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.1,1.1</DrawSize>
      </li>
    </value>
  </Operation>
  
  <!-- ========== TkbM ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_TkbM</defName>
    <statBases>
      <Mass>3</Mass>
      <RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.07</ShotSpread>
      <SwayFactor>1.25</SwayFactor>
      <Bulk>8.03</Bulk>
      <WorkToMake>45000</WorkToMake>
    </statBases>
    <costList>
      <Steel>75</Steel>
      <ComponentIndustrial>6</ComponentIndustrial>
      <Chemfuel>15</Chemfuel>
    </costList>
    <Properties>
      <recoilAmount>1.35</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_762x39mmSoviet_FMJ</defaultProjectile>
      <warmupTime>1.1</warmupTime>
      <range>60</range>
      <burstShotCount>6</burstShotCount>
      <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
      <soundCast>Shot_AssaultRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>30</magazineSize>
      <reloadTime>4.5</reloadTime>
      <ammoSet>AmmoSet_762x39mmSoviet</ammoSet>
    </AmmoUser>
    <FireModes>
      <aimedBurstShotCount>3</aimedBurstShotCount>
      <aiUseBurstMode>TRUE</aiUseBurstMode>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_AR</li>
    </weaponTags>
  </Operation>

  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="WW_TkbM"]</xpath>
    <value>
      <li Class="CombatExtended.GunDrawExtension">
        <DrawSize>1.1,1.1</DrawSize>
      </li>
    </value>
  </Operation>
  
  	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Combat Extended</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationRemove">
					<xpath>Defs/ThingDef[defName="WW_TkbAPI"]</xpath>
				</li>
			</operations>
		</match>
	</Operation>


    <!-- ========== Mech Weapons ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>75mmCannon</defName>
    <statBases>
      <Mass>200.00</Mass>
      <RangedWeapon_Cooldown>2.5</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.01</ShotSpread>
      <SwayFactor>0.82</SwayFactor>
      <Bulk>10.00</Bulk>
    </statBases>
    <Properties>
      <recoilAmount>1.01</recoilAmount>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <!-- 弹药种类 -->
      <defaultProjectile>Bullet_75x350mmR_HE</defaultProjectile>
      <!-- 瞄准时间 -->
      <warmupTime>3.5</warmupTime>
         <!-- 射程-->
      <range>86</range>
      <!-- 一轮射击次数 -->
      <burstShotCount>1</burstShotCount>
      <!-- 发射音效 -->
      <soundCast>InfernoCannon_Fire</soundCast>
      <soundCastTail>GunTail_Light</soundCastTail>
      <muzzleFlashScale>14</muzzleFlashScale>
      <ai_AvoidFriendlyFireRadius>5</ai_AvoidFriendlyFireRadius>
      <minRange>5</minRange>
      <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
    </Properties>
    <AmmoUser>
    <!-- 弹匣容量 -->
      <magazineSize>1</magazineSize>
      <!-- 换弹匣时间 -->
      <reloadTime>7.1</reloadTime>
      <ammoSet>AmmoSet_75x350mmR</ammoSet> <!-- 设定CE的炮弹来源 -->
    </AmmoUser>
    <FireModes>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_Launcher</li>
      <li>NoSwitch</li>
    </weaponTags>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="75mmCannon"]</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>barrel</label>
          <capacities>
            <li>Blunt</li>
          </capacities>
          <power>10</power>
          <cooldownTime>2.44</cooldownTime>
          <armorPenetrationBlunt>3.5</armorPenetrationBlunt>
          <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
        </li>
      </tools>
    </value>
  </Operation>
    <!-- ========== MG15 Turret ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>762MG</defName>
    <statBases>
      <SightsEfficiency>0.8</SightsEfficiency>
      <ShotSpread>0.2</ShotSpread> <!-- Manually adjusted from 0.08 due to accuracy concerns. -->
      <SwayFactor>0.56</SwayFactor>
      <Bulk>6.00</Bulk>
    </statBases>
    <Properties>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_792x57mmMauser_FMJ</defaultProjectile>
      <range>55</range>
      <burstShotCount>20</burstShotCount>
      <soundCast>Shot_ChargeBlaster</soundCast>
      <soundCastTail>GunTail_Heavy</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
      <defaultCooldownTime>2.5</defaultCooldownTime>
      <linkedBodyPartsGroup>BulbTurret</linkedBodyPartsGroup>
      <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
      <ticksBetweenBurstShots>150</ticksBetweenBurstShots>
    </Properties>
  </Operation>

  <!-- ========== Mini-flameblaster ========== -->

  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>WW_Wex</defName>
    <statBases>
      <RangedWeapon_Cooldown>0.37</RangedWeapon_Cooldown>
      <SightsEfficiency>1.0</SightsEfficiency>
      <ShotSpread>3.0</ShotSpread>
      <SwayFactor>0.53</SwayFactor>
      <Bulk>6.00</Bulk>
    </statBases>
    <AmmoUser>
      <magazineSize>25</magazineSize>
      <reloadTime>4</reloadTime>
      <ammoSet>AmmoSet_Flamethrower</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiAimMode>SuppressFire</aiAimMode>
    </FireModes>
    <weaponTags>
      <li>CE_AI_AOE</li>
      <li>NoSwitch</li>
    </weaponTags>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="WW_Wex"]/verbs</xpath>
    <value>
      <verbs>
        <li Class="CombatExtended.VerbPropertiesCE">
          <recoilAmount>0.35</recoilAmount>
          <verbClass>CombatExtended.Verb_ShootCE</verbClass>
          <hasStandardCommand>true</hasStandardCommand>
          <defaultProjectile>Bullet_Flamethrower_Prometheum</defaultProjectile>
          <targetParams>
            <canTargetLocations>true</canTargetLocations>
          </targetParams>
          <warmupTime>1.1</warmupTime>
          <range>20</range>
          <minRange>1.9</minRange>
          <ai_AvoidFriendlyFireRadius>2</ai_AvoidFriendlyFireRadius>
          <burstShotCount>8</burstShotCount>
          <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
          <soundCast>Shot_MiniFlameblaster</soundCast>
          <muzzleFlashScale>9</muzzleFlashScale>
        </li>
      </verbs>
    </value>
  </Operation>

</Patch>
