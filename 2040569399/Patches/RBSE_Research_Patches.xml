<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationFindMod">
				<mods>
					<li>Rah's Bionics and Surgery Expansion</li>
					<li>RBSE Hardcore Edition</li>
				</mods>
				<match Class="PatchOperationSequence">
					<success>Always</success>
					    <operations>
					   
						<!-- Change basic prosthetic research requirements -->
							<li Class="PatchOperationReplace">
								<xpath>Defs/ResearchProjectDef[defName="Prosthetics"]/prerequisites</xpath>
								<value>
									<prerequisites>
										<li>BasicProsthetics</li>
									</prerequisites>
								</value>
							</li>

						<!-- Change bionics description -->
							<li Class="PatchOperationReplace">
								<xpath>Defs/ResearchProjectDef[defName="Bionics"]/description</xpath>
								<value>
									<description>Study of biomimetics and engineering. Unlocks high-tech bionic parts which can be crafted at a fabrication bench.</description>
								</value>
							</li>

						<!-- Lower all installation surgery prereqs by 1 research level -->
					
						<!-- Advanced bionics -->
								<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallAdvancedPowerArm"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallAdvancedBionicArm"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallAdvancedBionicLeg"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallAdvancedBionicHand"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallAdvancedBionicFoot"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallAdvancedBionicEye"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallAdvancedBionicEar"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallAdvancedBionicSpine"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallExoskeletonSuit"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Bionics</researchPrerequisite>
								</value>
							</li>

						<!-- Bionics -->
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallPowerArm"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallBionicArm"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallBionicLeg"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallBionicEye"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallBionicHand"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallBionicFoot"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallBionicEar"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallBionicJaw"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallBionicSpine"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>Prosthetics</researchPrerequisite>
								</value>
							</li>
							
						</operations>
				</match>
			</li>
		</operations>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationFindMod">
				<mods>
					<li>Rah's Bionics and Surgery Expansion</li>
					<li>RBSE Hardcore Edition</li>
				</mods>
					
				<match Class="PatchOperationSequence">
					<success>Always</success>
					    <operations>

						<!-- Simple prosthetics -->
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSimpleProstheticLeg"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>BasicProsthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSimpleProstheticArm"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>BasicProsthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSimpleProstheticHand"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>BasicProsthetics</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSimpleProstheticFoot"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>BasicProsthetics</researchPrerequisite>
								</value>
							</li>

						<!-- Synthetics -->
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSyntheticLung"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>OrganTransplantation</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSyntheticStomach"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>OrganTransplantation</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSyntheticLiver"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>OrganTransplantation</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSyntheticKidney"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>OrganTransplantation</researchPrerequisite>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/RecipeDef[defName="InstallSyntheticHeart"]/researchPrerequisite</xpath>
								<value>
									<researchPrerequisite>OrganTransplantation</researchPrerequisite>
								</value>
							</li>
						</operations>
				</match>
			</li>
		</operations>
	</Operation>

</Patch>