<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <Operation Class="PatchOperationFindMod">
  <mods>
    <li>Rim-Effect: Core</li>
  </mods>
  <match Class="PatchOperationSequence">
    <operations>
    <li Class="PatchOperationAdd">
    <xpath>Defs</xpath>
    <value>

	<ThingDef ParentName="CODZP_Mystery_Base">
		<defName>CODZP_Random_RimEffect_Weapon</defName>
		<label>Mystery Rim-Effect Weapon</label>
		<graphicData>
			<texPath>UI/Icons/CODZP/CodZP_RandomRimEffectWeapon</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
	</ThingDef>

	<RecipeDef ParentName="CodZP_MysteryRecipe">
		<defName>CODZP_RandomizeRimEffectWeapon</defName>
		<label>Random Rim-Effect Weapon</label>
		<description>Get a random from Rim-Effect</description>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>Silver</li>
					</thingDefs>
				</filter>
				<count>150</count>
			</li>
		</ingredients>
		<products>
			<CODZP_Random_RimEffect_Weapon>1</CODZP_Random_RimEffect_Weapon>
		</products>
	</RecipeDef>

	<MysteryBoxFrameWork.ItemReplacerDef ParentName="GlobalWeaponAllowedStuff">
		<defName>Replacer_RandomRimEffectWeapons</defName>
		<targetItem>CODZP_Random_RimEffect_Weapon</targetItem>
		<qualityGenerator>Gift</qualityGenerator>
		<producedItems>
			<RE_Gun_AllianceAssaultRifle>1</RE_Gun_AllianceAssaultRifle>
			<RE_Gun_AllianceBattleRifle>1</RE_Gun_AllianceBattleRifle>
			<RE_Gun_AllianceShotgun>1</RE_Gun_AllianceShotgun>
			<RE_Gun_AllianceSniperRifle>1</RE_Gun_AllianceSniperRifle>
			<RE_Gun_AllianceSMG>1</RE_Gun_AllianceSMG>
			<RE_Gun_AlliancePistol>1</RE_Gun_AlliancePistol>
			<RE_Gun_AllianceHandcannon>1</RE_Gun_AllianceHandcannon>
			<RE_Gun_AllianceAntimaterielRifle>1</RE_Gun_AllianceAntimaterielRifle>
			<RE_Gun_AllianceRocketLauncher>1</RE_Gun_AllianceRocketLauncher>
			<RE_Gun_AllianceChainShotgun>1</RE_Gun_AllianceChainShotgun>
			<RE_Gun_AllianceRapidSniperRifle MayRequire="RimEffect.Drell">1</RE_Gun_AllianceRapidSniperRifle>
			<RE_Gun_AllianceCompactSMG MayRequire="RimEffect.Drell">1</RE_Gun_AllianceCompactSMG>
			<REN7_MeleeWeapon_N7Blade MayRequire="RimEffect.N7">1</REN7_MeleeWeapon_N7Blade>
			<REN7_Gun_N7BattleRifle MayRequire="RimEffect.N7">1</REN7_Gun_N7BattleRifle>
			<REN7_Gun_N7LMG MayRequire="RimEffect.N7">1</REN7_Gun_N7LMG>
			<REN7_Gun_N7Shotgun MayRequire="RimEffect.N7">1</REN7_Gun_N7Shotgun>
			<REN7_Gun_N7DMR MayRequire="RimEffect.N7">1</REN7_Gun_N7DMR>
			<REN7_Gun_N7SMG MayRequire="RimEffect.N7">1</REN7_Gun_N7SMG>
			<RE_Gun_N7Pistol MayRequire="RimEffect.N7">1</RE_Gun_N7Pistol>
			<REN7_Gun_N7AntimaterielRifle MayRequire="RimEffect.N7">1</REN7_Gun_N7AntimaterielRifle>
			<REN7_Gun_N7BlackHoleGenerator MayRequire="RimEffect.N7">1</REN7_Gun_N7BlackHoleGenerator>
			<REN7_Gun_N7ChainShotgun MayRequire="RimEffect.N7">1</REN7_Gun_N7ChainShotgun>
			<RE_MeleeWeapon_AsariSword MayRequire="RimEffect.AsariReapers">1</RE_MeleeWeapon_AsariSword>
			<RE_Gun_AsariAssaultRifle MayRequire="RimEffect.AsariReapers">1</RE_Gun_AsariAssaultRifle>
			<RE_Gun_AsariShotgun MayRequire="RimEffect.AsariReapers">1</RE_Gun_AsariShotgun>
			<RE_Gun_AsariSniperRifle MayRequire="RimEffect.AsariReapers">1</RE_Gun_AsariSniperRifle>
			<RE_Gun_AsariPistol MayRequire="RimEffect.AsariReapers">1</RE_Gun_AsariPistol>
			<RE_Gun_SpacerAssaultRifle MayRequire="RimEffect.ExtendedCut">1</RE_Gun_SpacerAssaultRifle>
			<RE_Gun_SpacerBattleRifle MayRequire="RimEffect.ExtendedCut">1</RE_Gun_SpacerBattleRifle>
			<RE_Gun_SpacerMarksmanRifle MayRequire="RimEffect.ExtendedCut">1</RE_Gun_SpacerMarksmanRifle>
			<RE_Gun_AlliancePrecisionRifle MayRequire="RimEffect.ExtendedCut">1</RE_Gun_AlliancePrecisionRifle>
			<RE_Gun_SpacerChakramLauncher MayRequire="RimEffect.ExtendedCut">1</RE_Gun_SpacerChakramLauncher>
		</producedItems>
	</MysteryBoxFrameWork.ItemReplacerDef>
    </value>
    </li> 
    </operations>

  </match>
  </Operation>
</Patch>