<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<ThingDef ParentName="VBE_DrugToolBase">
		<defName>Artemiish_RootSpirit</defName>
		<label>healroot spirit</label>
		<description>A clear alcohol made from medicinal herbs. It can be drinked by itself, providing restorative effects, or mixed with other ingredients to form medicinal mixtures.</description>  
		<graphicData>
			<texPath>ArtemiishThings/Items/Drinks/RootSpirit</texPath>
			<graphicClass>PotionEffects.Graphic_StackCountAndHeld</graphicClass>
		</graphicData>
		<thingCategories>
			<li>VBE_DrinksLuxurySpirits</li>
		</thingCategories>
		<equippedAngleOffset>-150</equippedAngleOffset>
		<rotatable>false</rotatable>
		<stackLimit>25</stackLimit>
		<statBases>
			<DeteriorationRate>0.5</DeteriorationRate>
			<MarketValue>15</MarketValue>
			<Mass>0.3</Mass>
			<Flammability>0.5</Flammability>
			<Nutrition>0.25</Nutrition>
		</statBases>
		<ingestible>
			<specialThoughtAsIngredient>Artemiish_HealrootAsIngredient</specialThoughtAsIngredient>
			<foodType>Fluid, Processed, Liquor</foodType>
			<joyKind>Chemical</joyKind>
			<joy>0.17</joy>
			<nurseable>true</nurseable>
			<drugCategory>Social</drugCategory>
			<ingestSound>Ingest_Beer</ingestSound>
			<ingestHoldOffsetStanding>
				<northDefault>
					<offset>(0.18,0,0)</offset>
				</northDefault>
			</ingestHoldOffsetStanding>
			<ingestCommandString>Drink {0}</ingestCommandString>
			<ingestReportString>Drinking {0}.</ingestReportString>
			<chairSearchRadius>25</chairSearchRadius>
			<outcomeDoers>
				<li Class="IngestionOutcomeDoer_GiveHediff">
					<hediffDef>Artemiish_RootSpiritEffect</hediffDef>
					<severity>0.25</severity>

				</li>
				<li Class="IngestionOutcomeDoer_GiveHediff">
					<hediffDef>AlcoholHigh</hediffDef>
					<severity>0.25</severity>
					<toleranceChemical>Alcohol</toleranceChemical>
				</li>
				<li Class="IngestionOutcomeDoer_GiveHediff">
					<hediffDef>AlcoholTolerance</hediffDef>
					<severity>0.02</severity>
					<divideByBodySize>true</divideByBodySize>
					<multiplyByGeneToleranceFactors>true</multiplyByGeneToleranceFactors>
				</li>
			</outcomeDoers>
		</ingestible>
		<comps>
			<li Class="CompProperties_Drug">
				<chemical>Alcohol</chemical>
				<addictiveness>0.025</addictiveness>
				<minToleranceToAddict>0.25</minToleranceToAddict>
				<existingAddictionSeverityOffset>0.20</existingAddictionSeverityOffset>
				<needLevelOffset>1</needLevelOffset>
				<listOrder>10</listOrder>
			</li>
		</comps>
		
	</ThingDef>

	<HediffDef>
		<defName>Artemiish_RootSpiritEffect</defName>
		<label>healroot spirit recovery</label>
		<labelNoun>recovery effect from a healroot spirit</labelNoun>
		<description>Drank healroot spirit, known for it's medicinal effect.</description>
		<hediffClass>Hediff_Alcohol</hediffClass>
		<defaultLabelColor>(1,0,0.5)</defaultLabelColor>
		<scenarioCanAdd>true</scenarioCanAdd>
		<isBad>false</isBad>
		<comps>
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>-0.75</severityPerDay>
				<showHoursToRecover>true</showHoursToRecover>
			</li>
		</comps>
		<stages>
			<li>
				<label>warm</label>
				<painFactor>0.98</painFactor>
                <naturalHealingFactor>1.8</naturalHealingFactor>		
			</li>
			<li>
				<minSeverity>0.25</minSeverity>
				<label>tipsy</label>
				<painFactor>0.96</painFactor>
                <naturalHealingFactor>2</naturalHealingFactor>			
			</li>
			<li>
				<minSeverity>0.4</minSeverity>
				<label>drunk</label>
				<painFactor>0.94</painFactor>
                <naturalHealingFactor>2.2</naturalHealingFactor>	
			</li>
			<li>
				<minSeverity>0.7</minSeverity>
				<label>hammered</label>
				<painFactor>0.92</painFactor>
                <naturalHealingFactor>2.3</naturalHealingFactor>	
			</li>
			<li>
				<minSeverity>0.9</minSeverity>
				<label>blackout</label>
				<painFactor>0.9</painFactor>
                <naturalHealingFactor>2.4</naturalHealingFactor>	
			</li>
		</stages>
	</HediffDef>

	<HediffDef>
		<defName>Artemiish_HealrootAsIngredient</defName>
		<label>drank healroot based cocktail</label>
		<makesSickThought>false</makesSickThought>
		<description>This colonist drank a cocktail that had healroot as one of its ingredients. Provides a slight anesthetic effect and helps with wound healing.</description>
		<tendable>false</tendable>
		<isBad>false</isBad>
		<defaultLabelColor>(1,0,0.5)</defaultLabelColor>
		<hediffClass>HediffWithComps</hediffClass>
		<initialSeverity>1.0</initialSeverity>
		<maxSeverity>1.0</maxSeverity>
		<comps>
			<li Class="VanillaCookingExpanded.HediffCompProperties_WhileHavingThoughts">
				<thoughtDefs>
					<li>Artemiish_HealrootAsIngredient</li>
				</thoughtDefs>
			</li>
		</comps>
		<stages>
			<li>
                <painFactor>0.9</painFactor>
                <naturalHealingFactor>2</naturalHealingFactor>
            </li>
		</stages>
	</HediffDef>

	<ThingDef ParentName="ResourceBase">
		<defName>Artemiish_RootMust</defName>
		<label>healroot must</label>
		<description>A clear but cloudy mixture of medicinal herbs and roots, ready to be processed.</description>
		<graphicData>
			<texPath>ArtemiishThings/Items/Drinks/Musts/RootMust</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<healthAffectsPrice>false</healthAffectsPrice>
		<rotatable>false</rotatable>
		<stackLimit>25</stackLimit>
		<thingCategories>
			<li>VBE_Musts</li>
		</thingCategories>
		<tradeability>None</tradeability>
		<statBases>
			<DeteriorationRate>1.0</DeteriorationRate>
			<MarketValue>2.5</MarketValue>
			<Mass>0.8</Mass>
			<Flammability>0.2</Flammability>
			<MaxHitPoints>60</MaxHitPoints>
		</statBases>
		<tickerType>Rare</tickerType>
		<comps>
			<li Class="CompProperties_Rottable">
				<daysToRotStart>5</daysToRotStart>
				<rotDestroys>true</rotDestroys>
			</li>
		</comps>
	</ThingDef>
	
	<RecipeDef>
		<defName>Artemiish_MakeRootSpiritMust</defName>
		<label>make healroot must</label>
		<description>Make a cloudy mixture of medicinal herbs and roots, ready to be processed.</description>
		<jobString>Making healroot must.</jobString>
		<workSpeedStat>DrugCookingSpeed</workSpeedStat>
		<workSkill>Cooking</workSkill>
		<effectWorking>Cook</effectWorking>
		<workAmount>1000</workAmount>
		<soundWorking>Recipe_Brewing</soundWorking>
		<recipeUsers>
			<li>Brewery</li>	
			<li>VBE_Bar</li>			
		</recipeUsers>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>MedicineHerbal</li>
					</thingDefs>
				</filter>
				<count>5</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>			
			<thingDefs>
				<li>MedicineHerbal</li>
			</thingDefs>
		</fixedIngredientFilter>
		<defaultIngredientFilter>			
			<thingDefs>
				<li>MedicineHerbal</li>
			</thingDefs>
		</defaultIngredientFilter>
		<products>
			<Artemiish_RootMust>5</Artemiish_RootMust>
		</products>
		<skillRequirements>
			<Cooking>4</Cooking>
		</skillRequirements>
		<researchPrerequisite>VBE_LiquorBrewing</researchPrerequisite>
	</RecipeDef>
	
	<ThingDef ParentName="BuildingBase">
		<defName>Artemiish_RootSpiritStill</defName>
		<label>healroot still</label>
		<description>A small still and fermenter, designed specifically for the production of medicine.</description>
		<thingClass>ItemProcessor.Building_ItemProcessor</thingClass>
		<drawerType>MapMeshAndRealTime</drawerType>
		<graphicData>
			<texPath>ArtemiishThings/Structures/RootSpiritStill</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(2,2)</drawSize>
			<drawOffsetNorth>(0,0,0.3)</drawOffsetNorth>
			<drawOffsetSouth>(0,0,0.3)</drawOffsetSouth>
			<drawOffsetWest>(0,0,0.3)</drawOffsetWest>
			<drawOffsetEast>(0,0,0.3)</drawOffsetEast>
			<shaderType>CutoutComplex</shaderType>
			<damageData>
				<cornerTL>Damage/Corner</cornerTL>
				<cornerTR>Damage/Corner</cornerTR>
				<cornerBL>Damage/Corner</cornerBL>
				<cornerBR>Damage/Corner</cornerBR>
			</damageData>
		</graphicData>
		<thingCategories>
			<li>BuildingsProduction</li>
		</thingCategories>
		<costStuffCount>40</costStuffCount>
		<stuffCategories>
			<li>Metallic</li>
		</stuffCategories>
		<altitudeLayer>Building</altitudeLayer>
		<rotatable>true</rotatable>
		<neverMultiSelect>true</neverMultiSelect>
		<uiIconScale>0.6</uiIconScale>
		<fillPercent>1</fillPercent>
		<useHitPoints>True</useHitPoints>
		<statBases>
			<Mass>10</Mass>
			<WorkToBuild>500</WorkToBuild>
			<MaxHitPoints>100</MaxHitPoints>
			<Flammability>0.8</Flammability>
		</statBases>
		<tickerType>Rare</tickerType>
		<size>(1,1)</size>
		<designationCategory>Production</designationCategory>
		<passability>PassThroughOnly</passability>
		<pathCost>70</pathCost>
		<hasInteractionCell>True</hasInteractionCell>
		<interactionCellOffset>(0,0,-1)</interactionCellOffset>
		<surfaceType>Item</surfaceType>
		<building>
			<paintable>true</paintable>
		</building>
		<researchPrerequisites>
			<li>VBE_LiquorBrewing</li>
		</researchPrerequisites>
		<comps>
			<li Class="ItemProcessor.CompProperties_ItemProcessor">
				<buildingOnGraphic>ArtemiishThings/Structures/RootSpiritStill</buildingOnGraphic>
				<numberOfInputs>1</numberOfInputs>
				<acceptsNoneAsInput>false</acceptsNoneAsInput>
				<InsertFirstItemDesc>VBE_InsertTequilaMustDesc</InsertFirstItemDesc>
				<ignoresIngredientLists>true</ignoresIngredientLists>
				<showProgressBar>true</showProgressBar>
				<isSemiAutomaticMachine>true</isSemiAutomaticMachine>
				<resetSemiautomaticIcon>ArtemiishThings/UI/ResetRootMust</resetSemiautomaticIcon>
				
				<chooseIngredientsIcon>UI/VBE_EmptySyrupIcon</chooseIngredientsIcon>

				<bringIngredientsText>VBE_StartInsertionTequilaMust</bringIngredientsText>
				<bringIngredientsDesc>Artemiish_StartInsertionHealRootMustDesc</bringIngredientsDesc>
				<bringIngredientsIcon>ArtemiishThings/UI/InsertRootMust</bringIngredientsIcon >

				<cancelIngredientsText>VBE_CancelBringingTequilaMust</cancelIngredientsText> 
				<cancelIngredientsDesc>Artemiish_CancelBringingHealRootMustDesc</cancelIngredientsDesc>
				<cancelIngredientsIcon>ArtemiishThings/UI/CancelRootMust</cancelIngredientsIcon> 
				<isRainDependingMachine>true</isRainDependingMachine>
				
				<isTemperatureDependingMachine>true</isTemperatureDependingMachine>
				<minTemp>15</minTemp>
				<maxTemp>41</maxTemp>
				
				<destroyIngredientsAtStartOfProcess>true</destroyIngredientsAtStartOfProcess>
			</li>
		</comps>
		<constructionSkillPrerequisite>5</constructionSkillPrerequisite>
		<minifiedDef>MinifiedThing</minifiedDef>
	</ThingDef>
	
	<ItemProcessor.ItemAcceptedDef>
		<defName>Artemiish_RootSpiritStillFirstItem</defName>
		<building>Artemiish_RootSpiritStill</building>
		<slot>1</slot>
		<items>			
			<li>Artemiish_RootMust</li>						
		</items>							
	</ItemProcessor.ItemAcceptedDef>
	
	<ItemProcessor.CombinationDef>
		<defName>Artemiish_HealrootMustToSpirit</defName>
		<building>Artemiish_RootSpiritStill</building>
		<items>
			<li>Artemiish_RootMust</li>
		</items>	
		<amount>
			<li>25</li>
		</amount>
		<result>Artemiish_RootSpirit</result>	
		<yield>25</yield>
		<useQualityIncreasing>false</useQualityIncreasing>
		<singleTimeIfNotQualityIncreasing>10</singleTimeIfNotQualityIncreasing>
	</ItemProcessor.CombinationDef>

</Defs>