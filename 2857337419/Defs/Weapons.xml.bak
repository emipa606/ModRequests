<?xml version="1.0" encoding="utf-8" ?>
<Defs>

<ThingDef ParentName="BaseWeapon">
    <defName>NorseWeapon_Gungnir</defName>
    <label>Gungnir</label>
    <description>Created by Dvalinn and the Sons of Ivaldi, behold Gungnir, Odin's spear!</description>
    <meleeHitSound>MeleeHit_Metal_Sharp</meleeHitSound>
    <equippedAngleOffset>-65</equippedAngleOffset>
    <relicChance>3</relicChance>
	
	<useHitPoints>false</useHitPoints>
	<tradeability>Sellable</tradeability>
    <weaponClasses>
	  <li>Melee</li>
      <li>MeleePiercer</li>
    </weaponClasses>
	<thingCategories>
      <li>WeaponsMelee</li>
    </thingCategories>
	<weaponTags>
      <li>Norse_LegendaryWeapon</li>
    </weaponTags>

	<techLevel>Neolithic</techLevel>
	<inspectorTabs>
      <li>ITab_Art</li>
    </inspectorTabs>	
	<statBases>
	  <Mass>4</Mass>
      <Flammability>0</Flammability>
      <DeteriorationRate>0</DeteriorationRate>
      <Beauty>15</Beauty>
      <SellPriceFactor>0.50</SellPriceFactor>
	  <MarketValue>3000</MarketValue>
    </statBases>
	<thingSetMakerTags>
      <li>RewardStandardHighFreq</li>
	  <li>MapGen_AncientPodContents</li>
	  <li>MapGen_AncientTempleContents</li>
	  <li MayRequire="Ludeon.RimWorld.Ideology">MapGen_AncientComplexRoomLoot_Default</li>
	  <li MayRequire="Ludeon.RimWorld.Ideology">MapGen_AncientComplexRoomLoot_Better</li>
	  <li MayRequire="Ludeon.RimWorld.Ideology">MapGen_AncientComplex_SecurityCrate</li>
	  
    </thingSetMakerTags>
	
    <graphicData>
      <texPath>Things/Weapons/Gungnir</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <tools>
      <li>
        <label>handle</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>12</power>
        <cooldownTime>2</cooldownTime>
      </li>
      <li>
        <label>point</label>
        <capacities>
          <li>Stab</li>
        </capacities>
        <power>21</power>
		<armorPenetration>1</armorPenetration>
        <cooldownTime>2.6</cooldownTime>
        <extraMeleeDamages>
          <li>
            <def>Stab</def>
            <amount>10</amount>
            <chance>0.5</chance>
          </li>
		  <li>
            <def>Stun</def>
            <amount>3</amount>
            <chance>0.7</chance>
          </li>
        </extraMeleeDamages>
      </li>
      <li>
        <label>edge</label>
        <capacities>
          <li>Cut</li>
        </capacities>
        <power>21</power>
		<armorPenetration>1</armorPenetration>
        <cooldownTime>2.6</cooldownTime>
        <extraMeleeDamages>
          <li>
            <def>Cut</def>
            <amount>10</amount>
            <chance>0.5</chance>
          </li>
		  <li>
            <def>Stun</def>
            <amount>3</amount>
            <chance>0.7</chance>
          </li>
        </extraMeleeDamages>
      </li>
    </tools>
	<modExtensions>
      <li Class="VFECore.ThingDefExtension">
        <usableWithShields>true</usableWithShields>
      </li>
    </modExtensions>
</ThingDef>

<ThingDef ParentName="BaseWeapon">
    <defName>NorseWeapon_Laevateinn</defName>
    <label>Laevateinn</label>
    <description>Loki created this dagger himself to slay Vidofnir, behold Laevateinn!</description>
    <meleeHitSound>MeleeHit_Metal_Sharp</meleeHitSound>
    <equippedAngleOffset>-65</equippedAngleOffset>
    <relicChance>3</relicChance>
	
	<useHitPoints>false</useHitPoints>
	<tradeability>Sellable</tradeability>
	<thingCategories>
      <li>WeaponsMelee</li>
    </thingCategories>
	<weaponTags>
      <li>Norse_LegendaryWeapon</li>
    </weaponTags>
	
	<techLevel>Neolithic</techLevel>
	<inspectorTabs>
      <li>ITab_Art</li>
    </inspectorTabs>	
	<statBases>
	  <Mass>4</Mass>
      <Flammability>0</Flammability>
      <DeteriorationRate>0</DeteriorationRate>
      <Beauty>15</Beauty>
      <SellPriceFactor>0.50</SellPriceFactor>
	  <MarketValue>3000</MarketValue>
    </statBases>
	<thingSetMakerTags>
      <li>RewardStandardHighFreq</li>
    </thingSetMakerTags>
	
	<useHitPoints>false</useHitPoints>
    <weaponClasses>
	  <li>Melee</li>
      <li>MeleePiercer</li>
    </weaponClasses>
    <graphicData>
      <texPath>Things/Weapons/Laevateinn</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <tools>
      <li>
        <label>handle</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>12</power>
        <cooldownTime>0.7</cooldownTime>
      </li>
      <li>
        <label>point</label>
        <capacities>
          <li>Stab</li>
        </capacities>
        <power>12</power>
		<armorPenetration>0.85</armorPenetration>
        <cooldownTime>1</cooldownTime>
        <extraMeleeDamages>
		  <li>
            <def>Flame</def>
            <amount>15</amount>
            <chance>1</chance>
          </li>
        </extraMeleeDamages>
      </li>
      <li>
        <label>edge</label>
        <capacities>
          <li>Cut</li>
        </capacities>
        <power>12</power>
		<armorPenetration>0.85</armorPenetration>
        <cooldownTime>1</cooldownTime>
        <extraMeleeDamages>
          <li>
            <def>Flame</def>
            <amount>15</amount>
            <chance>1</chance>
          </li>
        </extraMeleeDamages>
      </li>
    </tools>
	<modExtensions>
      <li Class="VFECore.ThingDefExtension">
        <usableWithShields>true</usableWithShields>
      </li>
    </modExtensions>
</ThingDef>

<ThingDef ParentName="BaseWeapon">
    <defName>NorseWeapon_Hofund</defName>
    <label>Hofund</label>
    <description>The sword that opens the Bifrost bridge, behold Hofund, sword of Heimdall!</description>
    <meleeHitSound>MeleeHit_Metal_Sharp</meleeHitSound>
    <equippedAngleOffset>-65</equippedAngleOffset>
    <relicChance>3</relicChance>
	
	<useHitPoints>false</useHitPoints>
	<tradeability>Sellable</tradeability>
	<thingCategories>
      <li>WeaponsMelee</li>
    </thingCategories>
	<weaponTags>
      <li>Norse_LegendaryWeapon</li>
    </weaponTags>
	
	<techLevel>Neolithic</techLevel>
	<inspectorTabs>
      <li>ITab_Art</li>
    </inspectorTabs>	
	<statBases>
	  <Mass>4</Mass>
      <Flammability>0</Flammability>
      <DeteriorationRate>0</DeteriorationRate>
      <Beauty>15</Beauty>
      <SellPriceFactor>0.50</SellPriceFactor>
	  <MarketValue>3000</MarketValue>
    </statBases>
	<thingSetMakerTags>
      <li>RewardStandardHighFreq</li>
    </thingSetMakerTags>
	
	<useHitPoints>false</useHitPoints>
    <weaponClasses>
	  <li>Melee</li>
      <li>MeleePiercer</li>
    </weaponClasses>
    <graphicData>
      <texPath>Things/Weapons/Hofund</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <tools>
      <li>
        <label>handle</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>12</power>
        <cooldownTime>1.7</cooldownTime>
      </li>
      <li>
        <label>point</label>
        <capacities>
          <li>Norse_HofundCapacity</li>
        </capacities>
        <power>22</power>
		<armorPenetration>0.95</armorPenetration>
        <cooldownTime>2</cooldownTime>
      </li>
      <li>
        <label>edge</label>
        <capacities>
          <li>Norse_HofundCapacity</li>
        </capacities>
        <power>22</power>
		<armorPenetration>0.95</armorPenetration>
        <cooldownTime>2</cooldownTime>
      </li>
    </tools>
	<modExtensions>
      <li Class="VFECore.ThingDefExtension">
        <usableWithShields>true</usableWithShields>
      </li>
    </modExtensions>
</ThingDef>

<ThingDef ParentName="BaseWeapon">
    <defName>NorseWeapon_Mjolnir</defName>
    <label>Mjolnir</label>
    <description>Forged by the dwarves this weapon of immense power can crush the heads of giants, behold Mjolnir hammer of Thor!</description>
    <meleeHitSound>MeleeHit_Metal_Blunt</meleeHitSound>
    <equippedAngleOffset>-20</equippedAngleOffset>
    <relicChance>3</relicChance>
	
	<useHitPoints>false</useHitPoints>
	<tradeability>Sellable</tradeability>
    <weaponClasses>
	  <li>Melee</li>
      <li>MeleeBlunt</li>
    </weaponClasses>
	<thingCategories>
      <li>WeaponsMelee</li>
    </thingCategories>
	<weaponTags>
      <li>Norse_LegendaryWeapon</li>
    </weaponTags>
	
	<techLevel>Neolithic</techLevel>
	<inspectorTabs>
      <li>ITab_Art</li>
    </inspectorTabs>	
	<statBases>
	  <Mass>4</Mass>
      <Flammability>0</Flammability>
      <DeteriorationRate>0</DeteriorationRate>
      <Beauty>15</Beauty>
      <SellPriceFactor>0.50</SellPriceFactor>
	  <MarketValue>3000</MarketValue>
    </statBases>
	<thingSetMakerTags>
      <li>RewardStandardHighFreq</li>
    </thingSetMakerTags>
	
	<useHitPoints>false</useHitPoints>
    <graphicData>
      <texPath>Things/Weapons/Mjolnir</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <tools>
      <li>
        <label>handle</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>12</power>
        <cooldownTime>1.7</cooldownTime>
      </li>
      <li>
        <label>head</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
		<extraMeleeDamages>
		  <li>
            <def>EMP</def>
            <amount>5</amount>
            <chance>1</chance>
          </li>
        </extraMeleeDamages>
        <power>32</power>
		<armorPenetration>0.95</armorPenetration>
        <cooldownTime>2.7</cooldownTime>
      </li>
    </tools>
	<verbs>
		<li>
		  <verbClass>Verb_Shoot</verbClass>
		  <hasStandardCommand>true</hasStandardCommand>
		  <defaultProjectile>Norse_MjolnirProjectile</defaultProjectile>
		  <warmupTime>1.0</warmupTime>
		  <range>25.9</range>
		  <ticksBetweenBurstShots>12</ticksBetweenBurstShots>
		  <burstShotCount>1</burstShotCount>
		  <muzzleFlashScale>9</muzzleFlashScale>
		  <label>lightning strike</label>
		</li>
	  </verbs>
    <comps>
		<li Class="MVCF.Comps.CompProperties_VerbProps">
		  <compClass>CompEquippable</compClass>
		  <verbProps>
			<li>
			  <label>lightning strike</label>
			  <canBeToggled>true</canBeToggled>
			</li>
		  </verbProps>
		  <ConsiderMelee>true</ConsiderMelee>
		</li>
    </comps>
	<modExtensions>
      <li Class="VFECore.ThingDefExtension">
        <usableWithShields>true</usableWithShields>
      </li>
    </modExtensions>
</ThingDef>

<ThingDef ParentName="BaseWeapon">
    <defName>NorseWeapon_Gleipnir</defName>
    <label>Gleipnir</label>
    <description>Created using six impossible objects to bind the wolf Fenrir, behold Gleipnir, borne by the god Tyr, patron of warriors!</description>
    <meleeHitSound>MeleeHit_Metal_Blunt</meleeHitSound>
    <equippedAngleOffset>-20</equippedAngleOffset>
    <relicChance>3</relicChance>
	
	<useHitPoints>false</useHitPoints>
	<tradeability>Sellable</tradeability>
    <weaponClasses>
	  <li>Melee</li>
      <li>MeleeBlunt</li>
    </weaponClasses>
	<thingCategories>
      <li>WeaponsMelee</li>
    </thingCategories>
	<weaponTags>
      <li>Norse_LegendaryWeapon</li>
    </weaponTags>
	
	<techLevel>Neolithic</techLevel>
	<inspectorTabs>
      <li>ITab_Art</li>
    </inspectorTabs>	
	<statBases>
	  <Mass>4</Mass>
      <Flammability>0</Flammability>
      <DeteriorationRate>0</DeteriorationRate>
      <Beauty>15</Beauty>
      <SellPriceFactor>0.50</SellPriceFactor>
	  <MarketValue>3000</MarketValue>
    </statBases>
	<thingSetMakerTags>
      <li>RewardStandardHighFreq</li>
    </thingSetMakerTags>
	
	<useHitPoints>false</useHitPoints>
    <graphicData>
      <texPath>Things/Weapons/Gleipnir</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <tools>
      <li>
        <label>chain</label>
        <capacities>
          <li>Norse_GleipnirCapacity</li>
        </capacities>
        <power>12</power>
        <cooldownTime>1</cooldownTime>
		<armorPenetration>2</armorPenetration>
      </li>
    </tools>
	<modExtensions>
      <li Class="VFECore.ThingDefExtension">
        <usableWithShields>true</usableWithShields>
      </li>
    </modExtensions>
</ThingDef>

<ThingDef ParentName="BaseBullet">
    <defName>Norse_MjolnirProjectile</defName>
    <label>lightning strike</label>
	<thingClass>NorseWeapons.Projectile_LightningStrike</thingClass>
    <graphicData>
      <texPath>Things/Weapons/invis</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>EMP</damageDef>
      <damageAmountBase>0</damageAmountBase>
      <stoppingPower>1</stoppingPower>
      <speed>999</speed>
	  <flyOverhead>true</flyOverhead>
    </projectile>
</ThingDef>

<DamageDef>
    <defName>Norse_HofundDD</defName>
    <label>gatekeeper's strike</label>
    <workerClass>VFECore.DamageWorker_PushBackAttackMelee</workerClass>
    <externalViolence>true</externalViolence>
    <deathMessage>{0} has been pushed back from Valhalla.</deathMessage>
    <hediff>Cut</hediff>
    <hediffSkin>Cut</hediffSkin>
    <hediffSolid>Crack</hediffSolid>
    <harmAllLayersUntilOutside>true</harmAllLayersUntilOutside>
    <impactSoundType>Slice</impactSoundType>
    <armorCategory>Sharp</armorCategory>
    <overkillPctToDestroyPart>0~0.1</overkillPctToDestroyPart>
	<modExtensions>
		<li Class="VFECore.DamageExtension">
			<pushBackDistance>4</pushBackDistance>
			<soundOnDamage>Pawn_Melee_BigBash_HitPawn</soundOnDamage>
		</li>
	</modExtensions>
</DamageDef>

<ToolCapacityDef>
		<defName>Norse_HofundCapacity</defName>
		<label>gatekeeper's strike</label>
</ToolCapacityDef>
	
<ManeuverDef>
	<defName>Norse_HofundManeuver</defName>
	<requiredCapacity>Norse_HofundCapacity</requiredCapacity>
	<verb>
	  <verbClass>Verb_MeleeAttackDamage</verbClass>
	  <meleeDamageDef>Norse_HofundDD</meleeDamageDef>
	</verb>
	<logEntryDef>MeleeAttack</logEntryDef>
	<combatLogRulesHit>Maneuver_Slash_MeleeHit</combatLogRulesHit>
	<combatLogRulesDeflect>Maneuver_Slash_MeleeDeflect</combatLogRulesDeflect>
	<combatLogRulesMiss>Maneuver_Slash_MeleeMiss</combatLogRulesMiss>
	<combatLogRulesDodge>Maneuver_Slash_MeleeDodge</combatLogRulesDodge>
</ManeuverDef>

<DamageDef>
    <defName>Norse_GleipnirDD</defName>
    <label>binding strike</label>
    <workerClass>DamageWorker_Blunt</workerClass>
    <externalViolence>true</externalViolence>
    <deathMessage>{0} has been bound into Hel.</deathMessage>
    <hediff>Crush</hediff>
    <hediffSkin>Bruise</hediffSkin>
    <hediffSolid>Crack</hediffSolid>
    <harmAllLayersUntilOutside>true</harmAllLayersUntilOutside>
    <impactSoundType>Blunt</impactSoundType>
    <armorCategory>Blunt</armorCategory>
    <overkillPctToDestroyPart>0~0.1</overkillPctToDestroyPart>
	<bluntStunDuration>4.0</bluntStunDuration>
    <bluntInnerHitChance>0.4</bluntInnerHitChance>
    <bluntInnerHitDamageFractionToConvert>0.1~0.2</bluntInnerHitDamageFractionToConvert>
    <bluntInnerHitDamageFractionToAdd>0.2~0.35</bluntInnerHitDamageFractionToAdd>
    <bluntStunChancePerDamagePctOfCorePartToHeadCurve>
      <points>
        <li>(0.04, 0.20)</li>
        <li>(0.5, 1)</li>
      </points>
    </bluntStunChancePerDamagePctOfCorePartToHeadCurve>
    <bluntStunChancePerDamagePctOfCorePartToBodyCurve>
      <points>
        <li>(0.4, 0)</li>
        <li>(0.9, 0.15)</li>
      </points>
    </bluntStunChancePerDamagePctOfCorePartToBodyCurve>
	<additionalHediffs>
      <li>
        <hediff>Norse_GleipnirBinding</hediff>
        <severityPerDamageDealt>1</severityPerDamageDealt>
        <victimSeverityScalingByInvBodySize>true</victimSeverityScalingByInvBodySize>
      </li>
    </additionalHediffs>
</DamageDef>

<HediffDef>
	<defName>Norse_GleipnirBinding</defName>
	<label>Gleipnir's Binding</label>
	<hediffClass>HediffWithComps</hediffClass>
	<description>Bound by the great chain Gleipnir, this pawn cannot attack.</description>
	<initialSeverity>1</initialSeverity>
	<comps>
		<li Class="HediffCompProperties_SeverityPerDay">
			<severityPerDay>-12</severityPerDay>
		</li>
		<li Class="VFECore.Shields.HediffCompProperties_Draw">
			<compClass>VFECore.Shields.HediffComp_Draw</compClass>
			<graphic>
				<texPath>Things/Weapons/GleipnirBinding</texPath>
				<!--<drawSize>(2, 2)</drawSize>-->
				<graphicClass>Graphic_Single</graphicClass>
				<shaderType>TransparentPostLight</shaderType>
			</graphic>
		</li>
	</comps>
	<stages>
      <li>
        <label>I</label>
        <minSeverity>5</minSeverity>
        <capMods>
		  <li>
            <capacity>Moving</capacity>
            <offset>-0.2</offset>
          </li>
        </capMods>
      </li>
      <li>
        <label>II</label>
        <minSeverity>15</minSeverity>	
        <capMods>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.5</offset>
          </li>
        </capMods>
      </li>
	  <li>
        <label>III</label>
        <minSeverity>25</minSeverity>	
        <capMods>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.8</offset>
          </li>
        </capMods>
      </li>
	  <li>
        <label>IV</label>
        <minSeverity>35</minSeverity>	
        <capMods>
          <li>
            <capacity>Moving</capacity>
            <offset>-1.2</offset>
          </li>
        </capMods>
      </li>
	  <li>
        <label>V</label>
        <minSeverity>50</minSeverity>	
        <capMods>
		  <li>
            <capacity>Moving</capacity>
            <offset>-1.5</offset>
          </li>
        </capMods>
      </li>
    </stages>
</HediffDef>

<ToolCapacityDef>
		<defName>Norse_GleipnirCapacity</defName>
		<label>binding</label>
</ToolCapacityDef>

<ManeuverDef>
	<defName>Norse_GleipnirManeuver</defName>
	<requiredCapacity>Norse_GleipnirCapacity</requiredCapacity>
	<verb>
	  <verbClass>Verb_MeleeAttackDamage</verbClass>
	  <meleeDamageDef>Norse_GleipnirDD</meleeDamageDef>
	</verb>
	<logEntryDef>MeleeAttack</logEntryDef>
	<combatLogRulesHit>Maneuver_Slash_MeleeHit</combatLogRulesHit>
	<combatLogRulesDeflect>Maneuver_Slash_MeleeDeflect</combatLogRulesDeflect>
	<combatLogRulesMiss>Maneuver_Slash_MeleeMiss</combatLogRulesMiss>
	<combatLogRulesDodge>Maneuver_Slash_MeleeDodge</combatLogRulesDodge>
</ManeuverDef>

</Defs>