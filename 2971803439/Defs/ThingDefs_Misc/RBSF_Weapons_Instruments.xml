<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<WeaponClassDef>
		<defName>RBSF_Instrument</defName>
		<label>instrument</label>
	</WeaponClassDef>
	
	<!-- Lute -->
	
	<ThingDef ParentName="BaseWeaponNeolithic">
		<defName>RBSF_Lute</defName>
		<label>lute</label>
		<description>A light, plucked instrument favoured by entertainers. Though not ideal, it can be used in melee combat as a last resort. It passively increases the wielder's artistic skill.</description>
		<graphicData>
			<texPath>Things/Equipment/WeaponMelee/RBSF_Lute</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>1</drawSize>
		</graphicData>
		<relicChance Inherit="False">0</relicChance>
		<soundInteract>RBSF_LuteEquip</soundInteract>
		<techLevel>Neolithic</techLevel>
		<weaponTags>
			<li>Instrument</li>
		</weaponTags>
		<weaponClasses>
			<li>Neolithic</li>
			<li>RBSF_Instrument</li>
		</weaponClasses>
		<statBases>
			<WorkToMake>2200</WorkToMake>
			<Mass>0.8</Mass>
			<Beauty>10</Beauty>
			<MarketValue>53</MarketValue>
		</statBases>
		<equippedAngleOffset>5</equippedAngleOffset>
		<costStuffCount>100</costStuffCount>
		<stuffCategories>
			<li>Woody</li>
		</stuffCategories>
		<costList>
			<Steel>20</Steel>
		</costList>
		<tools>
			<li>
				<label>body</label>
				<labelUsedInLogging>false</labelUsedInLogging>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>16</power>
				<cooldownTime>2.4</cooldownTime>
				<surpriseAttack>
					<extraMeleeDamages>
						<li>
							<def>Stun</def>
							<amount>14</amount>
						</li>
					</extraMeleeDamages>
				</surpriseAttack>
				<extraMeleeDamages>
					<li>
						<def>RBSF_BluntLuteDamage</def>
						<amount>1</amount>
					</li>
				</extraMeleeDamages>
			</li>
		</tools>
		<recipeMaker>
			<researchPrerequisite>Smithing</researchPrerequisite>
			<skillRequirements>
				<Crafting>10</Crafting>
			</skillRequirements>
			<recipeUsers>
				<li>CraftingSpot</li>
			</recipeUsers>
			<displayPriority>439</displayPriority>
		</recipeMaker>
		<tradeTags>
			<li>Instrument</li>
		</tradeTags>

	</ThingDef>
	
	<!-- Lyre -->
		
	<ThingDef ParentName="BaseWeaponNeolithic">
		<defName>RBSF_Lyre</defName>
		<label>lute</label>
		<description>A beautiful string instrument usually played to accompany the recital of poetry. It's pretty much useless in battle, but it passively increases the wielder's artistic skill.</description>
		<graphicData>
			<texPath>Things/Equipment/WeaponMelee/RBSF_Lyre</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>1</drawSize>
		</graphicData>
		<relicChance Inherit="False">0</relicChance>
		<soundInteract>RBSF_LyreEquip</soundInteract>
		<techLevel>Medieval</techLevel>
		<weaponTags>
			<li>Instrument</li>
		</weaponTags>
		<weaponClasses>
			<li>Neolithic</li>
			<li>RBSF_Instrument</li>
		</weaponClasses>
		<statBases>
			<WorkToMake>4300</WorkToMake>
			<Mass>0.4</Mass>
			<Beauty>20</Beauty>
			<MarketValue>40</MarketValue>
		</statBases>
		<equippedAngleOffset>0</equippedAngleOffset>
		<costStuffCount>70</costStuffCount>
		<stuffCategories>
			<li>Woody</li>
			<li>Stony</li>
			<li>Metallic</li>
		</stuffCategories>
		<costList>
			<Steel>20</Steel>
		</costList>
		<tools>
			<li>
				<label>body</label>
				<labelUsedInLogging>false</labelUsedInLogging>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>13</power>
				<cooldownTime>2</cooldownTime>
				<surpriseAttack>
					<extraMeleeDamages>
						<li>
							<def>Stun</def>
							<amount>14</amount>
						</li>
					</extraMeleeDamages>
				</surpriseAttack>
				<extraMeleeDamages>
					<li>
						<def>RBSF_BluntLyreDamage</def>
						<amount>1</amount>
					</li>
				</extraMeleeDamages>
			</li>
		</tools>
		<recipeMaker>
			<researchPrerequisite>Smithing</researchPrerequisite>
			<skillRequirements>
				<Crafting>7</Crafting>
			</skillRequirements>
			<displayPriority>440</displayPriority>
		</recipeMaker>
		<tradeTags>
			<li>Instrument</li>
		</tradeTags>
	</ThingDef>
	
	<!-- ReedFlute -->
		
	<ThingDef ParentName="BaseWeaponNeolithic">
		<defName>RBSF_ReedFlute</defName>
		<label>reed flute</label>
		<description>A traditional woodwind instrument as old as time. It passively increases the wielder's artistic skill, in exchange for being an incredibly useless weapon.</description>
		<graphicData>
			<texPath>Things/Equipment/WeaponMelee/RBSF_ReedFlute</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>0.6</drawSize>
		</graphicData>
		<relicChance Inherit="False">0</relicChance>
		<soundInteract>RBSF_ReedFluteEquip</soundInteract>
		<techLevel>Neolithic</techLevel>
		<weaponTags>
			<li>Instrument</li>
		</weaponTags>
		<weaponClasses>
			<li>Neolithic</li>
			<li>RBSF_Instrument</li>
		</weaponClasses>
		<statBases>
			<WorkToMake>2300</WorkToMake>
			<Mass>0.2</Mass>
			<MarketValue>35</MarketValue>
		</statBases>
		<equippedAngleOffset>-90</equippedAngleOffset>
		<costStuffCount>25</costStuffCount>
		<stuffCategories>
			<li>Woody</li>
			<li>Metallic</li>
		</stuffCategories>
		<tools>
			<li>
				<label>body</label>
				<labelUsedInLogging>false</labelUsedInLogging>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>3.3</power>
				<cooldownTime>1.2</cooldownTime>
				<extraMeleeDamages>
					<li>
						<def>RBSF_BluntReedFluteDamage</def>
						<amount>1</amount>
					</li>
				</extraMeleeDamages>
			</li>
		</tools>
		<recipeMaker>
			<skillRequirements>
				<Crafting>5</Crafting>
			</skillRequirements>
			<recipeUsers>
				<li>CraftingSpot</li>
			</recipeUsers>
			<displayPriority>441</displayPriority>
		</recipeMaker>
		<tradeTags>
			<li>Instrument</li>
		</tradeTags>
	</ThingDef>
	
	<!-- Bodhran -->
		
	<ThingDef ParentName="BaseWeaponNeolithic">
		<defName>RBSF_Bodhran</defName>
		<label>bodhrán</label>
		<description>A traditional drum that passively increases the wielder's artistic skill. Throwing it at an enemy will cause it to smash and break.</description>
		<graphicData>
			<texPath>Things/Equipment/WeaponMelee/RBSF_Bodhran</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>0.95</drawSize>
		</graphicData>
		<relicChance Inherit="False">0</relicChance>
		<soundInteract>RBSF_BodhranEquip</soundInteract>
		<techLevel>Neolithic</techLevel>
		<weaponTags>
			<li>Instrument</li>
		</weaponTags>
		<weaponClasses>
			<li>Neolithic</li>
			<li>RBSF_Instrument</li>
		</weaponClasses>
		<statBases>
			<WorkToMake>4000</WorkToMake>
			<Mass>0.3</Mass>
			<MarketValue>35</MarketValue>
		</statBases>
		<equippedAngleOffset>0</equippedAngleOffset>
		<costStuffCount>35</costStuffCount>
		<stuffCategories>
			<li>Leathery</li>
		</stuffCategories>
		<costList>
			<WoodLog>15</WoodLog>
		</costList>
		<verbs>
			<li>
				<verbClass>Verb_ShootOneUse</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>RBSF_Bullet_Bodhran</defaultProjectile>
				<warmupTime>0.8</warmupTime>
				<range>10</range>
				<soundCast>ThrowGrenade</soundCast>
				<onlyManualCast>true</onlyManualCast>
				<rangedFireRulepack>Combat_RangedFire_Thrown</rangedFireRulepack>
			</li>
		</verbs>
		<tools>
			<li>
				<label>bodhrán</label>
				<labelUsedInLogging>false</labelUsedInLogging>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>1</power>
				<cooldownTime>1.1</cooldownTime>
			</li>
		</tools>
		<recipeMaker>
			<skillRequirements>
				<Crafting>5</Crafting>
			</skillRequirements>
			<recipeUsers>
				<li>CraftingSpot</li>
			</recipeUsers>
			<displayPriority>441</displayPriority>
		</recipeMaker>
		<tradeTags>
			<li>Instrument</li>
		</tradeTags>
	</ThingDef>
	
	<ThingDef ParentName="BaseBullet">
		<defName>RBSF_Bullet_Bodhran</defName>
		<label>bodhrán</label>
		<graphicData>
			<texPath>Things/Equipment/WeaponMelee/Projectile</texPath>
			<graphicClass>Graphic_Flicker</graphicClass>
		</graphicData>
		<projectile>
			<damageDef>RBSF_BluntBodhranDamage</damageDef>
			<damageAmountBase>3</damageAmountBase>
			<stoppingPower>1.3</stoppingPower>
			<speed>35</speed>
		</projectile>
	</ThingDef>
		
	<DamageDef ParentName="BluntBase">
		<defName>RBSF_BluntLuteDamage</defName>
		<label>blunt</label>
		<damageEffecter>RBSF_Impact_Lute</damageEffecter>
	</DamageDef>
  
	<DamageDef ParentName="BluntBase">
		<defName>RBSF_BluntLyreDamage</defName>
		<label>blunt</label>
		<damageEffecter>RBSF_Impact_Lyre</damageEffecter>
	</DamageDef>
	
	<DamageDef ParentName="BluntBase">
		<defName>RBSF_BluntReedFluteDamage</defName>
		<label>blunt</label>
		<damageEffecter>RBSF_Impact_ReedFlute</damageEffecter>
	</DamageDef>
	
	<DamageDef ParentName="BluntBase">
		<defName>RBSF_BluntBodhranDamage</defName>
		<label>blunt</label>
		<damageEffecter>RBSF_Impact_Bodhran</damageEffecter>
	</DamageDef>
  
	<!--====================== Instrument Impact Effects ======================-->
	<!-- Lute -->
	
	<EffecterDef>
		<defName>RBSF_Impact_Lute</defName>
		<children>
			<li>
				<subEffecterClass>SubEffecter_SoundTriggered</subEffecterClass>
				<soundDef>RBSF_LuteHit</soundDef>
			</li>
			<li>
				<subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
				<fleckDef>RBSF_InstrumentImpact</fleckDef>
				<positionLerpFactor>0</positionLerpFactor>
				<scale>0.8~2</scale>
				<spawnLocType>OnSource</spawnLocType>
			</li>
		</children>
	</EffecterDef>
	
	<!-- Lyre -->
	
	<EffecterDef>
		<defName>RBSF_Impact_Lyre</defName>
		<children>
			<li>
				<subEffecterClass>SubEffecter_SoundTriggered</subEffecterClass>
				<soundDef>RBSF_LyreHit</soundDef>
			</li>
			<li>
				<subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
				<fleckDef>RBSF_InstrumentImpact</fleckDef>
				<positionLerpFactor>0</positionLerpFactor>
				<scale>0.8~2</scale>
				<spawnLocType>OnSource</spawnLocType>
			</li>
		</children>
	</EffecterDef>
	
	<!-- Reed Flute -->
	
	<EffecterDef>
		<defName>RBSF_Impact_ReedFlute</defName>
		<children>
			<li>
				<subEffecterClass>SubEffecter_SoundTriggered</subEffecterClass>
				<soundDef>MeleeHit_Wood</soundDef>
			</li>
			<li>
				<subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
				<fleckDef>RBSF_InstrumentImpact</fleckDef>
				<positionLerpFactor>0</positionLerpFactor>
				<scale>0.8~2</scale>
				<spawnLocType>OnSource</spawnLocType>
			</li>
		</children>
	</EffecterDef>
	
	<!-- Bodhran Flute -->
	
	<EffecterDef>
		<defName>RBSF_Impact_Bodhran</defName>
		<children>
			<li>
				<subEffecterClass>SubEffecter_SoundTriggered</subEffecterClass>
				<soundDef>RBSF_BodhranHit</soundDef>
			</li>
			<li>
				<subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
				<fleckDef>RBSF_InstrumentImpact</fleckDef>
				<positionLerpFactor>0</positionLerpFactor>
				<scale>0.8~2</scale>
				<spawnLocType>OnSource</spawnLocType>
			</li>
		</children>
	</EffecterDef>
	
	<!-- Instruments Impact -->
	
	<FleckDef ParentName="FleckBase_RandomGraphic_Thrown">
		<defName>RBSF_InstrumentImpact</defName>
		<randomGraphics>
			<li>
				<texPath>Things/Mote/MusicImpact/RBSF_MusicImpactA</texPath>
				<shaderType>Mote</shaderType>
				<graphicClass>Graphic_Fleck</graphicClass>
				<drawSize>(2,2)</drawSize>
			</li>
			<li>
				<texPath>Things/Mote/MusicImpact/RBSF_MusicImpactB</texPath>
				<shaderType>Mote</shaderType>
				<graphicClass>Graphic_Fleck</graphicClass>
				<drawSize>(2,2)</drawSize>
			</li>
			<li>
				<texPath>Things/Mote/MusicImpact/RBSF_MusicImpactC</texPath>
				<shaderType>Mote</shaderType>
				<graphicClass>Graphic_Fleck</graphicClass>
				<drawSize>(2,2)</drawSize>
			</li>
		</randomGraphics>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<fadeInTime>0.3</fadeInTime>
		<solidTime>0.3</solidTime>
		<fadeOutTime>0.2</fadeOutTime>
		<growthRate>1</growthRate>
	</FleckDef>
	
</Defs>