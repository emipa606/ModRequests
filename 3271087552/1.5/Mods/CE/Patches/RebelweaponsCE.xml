<?xml version="1.0" encoding="utf-8"?>

<Patch>

    <!--===== TOOLS FOR THE TOOL GOD =====-->
	<Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName = "QM_RedOutcastAR" or defName = "QM_UprisingC77SMG" or defName = "QM_NakhjirRF" or defName = "QM_UprisingD20SMG" or defName = "QM_ApolloAR"]/tools</xpath>
        <value>
            <tools>
                <li Class="CombatExtended.ToolCE">
                    <label>stock</label>
                    <capacities>
                        <li>Blunt</li>
                    </capacities>
                    <power>8</power>
                    <cooldownTime>1.55</cooldownTime>
                    <chanceFactor>1.5</chanceFactor>
                    <armorPenetrationBlunt>2.755</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
                </li>
                <li Class="CombatExtended.ToolCE">
                    <label>barrel</label>
                    <capacities>
                        <li>Blunt</li>
                    </capacities>
                    <power>5</power>
                    <cooldownTime>2.02</cooldownTime>
                    <armorPenetrationBlunt>1.630</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
                </li>
                <li Class="CombatExtended.ToolCE">
                    <label>muzzle</label>
                    <capacities>
                        <li>Poke</li>
                    </capacities>
                    <power>8</power>
                    <cooldownTime>1.55</cooldownTime>
                    <armorPenetrationBlunt>2.755</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
                </li>
            </tools>
        </value>
    </Operation>
	
	 <!--===== Pistol =====-->
	 <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName = "QM_CricketHG" or defName = "QM_ScorpionHG" or defName = "QM_PrometheusHG"]/tools</xpath>
        <value>
            <tools>
                <li Class="CombatExtended.ToolCE">
                    <label>grip</label>
                    <capacities>
                        <li>Blunt</li>
                    </capacities>
                    <power>2</power>
                    <cooldownTime>1.54</cooldownTime>
                    <chanceFactor>1.5</chanceFactor>
                    <armorPenetrationBlunt>0.555</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Grip</linkedBodyPartsGroup>
                </li>
                <li Class="CombatExtended.ToolCE">
                    <label>muzzle</label>
                    <capacities>
                        <li>Poke</li>
                    </capacities>
                    <power>2</power>
                    <cooldownTime>1.54</cooldownTime>
                    <armorPenetrationBlunt>0.555</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
                </li>
            </tools>
        </value>
    </Operation>
	
	 <!--===== Melee =====-->
	 <Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName = "QM_HangoverML"]/tools</xpath>
        <value>
            <tools>
                <li Class="CombatExtended.ToolCE">
                    <label>power fist</label>
                    <capacities>
                        <li>Blunt</li>
                    </capacities>
                    <power>24</power>
                    <cooldownTime>2</cooldownTime>
                    <chanceFactor>1.5</chanceFactor>
                    <armorPenetrationBlunt>80.5</armorPenetrationBlunt>
                    <linkedBodyPartsGroup>Grip</linkedBodyPartsGroup>
                </li>
            </tools>
        </value>
    </Operation>
	
    <!--guns-->
	<!--pistol-->
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>QM_CricketHG</defName>
        <statBases>
            <Bulk>0.8</Bulk>
            <Mass>0.75</Mass>
            <RangedWeapon_Cooldown>0.3</RangedWeapon_Cooldown>
            <SightsEfficiency>0.5</SightsEfficiency>
            <ShotSpread>0.5</ShotSpread>
            <SwayFactor>1.55</SwayFactor>
            <WorkToMake>4000</WorkToMake>
        </statBases>
        <Properties>
            <verbClass>CombatExtended.Verb_ShootCE</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>QM_Bullet_9mmC_FMJ</defaultProjectile>
            <warmupTime>0.3</warmupTime>
            <range>15.9</range>
            <soundCast>Shot_QM_Pistol</soundCast>
            <soundCastTail>GunTail_Light</soundCastTail>
            <muzzleFlashScale>9</muzzleFlashScale>
			<recoilAmount>1.05</recoilAmount>
        </Properties>
        <AmmoUser>
            <magazineSize>6</magazineSize>
            <reloadTime>2</reloadTime>
            <ammoSet>QM_AmmoSet_9mmC</ammoSet>
        </AmmoUser>
        <FireModes>
            <aiUseBurstMode>TRUE</aiUseBurstMode>
            <aiAimMode>AimedShot</aiAimMode>
        </FireModes>
		<weaponTags>
			<li>CE_Sidearm</li>
			<li>CE_OneHandedWeapon</li>
		</weaponTags>
    </Operation>
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>QM_ScorpionHG</defName>
        <statBases>
            <Bulk>2.2</Bulk>
            <Mass>1.8</Mass>
            <RangedWeapon_Cooldown>0.38</RangedWeapon_Cooldown>
            <SightsEfficiency>0.7</SightsEfficiency>
            <ShotSpread>0.3</ShotSpread>
            <SwayFactor>1.5</SwayFactor>
            <WorkToMake>6000</WorkToMake>
        </statBases>
        <Properties>
            <verbClass>CombatExtended.Verb_ShootCE</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>QM_Bullet_9mmC_FMJ</defaultProjectile>
            <warmupTime>0.4</warmupTime>
            <range>25.9</range>
			<burstShotCount>5</burstShotCount>
            <ticksBetweenBurstShots>8</ticksBetweenBurstShots>
            <soundCast>Shot_QM_SMG</soundCast>
            <soundCastTail>GunTail_Light</soundCastTail>
            <muzzleFlashScale>9</muzzleFlashScale>
			<recoilAmount>1.05</recoilAmount>
        </Properties>
        <AmmoUser>
            <magazineSize>30</magazineSize>
            <reloadTime>2</reloadTime>
            <ammoSet>QM_AmmoSet_9mmC</ammoSet>
        </AmmoUser>
        <FireModes>
            <aiUseBurstMode>TRUE</aiUseBurstMode>
            <aiAimMode>AimedShot</aiAimMode>
        </FireModes>
		<weaponTags>
			<li>CE_Sidearm</li>
			<li>CE_OneHandedWeapon</li>
			<li>CE_AI_BROOM</li>
		</weaponTags>
    </Operation>
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
        <defName>QM_PrometheusHG</defName>
        <statBases>
            <Bulk>2.8</Bulk>
            <Mass>2.4</Mass>
            <RangedWeapon_Cooldown>1.0</RangedWeapon_Cooldown>
            <SightsEfficiency>1.0</SightsEfficiency>
            <ShotSpread>0.1</ShotSpread>
            <SwayFactor>1.1</SwayFactor>
            <WorkToMake>100000</WorkToMake>
        </statBases>
        <Properties>
            <verbClass>CombatExtended.Verb_ShootCE</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>QM_Bullet_CivRes_pistol</defaultProjectile>
            <warmupTime>1</warmupTime>
            <range>25.9</range>
            <soundCast>Shot_QM_PlasmaPistol</soundCast>
            <soundCastTail>GunTail_Light</soundCastTail>
            <muzzleFlashScale>9</muzzleFlashScale>
			<recoilAmount>1.0</recoilAmount>
        </Properties>
        <AmmoUser>
            <magazineSize>6</magazineSize>
            <reloadTime>0.5</reloadTime>
			<reloadOneAtATime>true</reloadOneAtATime>
            <ammoSet>QM_AmmoSet_CivRes_pistol</ammoSet>
        </AmmoUser>
        <FireModes>
            <aiUseBurstMode>FALSE</aiUseBurstMode>
            <aiAimMode>AimedShot</aiAimMode>
        </FireModes>
		<weaponTags>
			<li>CE_Sidearm</li>
			<li>CE_OneHandedWeapon</li>
			<li>CE_AI_BROOM</li>
		</weaponTags>
    </Operation>
	
	<!--SMG-->
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
		<defName>QM_UprisingC77SMG</defName>
		<statBases>
			<Mass>3.2</Mass>
			<Bulk>5.2</Bulk>
			<RangedWeapon_Cooldown>0.34</RangedWeapon_Cooldown>
			<SightsEfficiency>1.0</SightsEfficiency>
			<ShotSpread>0.3</ShotSpread>
			<SwayFactor>1.55</SwayFactor>
			<WorkToMake>20000</WorkToMake>
		</statBases>
		<Properties>
			<verbClass>CombatExtended.Verb_ShootCE</verbClass>
			<hasStandardCommand>true</hasStandardCommand>
			<defaultProjectile>QM_Bullet_42C_FMJ</defaultProjectile>
			<warmupTime>0.6</warmupTime>
			<range>40</range>
			<burstShotCount>6</burstShotCount>
			<ticksBetweenBurstShots>10</ticksBetweenBurstShots>
			<soundCast>Shot_QM_CivSMG1</soundCast>
			<soundCastTail>GunTail_Heavy</soundCastTail>
			<muzzleFlashScale>9</muzzleFlashScale>
			<recoilAmount>1.9</recoilAmount>
		</Properties>
		<AmmoUser>
			<magazineSize>24</magazineSize>
			<reloadTime>4</reloadTime>
			<ammoSet>QM_AmmoSet_42C</ammoSet>
		</AmmoUser>
		<FireModes>
			<aimedBurstShotCount>3</aimedBurstShotCount>
			<aiUseBurstMode>FALSE</aiUseBurstMode>
			<aiAimMode>Snapshot</aiAimMode>
		</FireModes>
		<weaponTags>
			<li>CE_SMG</li>
			<li>CE_AI_BROOM</li>
		</weaponTags>
	</Operation>
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
		<defName>QM_UprisingD20SMG</defName>
		<statBases>
			<Mass>3.2</Mass>
			<Bulk>5.8</Bulk>
			<RangedWeapon_Cooldown>0.32</RangedWeapon_Cooldown>
			<SightsEfficiency>1.50</SightsEfficiency>
			<ShotSpread>0.3</ShotSpread>
			<SwayFactor>1.55</SwayFactor>
			<WorkToMake>20000</WorkToMake>
		</statBases>
		<Properties>
			<verbClass>CombatExtended.Verb_ShootCE</verbClass>
			<hasStandardCommand>true</hasStandardCommand>
			<defaultProjectile>QM_Bullet_9mmC_FMJ</defaultProjectile>
			<warmupTime>0.5</warmupTime>
			<range>40</range>
			<burstShotCount>6</burstShotCount>
			<ticksBetweenBurstShots>10</ticksBetweenBurstShots>
			<soundCast>Shot_QM_CivSMG2</soundCast>
			<soundCastTail>GunTail_Heavy</soundCastTail>
			<muzzleFlashScale>9</muzzleFlashScale>
			<recoilAmount>1.05</recoilAmount>
		</Properties>
		<AmmoUser>
			<magazineSize>80</magazineSize>
			<reloadTime>4</reloadTime>
			<ammoSet>QM_AmmoSet_9mmC</ammoSet>
		</AmmoUser>
		<FireModes>
			<aimedBurstShotCount>6</aimedBurstShotCount>
			<aiUseBurstMode>FALSE</aiUseBurstMode>
			<aiAimMode>Snapshot</aiAimMode>
		</FireModes>
		<weaponTags>
			<li>CE_SMG</li>
			<li>CE_AI_BROOM</li>
		</weaponTags>
	</Operation>
	
	<!--AR-->
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
		<defName>QM_RedOutcastAR</defName>
		<statBases>
			<Mass>4.2</Mass>
			<Bulk>10.9</Bulk>
			<RangedWeapon_Cooldown>0.37</RangedWeapon_Cooldown>
			<SightsEfficiency>1.5</SightsEfficiency>
			<ShotSpread>0.3</ShotSpread>
			<SwayFactor>1.55</SwayFactor>
			<WorkToMake>42000</WorkToMake>
		</statBases>
		<Properties>
			<recoilAmount>2.3</recoilAmount>
			<verbClass>CombatExtended.Verb_ShootCE</verbClass>
			<hasStandardCommand>true</hasStandardCommand>
			<defaultProjectile>QM_Bullet_797C_FMJ</defaultProjectile>
			<warmupTime>0.6</warmupTime>
			<range>69.9</range>
			<burstShotCount>6</burstShotCount>
			<ticksBetweenBurstShots>8</ticksBetweenBurstShots>
			<soundCast>Shot_QM_MediumAR</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
			<muzzleFlashScale>9</muzzleFlashScale>
		</Properties>
		<AmmoUser>
			<magazineSize>50</magazineSize>
			<reloadTime>4</reloadTime>
			<ammoSet>QM_AmmoSet_797C</ammoSet>
		</AmmoUser>
		<FireModes>
			<aimedBurstShotCount>3</aimedBurstShotCount>
			<aiUseBurstMode>TRUE</aiUseBurstMode>
			<aiAimMode>AimedShot</aiAimMode>
		</FireModes>
		<weaponTags>
			<li>CE_AI_AR</li>
		</weaponTags>
	</Operation>
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
		<defName>QM_ApolloAR</defName>
		<statBases>
			<Mass>3.2</Mass>
			<RangedWeapon_Cooldown>0.35</RangedWeapon_Cooldown>
			<SightsEfficiency>1.5</SightsEfficiency>
			<ShotSpread>0.05</ShotSpread>
			<SwayFactor>1.2</SwayFactor>
			<Bulk>9.2</Bulk>
			<WorkToMake>122000</WorkToMake>
		</statBases>
		<Properties>
			<recoilAmount>1.1</recoilAmount>
			<verbClass>CombatExtended.Verb_ShootCE</verbClass>
			<hasStandardCommand>true</hasStandardCommand>
			<defaultProjectile>QM_Bullet_797C_FMJ</defaultProjectile>
			<warmupTime>1.0</warmupTime>
			<range>29.9</range>
			<burstShotCount>4</burstShotCount>
			<ticksBetweenBurstShots>12</ticksBetweenBurstShots>
			<soundCast>Shot_QM_PlasmaRifle</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
			<muzzleFlashScale>9</muzzleFlashScale>
		</Properties>
		<AmmoUser>
			<magazineSize>20</magazineSize>
            <reloadTime>0.5</reloadTime>
			<reloadOneAtATime>true</reloadOneAtATime>
            <ammoSet>QM_AmmoSet_CivRes_pistol</ammoSet>
		</AmmoUser>
		<FireModes>
			<aimedBurstShotCount>2</aimedBurstShotCount>
			<aiUseBurstMode>FALSE</aiUseBurstMode>
			<aiAimMode>AimedShot</aiAimMode>
		</FireModes>
		<weaponTags>
			<li>CE_AI_AR</li>
		</weaponTags>
	</Operation>
	
	<!--Sniper-->
	
	<Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
		<defName>QM_NakhjirRF</defName>
		<statBases>
			<Mass>4.2</Mass>
			<RangedWeapon_Cooldown>0.9</RangedWeapon_Cooldown>
			<SightsEfficiency>2.5</SightsEfficiency>
			<ShotSpread>0.02</ShotSpread>
			<SwayFactor>1.2</SwayFactor>
			<Bulk>12.7</Bulk>
			<WorkToMake>50000</WorkToMake>
		</statBases>
		<Properties>
			<recoilAmount>1.8</recoilAmount>
			<verbClass>CombatExtended.Verb_ShootCE</verbClass>
			<hasStandardCommand>true</hasStandardCommand>
			<defaultProjectile>QM_Bullet_797C_FMJ</defaultProjectile>
			<warmupTime>0.6</warmupTime>
			<range>75.9</range>
			<soundCast>Shot_QM_MediumAR</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
			<muzzleFlashScale>9</muzzleFlashScale>
		</Properties>
		<AmmoUser>
			<magazineSize>10</magazineSize>
			<reloadTime>4</reloadTime>
			<ammoSet>QM_AmmoSet_797C</ammoSet>
		</AmmoUser>
		<FireModes>
			<aiUseBurstMode>TRUE</aiUseBurstMode>
			<aiAimMode>AimedShot</aiAimMode>
		</FireModes>
		<weaponTags Inherit="False">
			<li>CE_AI_SR</li>
			<li>Bipod_DMR</li>
		</weaponTags>
	</Operation>
	
</Patch>