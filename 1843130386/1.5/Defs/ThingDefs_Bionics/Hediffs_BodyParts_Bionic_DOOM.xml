<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <!-- These go in natural parts, but don't replace them -->
  <HediffDef Name="RH1_ImplantHediffBase_DOOM" Abstract="True">
    <hediffClass>Hediff_Implant</hediffClass>
    <defaultLabelColor>(0.6, 0.6, 1.0)</defaultLabelColor>
    <isBad>false</isBad>
    <priceImpact>true</priceImpact>
    <countsAsAddedPartOrImplant>true</countsAsAddedPartOrImplant>
    <allowMothballIfLowPriorityWorldPawn>true</allowMothballIfLowPriorityWorldPawn>
  </HediffDef>


  <!-- Healing enhancer -->

  <HediffDef ParentName="RH1_ImplantHediffBase_DOOM">
    <defName>DOOMSlayer_Implant</defName>
    <label>Slayer's mark</label>
    <labelNoun>an implant from the Divinity Machine.</labelNoun>
    <description>An installed slayer's mark.</description>
    <descriptionHyperlinks><ThingDef>DOOMSlayer_Implant</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>DOOMSlayer_Implant</spawnThingOnRemoved>
    <stages>
      <li>
	    <statOffsets>
		<!--<ArrestSuccessChance>1.0</ArrestSuccessChance>-->
	    <ImmunityGainSpeed>2.00</ImmunityGainSpeed>
		<!--<ShootingAccuracyPawn>0.75</ShootingAccuracyPawn>-->
		<MentalBreakThreshold>-0.25</MentalBreakThreshold>
		<MeleeHitChance>2.50</MeleeHitChance>
	    <MeleeDodgeChance>2.50</MeleeDodgeChance>
	    <!--<MeleeDPS>0.75</MeleeDPS>-->
	   <!--<MeleeArmorPenetration>0.75</MeleeArmorPenetration>-->
		  <ArmorRating_Sharp>0.5</ArmorRating_Sharp>
          <ArmorRating_Blunt>0.4</ArmorRating_Blunt>
          <ArmorRating_Heat>0.3</ArmorRating_Heat>
		</statOffsets>
		<naturalHealingFactor>2.0</naturalHealingFactor>
		<totalBleedFactor>0.5</totalBleedFactor>
		<painFactor>0.5</painFactor>
		<restFallFactor>0.8</restFallFactor>
	  		   <capMods>
			   <li>
                  <capacity>Sight</capacity>
                  <offset>0.25</offset>
               </li>
			   <li>
                  <capacity>Hearing</capacity>
                  <offset>0.25</offset>
               </li>
		       <li>
                   <capacity>Breathing</capacity>
                   <offset>0.25</offset>
               </li>			   
			   <li>
                  <capacity>BloodPumping</capacity>
                  <offset>0.25</offset>
               </li>
			   <li>
                  <capacity>BloodFiltration</capacity>
                  <offset>0.25</offset>
               </li>
		       <li>
                   <capacity>Consciousness</capacity>
                   <offset>0.25</offset>
               </li>		       
			   <li>
                   <capacity>Metabolism</capacity>
                   <offset>0.25</offset>
               </li>
		  <li>
			<capacity>Moving</capacity>
            <offset>2.0</offset>
          </li>          
		  <li>
            <capacity>Manipulation</capacity>
            <offset>2.0</offset>
          </li>
       </capMods>
	   </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartBase">
    <defName>DOOMSlayer_Implant</defName>
    <label>slayer's mark</label>
    <description>A mystical implant, its origin world is of the Night Sentinels. It is a gift crafted by a Seraphim using the Divinity Machine, granting supernatural strength to those who posses the mark.\n\n"I offer you a gift. Take it. It will give you strength... help you on your journey. And now they will fear you."</description>
    <descriptionHyperlinks><RecipeDef>InstallDOOMSlayer_Implant</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <!--<costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>8</ComponentSpacer>
    </costList>-->
    <!--<recipeMaker>
      <researchPrerequisite>HealingFactors</researchPrerequisite>
    </recipeMaker>-->
	<graphicData>
      <texPath>Things/Item/Health/HealthItem</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.80</drawSize>
      <color>(207, 41, 41)</color>
    </graphicData>
	    <statBases>
      <MarketValue>30000</MarketValue>
      <Mass>0.77</Mass>
    </statBases>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallDOOMSlayer_Implant</defName>
    <label>install slayer's mark</label>
    <description>Install a slayer's mark.</description>
    <descriptionHyperlinks><ThingDef>DOOMSlayer_Implant</ThingDef></descriptionHyperlinks>
    <jobString>Installing slayer's mark.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>DOOMSlayer_Implant</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>DOOMSlayer_Implant</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>DOOMSlayer_Implant</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveInstallDOOMSlayer_Implant</defName>
    <label>remove slayer's mark</label>
    <description>Remove slayer's mark.</description>
    <descriptionHyperlinks><ThingDef>DOOMSlayer_Implant</ThingDef></descriptionHyperlinks>
    <jobString>Removing slayer's mark.</jobString>
    <removesHediff>DOOMSlayer_Implant</removesHediff>
  </RecipeDef>

</Defs>