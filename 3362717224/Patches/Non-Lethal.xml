<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <Operation Class="PatchOperationSequence">
    <operations>
      <!-- 原版武器拓展：非致命武器 -->

      <!-- 百灵鸟-->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Machine_VerlingBird"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_TearGasGrenade</li><!-- 催泪手榴弹 -->
        </value>
      </li>
	  
      <!-- 猎犬-->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Machine_Hound"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_TearGasGrenade</li><!-- 催泪手榴弹 -->
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
        </value>
      </li>
	  
      <!-- 獒犬-->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Dogge"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
        </value>
      </li>

      <!-- 游隼-->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Falcon"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_TearGasGrenade</li><!-- 催泪手榴弹 -->
          <li>VWE_Gun_TearGasLauncher</li><!-- 催泪弹发射器 -->
        </value>
      </li>
	  
      <!-- 士兵-->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Soldat"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Grenadier"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_TearGasGrenade</li><!-- 催泪手榴弹 -->
          <li>VWE_Gun_TearGasLauncher</li><!-- 催泪弹发射器 -->
        </value>
      </li>
	  
      <!-- 猿人-->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Ape"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_DartGun</li><!-- 麻醉镖枪 -->
        </value>
      </li>

      <!-- 浪人 -->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Ronin"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_Gun_DartGun</li><!-- 麻醉镖枪 -->
          <li>VWE_MeleeWeapon_StunBaton</li><!-- 电棍 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Phalanx"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_Gun_DartGun</li><!-- 麻醉镖枪 -->
          <li>VWE_MeleeWeapon_StunBaton</li><!-- 电棍 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Protector"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_MeleeWeapon_StunBaton</li><!-- 电棍 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Siegebreaker"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_MeleeWeapon_StunBaton</li><!-- 电棍 -->
        </value>
      </li>

      <!-- 火枪手 -->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Arquebusier"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_Gun_DartGun</li><!-- 麻醉镖枪 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Jaeger"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_Gun_DartGun</li><!-- 麻醉镖枪 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Pioneer"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_Gun_DartGun</li><!-- 麻醉镖枪 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_Sniper"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_Gun_DartGun</li><!-- 麻醉镖枪 -->
        </value>
      </li>

      <!-- 战斗框架 -->
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_BattleFrame"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
          <li>VWE_Gun_DartGun</li><!-- 麻醉镖枪 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_EscortLifter"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_FieldCommand"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
        </value>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="DMS_Mech_ShaftWorker"]/modExtensions/li[@Class="DMS.MechWeaponExtension"]/BypassUsableWeapons</xpath>
        <value>
          <li>VWE_Gun_RubberBulletPistol</li><!-- 非致命手枪 -->
          <li>VWE_Gun_Taser</li><!-- 电击枪 -->
        </value>
      </li>
	  
    </operations>
  </Operation>
</Patch>