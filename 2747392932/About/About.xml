<?xml version="1.0" encoding="utf-8"?>
<ModMetaData>
  <name>Stylish Rim</name>
  <packageId>tank.mod.stylishrim</packageId>
  <author>Tank</author>
  <url></url>
  <supportedVersions>
    <li>1.4</li>
    <li>1.3</li>
  </supportedVersions>
  <modDependencies>
    <li>
      <packageId>erdelf.HumanoidAlienRaces</packageId>
      <displayName>HumanoidAlienRaces</displayName>
      <steamWorkshopUrl>https://steamcommunity.com/sharedfiles/filedetails/?id=839005762</steamWorkshopUrl>
    </li>
  </modDependencies>
  <loadAfter>
    <li>erdelf.HumanoidAlienRaces</li>
  </loadAfter>
  <description>We can adjust pawn style!

Now!!!

Recommanded Load order:
* [Other mods...]
* [Humanoid Alien Races]
* [This mod]
* [Other mods...]

What's this MOD?
* You can adjust the size and position of each race or pawn.
* It is recommended to make bold and stylish adjustments in the entire race setting and fine-tune each pawn.
* In the process of solving the problem of implementing the function, various by-products were created.

By-product...?

### Race adjustment ###
* You can make the head and body of the pawn stylish.
* You can stylishly adjust hairstyles, clothes, and weapons that do not fit in size and position.
* You can change the direction and angle in the portrait to make you stylish!

### Individual adjustment ###
* After setting the race, individual differences are set for each pawn to make it stylish and unique.
* A stylish one-point fashionable by tilting the hat a little.
* If you want to stand out, you can improve your portrait and express your personality in a stylish way!

### By-product ###
* Added the ability to turn off the cache for specific targets only.
 In particular, colonists-only caches help maintain performance only when there are a large number of enemies.
 In addition, it will have a synergistic effect with resolution settings and cache limit options.
 Others will be happy if they feel okay with low resolution.
 As a matter of course, the target for which the cache is turned off is irrelevant to the following explanation.

* More stylish access to the cache area.
 Since the cache area is classified by race, high-speed search is possible.
 At the same time, there is no cache duplication that can occur in vanilla too.
 This is by-product to prevent drawing bugs.

* The above process eliminates the bug that becomes huge due to the combination of specific races.
 This is a phenomenon that occurs due to the difference in the drawing range (BorderScale) described later because HAR stores races with the same resolution (AtlasScale) in the same cache area.
 It is suitable for the CPU at the expense of memory because it creates a new cache area for that type.

* You can overwrite the resolution setting for each race.
 This mod automatically adjusts according to size, but you can set upper and lower limits.
 You can also set what HD pawn rendering does for each race.
 It directly affects the size of the cache area, so if you reduce it, it is memory-friendly.

* You can limit the cache area capacity for each race.
 One area is created for 32 people, so it's superfluous for less visible races.
 If you halve it, the memory used for that race's cache area will also be nearly half.
 And further reduction by reducing the width of the cache area.
　* Races with a wide display range will not fit.
 If you turn on "Invalid frame only for head" as an option, the number of stored will be doubled with the same capacity.
　* The effect is minor as it only redraws when sleeping and waking up.

* You can fine-tune the drawing range (Border Scale).
 This mod automatically adjusts according to size, but it is a supplementary adjustment.
 This is the value used to expand the drawing range in HAR.
 Since the image is stretched as the mesh expands, the image quality deteriorates if the value is large.
 Conversely, reducing the range will improve the image quality separately from the resolution.

-------------------------------------------------------------

このMODって何？
・種族ごと、もしくはポーンごとに色々とサイズや位置を調整できます。
・種族全体設定で大胆かつスタイリッシュに調整してポーン別に微調整がお勧め。
・機能を実装する上の問題点を解決する過程で何か色々と副産物もできました。

副産物……？

###種族調整###
- ポーンの頭身をスタイリッシュにできます。
- サイズや位置の合わない髪型、服装、武器をスタイリッシュに調整できます。
- ポートレート内で向きや角度を変えて君もスタイリッシュ！

###個別調整###
- 種族設定の後、ポーン別に個体差を設けてスタイリッシュ且つ個性的。
- 帽子を少し傾けたりしてスタイリッシュなワンポイントお洒落も。
- 目立ちたがりはポートレートでアップにしたり性格をスタイリッシュに表現だ！
- パンツを頭に被る人がいてもいい。

###副産物###
互換性を調整する中で特定の対象のみキャッシュをオフにする機能を搭載。
- 特に自派閥のみキャッシュオフは襲撃時のパフォーマンス維持に役立ちます。
- 更に後述の解像度設定やキャッシュ容量を制限するオプションとの相性も良いはずです。
- 余所者は低解像度で上等の精神さえあれば幸せになれることでしょう。
きっと。
- 当然のようにキャッシュをオフにした対象は以下の説明とは無関係になります。

キャッシュ領域へのアクセスをよりスタイリッシュに。
- キャッシュ領域を種族別に分けることで高速で探せるようにしています。
- 同時にバニラでも今まで起こり得たキャッシュの重複も無くなります。
- 描画バグを起こさないために分けた副産物。

上記の処理により特定種族の組み合わせで巨大化するバグが無くなります。
- これはHARが同じ解像度(AtlasScale)の種族を同じキャッシュ領域に格納するので、後述する描画範囲(BorderScale)の違いにより起こる現象です。
- なので領域を明確に種族ごとに分けたら起こらなくなりますが、その分新しいキャッシュ領域が作られるのでメモリは犠牲になります。

種族別に解像度設定を上書き可能。
- このMODではサイズによって自動調整されますが、直接指定も可能です。
- 単純に　HD Pawn Rendering が行ってることを種族別に設定できます。
- ダイレクトにキャッシュ領域のサイズに影響するので減らせばメモリに優しい。

種族別にキャッシュ領域の容量を制限できます。
- 一つの領域は32人分作られるのであまり多く出現しない種族にとっては無駄でした。
- 半分の16人にするだけで、その種族のキャッシュ領域に使うメモリがほぼ半分に。
- キャッシュ領域の横幅を削るオプションで更に削減。
　※横幅が広い種族は見切れるので注意。
- オプションで頭のみフレーム無効をONにすれば容量そのままで格納数が倍。
　※睡眠時と起床時に描画し直すだけなので影響は軽微です。

描画範囲(BorderScale)を微調整できます。
- このMODではサイズによって自動調整されますが、補足的に調整するものです。
- HARの描画範囲を広げるために使ってる値です。
- メッシュの拡大に合わせて画像が引き延ばされるので、大きい値だと画質が悪化。
- 逆に、範囲を減らせば解像度とは別に画質が向上します。

副産物の圧倒的多さよ……
  </description>
</ModMetaData>