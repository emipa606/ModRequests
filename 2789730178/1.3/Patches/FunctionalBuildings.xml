<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <Operation Class="PatchOperationSequence">
	<operations>	
	  <li Class="PatchOperationFindMod">
		  <mods>
			  <li>LWM's Deep Storage</li>
		  </mods>
		  <match Class="PatchOperationFindMod">
		  <mods>
		    <li>Bill Doors' Useful Junks</li>
		  </mods>
			<nomatch Class="PatchOperationSequence">
				<operations>
				  <li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientSystemRack" or defName="AncientStorageCylinder" or defName="AncientLockerBank" or defName="AncientCrate" or defName="AncientMilitaryCrate" or defName="AncientSpacerCrate" or defName="AncientBarrel" or defName="AncientRefrigerator" or defName="AncientSmallCrate" or defName="AncientLongCrate" or defName="AncientLargeCrate" or defName="AncientContainer" or defName="VME_AncientSystemRack" or defName="VME_AncientStorageCylinder" or defName="VME_AncientLockerBank" or defName="VME_AncientCrate" or defName="VME_AncientMilitaryCrate" or defName="VME_AncientSpacerCrate" or defName="VME_AncientBarrel" or defName="VME_AncientRefrigerator" or defName="VME_AncientSmallCrate" or defName="VME_AncientLongCrate" or defName="VME_AncientLargeCrate" or defName="VME_AncientContainer" or defName="GR_RuinedLabBarrel" or defName="GR_Rack" or defName="GR_AncientCrate" or defName="GR_AncientCrateDouble" or defName="GR_AncientCratePile" or defName="GR_AncientTechCrate" or defName="GR_RuinedBarrelDouble" or defName="GR_RuinedLabShelf" or defName="GR_LabLockerBank"]</xpath>
					<value>
						<thingClass>Building_Storage</thingClass>
						<canOverlapZones>false</canOverlapZones>
						<surfaceType>Item</surfaceType>
						<drawGUIOverlay>true</drawGUIOverlay>
						<inspectorTabs>
						  <li>ITab_Storage</li>
						  <li>LWM.DeepStorage.ITab_DeepStorage_Inventory</li>
						</inspectorTabs>
						<building>
						  <preventDeteriorationOnTop>true</preventDeteriorationOnTop>
						  <ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
						  <defaultStorageSettings>
							<priority>Low</priority>
							<filter>
								<specialFiltersToDisallow>
								  <li>AllowRotten</li>
								</specialFiltersToDisallow>
							</filter>
						  </defaultStorageSettings>
						</building>
					</value>
				  </li><!--
				  <li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientShoppingCart"]</xpath>
					<value>
						<thingClass>Building_Storage</thingClass>
						<canOverlapZones>false</canOverlapZones>
						<surfaceType>Item</surfaceType>
						<drawGUIOverlay>true</drawGUIOverlay>
						<inspectorTabs>
						  <li>ITab_Storage</li>
						  <li>LWM.DeepStorage.ITab_DeepStorage_Inventory</li>
						</inspectorTabs>
						<building>
						  <preventDeteriorationOnTop>false</preventDeteriorationOnTop>
						  <ignoreStoredThingsBeauty>false</ignoreStoredThingsBeauty>
						  <defaultStorageSettings>
							<priority>Low</priority>
							<filter>
								<specialFiltersToDisallow>
								  <li>AllowRotten</li>
								</specialFiltersToDisallow>
							</filter>
						  </defaultStorageSettings>
						</building>
					</value>
				  </li>--> 
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientSystemRack" or defName="VME_AncientSystemRack" or defName="GR_RuinedLabShelf" or defName="GR_Rack" or defName="GR_Rack"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientSystemRack" or defName="VME_AncientSystemRack" or defName="GR_RuinedLabShelf" or defName="GR_Rack"]</xpath>
						<value>
							<comps>
							  <li Class="LWM.DeepStorage.Properties" >
								<maxNumberStacks>10</maxNumberStacks>
								<minTimeStoringTakes>15</minTimeStoringTakes>
								<additionalTimeEachStack>15</additionalTimeEachStack>
								<additionalTimeStackSize>1</additionalTimeStackSize>
								<maxMassOfStoredItem>30</maxMassOfStoredItem>
								<maxTotalMass>240</maxTotalMass>
								<showContents>true</showContents>
								<overlayType>None</overlayType>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientSystemRack" or defName="VME_AncientSystemRack" or defName="GR_RuinedLabShelf" or defName="GR_Rack"]/comps</xpath>
						<value>
							  <li Class="LWM.DeepStorage.Properties" >
								<maxNumberStacks>10</maxNumberStacks>
								<minTimeStoringTakes>15</minTimeStoringTakes>
								<additionalTimeEachStack>15</additionalTimeEachStack>
								<additionalTimeStackSize>1</additionalTimeStackSize>
								<maxMassOfStoredItem>30</maxMassOfStoredItem>
								<maxTotalMass>240</maxTotalMass>
								<showContents>true</showContents>
								<overlayType>None</overlayType>
							  </li>
						</value>
					  </match>
				  </li> 
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientStorageCylinder" or defName="VME_AncientStorageCylinder"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientStorageCylinder" or defName="VME_AncientStorageCylinder"]</xpath>
						<value>
							<comps>
							  <li Class="LWM.DeepStorage.Properties" >
								<maxNumberStacks>5</maxNumberStacks>
								<minTimeStoringTakes>30</minTimeStoringTakes>
								<additionalTimeEachStack>15</additionalTimeEachStack>
								<additionalTimeStackSize>1</additionalTimeStackSize>
								<maxMassOfStoredItem>120</maxMassOfStoredItem>
								<maxTotalMass>120</maxTotalMass>
								<showContents>false</showContents>
								<overlayType>None</overlayType>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientStorageCylinder" or defName="VME_AncientStorageCylinder"]/comps</xpath>
						<value>
						  <li Class="LWM.DeepStorage.Properties" >
							<maxNumberStacks>5</maxNumberStacks>
							<minTimeStoringTakes>30</minTimeStoringTakes>
							<additionalTimeEachStack>15</additionalTimeEachStack>
							<additionalTimeStackSize>1</additionalTimeStackSize>
							<maxMassOfStoredItem>120</maxMassOfStoredItem>
							<maxTotalMass>120</maxTotalMass>
							<showContents>false</showContents>
							<overlayType>None</overlayType>
						  </li>
						</value>
					  </match>
				  </li>
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientLockerBank" or defName="AncientRefrigerator" or defName="VME_AncientLockerBank" or defName="VME_AncientRefrigerator" or defName="GR_LabLockerBank"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientLockerBank" or defName="AncientRefrigerator" or defName="VME_AncientLockerBank" or defName="VME_AncientRefrigerator" or defName="GR_LabLockerBank"]</xpath>
						<value>
							<comps>
							  <li Class="LWM.DeepStorage.Properties" >
								<maxNumberStacks>4</maxNumberStacks>
								<minTimeStoringTakes>10</minTimeStoringTakes>
								<additionalTimeEachStack>20</additionalTimeEachStack>
								<additionalTimeStackSize>10</additionalTimeStackSize>
								<maxMassOfStoredItem>75</maxMassOfStoredItem>
								<maxTotalMass>75</maxTotalMass>
								<showContents>false</showContents>
								<overlayType>None</overlayType>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientLockerBank" or defName="AncientRefrigerator" or defName="VME_AncientLockerBank" or defName="VME_AncientRefrigerator" or defName="GR_LabLockerBank"]/comps</xpath>
						<value>
						  <li Class="LWM.DeepStorage.Properties" >
							<maxNumberStacks>4</maxNumberStacks>
							<minTimeStoringTakes>10</minTimeStoringTakes>
							<additionalTimeEachStack>20</additionalTimeEachStack>
							<additionalTimeStackSize>10</additionalTimeStackSize>
							<maxMassOfStoredItem>75</maxMassOfStoredItem>
							<maxTotalMass>75</maxTotalMass>
							<showContents>false</showContents>
							<overlayType>None</overlayType>
						  </li>
						</value>
					  </match>
				  </li>
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientCrate" or defName="AncientMilitaryCrate" or defName="AncientSpacerCrate" or defName="AncientLargeCrate" or defName="VME_AncientCrate" or defName="VME_AncientMilitaryCrate" or defName="VME_AncientSpacerCrate" or defName="VME_AncientLargeCrate" or defName="GR_AncientTechCrate"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientCrate" or defName="AncientMilitaryCrate" or defName="AncientSpacerCrate" or defName="AncientLargeCrate" or defName="VME_AncientCrate" or defName="VME_AncientMilitaryCrate" or defName="VME_AncientSpacerCrate" or defName="VME_AncientLargeCrate" or defName="GR_AncientTechCrate"]</xpath>
						<value>
							<comps>
							  <li Class="LWM.DeepStorage.Properties" >
								<minNumberStacks>1</minNumberStacks>
								<maxNumberStacks>5</maxNumberStacks>
								<timeStoringTakes>10</timeStoringTakes>
								<additionalTimeEachStack>40</additionalTimeEachStack>
								<overlayType>None</overlayType>
								<showContents>false</showContents>
								<maxMassOfStoredItem>8</maxMassOfStoredItem>
								<maxTotalMass>8</maxTotalMass>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientCrate" or defName="AncientMilitaryCrate" or defName="AncientSpacerCrate" or defName="AncientLargeCrate" or defName="VME_AncientCrate" or defName="VME_AncientMilitaryCrate" or defName="VME_AncientSpacerCrate" or defName="VME_AncientLargeCrate" or defName="GR_AncientTechCrate"]/comps</xpath>
						<value>
						  <li Class="LWM.DeepStorage.Properties" >
							<minNumberStacks>1</minNumberStacks>
							<maxNumberStacks>5</maxNumberStacks>
							<timeStoringTakes>10</timeStoringTakes>
							<additionalTimeEachStack>40</additionalTimeEachStack>
							<overlayType>None</overlayType>
							<showContents>false</showContents>
							<maxMassOfStoredItem>8</maxMassOfStoredItem>
							<maxTotalMass>8</maxTotalMass>
						  </li>
						</value>
					  </match>
				  </li>
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientBarrel" or defName="VME_AncientBarrel" or defName="GR_RuinedLabBarrel"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientBarrel" or defName="VME_AncientBarrel" or defName="GR_RuinedLabBarrel"]</xpath>
						<value>
							<comps>
							  <li Class="LWM.DeepStorage.Properties" >
								<minNumberStacks>1</minNumberStacks>
								<maxNumberStacks>5</maxNumberStacks>
								<timeStoringTakes>120</timeStoringTakes>
								<additionalTimeEachStack>45</additionalTimeEachStack>
								<overlayType>None</overlayType>
								<showContents>false</showContents>
								<maxMassOfStoredItem>75</maxMassOfStoredItem>
								<maxTotalMass>75</maxTotalMass>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientBarrel" or defName="VME_AncientBarrel" or defName="GR_RuinedLabBarrel"]/comps</xpath>
						<value>
						  <li Class="LWM.DeepStorage.Properties" >
							<minNumberStacks>1</minNumberStacks>
							<maxNumberStacks>5</maxNumberStacks>
							<timeStoringTakes>120</timeStoringTakes>
							<additionalTimeEachStack>45</additionalTimeEachStack>
							<overlayType>None</overlayType>
							<showContents>false</showContents>
							<maxMassOfStoredItem>75</maxMassOfStoredItem>
							<maxTotalMass>75</maxTotalMass>
						  </li>
						</value>
					  </match>
				  </li>
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientSmallCrate" or defName="VME_AncientSmallCrate" or defName="GR_AncientCrate"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientSmallCrate" or defName="VME_AncientSmallCrate" or defName="GR_AncientCrate"]</xpath>
						<value>
							<comps>
							  <li Class="LWM.DeepStorage.Properties" >
								<minNumberStacks>1</minNumberStacks>
								<maxNumberStacks>2</maxNumberStacks>
								<timeStoringTakes>10</timeStoringTakes>
								<additionalTimeEachStack>20</additionalTimeEachStack>
								<overlayType>None</overlayType>
								<showContents>false</showContents>
								<maxMassOfStoredItem>4</maxMassOfStoredItem>
								<maxTotalMass>4</maxTotalMass>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientSmallCrate" or defName="VME_AncientSmallCrate" or defName="GR_AncientCrate"]/comps</xpath>
						<value>
						  <li Class="LWM.DeepStorage.Properties" >
							<minNumberStacks>1</minNumberStacks>
							<maxNumberStacks>2</maxNumberStacks>
							<timeStoringTakes>10</timeStoringTakes>
							<additionalTimeEachStack>20</additionalTimeEachStack>
							<overlayType>None</overlayType>
							<showContents>false</showContents>
							<maxMassOfStoredItem>4</maxMassOfStoredItem>
							<maxTotalMass>4</maxTotalMass>
						  </li>
						</value>
					  </match>
				  </li>
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientLongCrate" or defName="VME_AncientLongCrate" or defName="GR_RuinedBarrelDouble" or defName="GR_AncientCrateDouble" or defName="GR_AncientCratePile"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientLongCrate" or defName="VME_AncientLongCrate" or defName="GR_RuinedBarrelDouble" or defName="GR_AncientCrateDouble" or defName="GR_AncientCratePile"]</xpath>
						<value>
							<comps>
							  <li Class="LWM.DeepStorage.Properties" >
								<minNumberStacks>1</minNumberStacks>
								<maxNumberStacks>3</maxNumberStacks>
								<timeStoringTakes>10</timeStoringTakes>
								<additionalTimeEachStack>20</additionalTimeEachStack>
								<overlayType>None</overlayType>
								<showContents>false</showContents>
								<maxMassOfStoredItem>6</maxMassOfStoredItem>
								<maxTotalMass>6</maxTotalMass>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientLongCrate" or defName="VME_AncientLongCrate" or defName="GR_RuinedBarrelDouble" or defName="GR_AncientCrateDouble" or defName="GR_AncientCratePile"]/comps</xpath>
						<value>
						  <li Class="LWM.DeepStorage.Properties" >
							<minNumberStacks>1</minNumberStacks>
							<maxNumberStacks>3</maxNumberStacks>
							<timeStoringTakes>10</timeStoringTakes>
							<additionalTimeEachStack>20</additionalTimeEachStack>
							<overlayType>None</overlayType>
							<showContents>false</showContents>
							<maxMassOfStoredItem>6</maxMassOfStoredItem>
							<maxTotalMass>6</maxTotalMass>
						  </li>
						</value>
					  </match>
				  </li>
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientContainer" or defName="VME_AncientContainer"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientContainer" or defName="VME_AncientContainer"]</xpath>
						<value>
							<comps>
							  <li Class="LWM.DeepStorage.Properties" >
								<maxNumberStacks>20</maxNumberStacks>
								<minTimeStoringTakes>10</minTimeStoringTakes>
								<additionalTimeEachStack>5</additionalTimeEachStack>
								<additionalTimeStackSize>5</additionalTimeStackSize>
								<maxMassOfStoredItem>4000</maxMassOfStoredItem>
								<maxTotalMass>4000</maxTotalMass>
								<showContents>false</showContents>
								<overlayType>None</overlayType>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientContainer" or defName="VME_AncientContainer"]/comps</xpath>
						<value>
						  <li Class="LWM.DeepStorage.Properties" >
							<maxNumberStacks>20</maxNumberStacks>
							<minTimeStoringTakes>10</minTimeStoringTakes>
							<additionalTimeEachStack>5</additionalTimeEachStack>
							<additionalTimeStackSize>5</additionalTimeStackSize>
							<maxMassOfStoredItem>4000</maxMassOfStoredItem>
							<maxTotalMass>4000</maxTotalMass>
							<showContents>false</showContents>
							<overlayType>None</overlayType>
						  </li>
						</value>
					  </match>
				  </li>


			<!--  <li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AncientShoppingCart"]</xpath>
					<value>
						<comps>
						  <li Class="LWM.DeepStorage.Properties" >
							<minNumberStacks>2</minNumberStacks>
							<maxNumberStacks>5</maxNumberStacks>
							<timeStoringTakes>5</timeStoringTakes>
							<additionalTimeEachStack>15</additionalTimeEachStack>
							<overlayType>None</overlayType>
							<showContents>true</showContents>
							<maxMassOfStoredItem>8</maxMassOfStoredItem>
							<maxTotalMass>32</maxTotalMass>
						  </li>
						</comps>
					</value>
				  </li>	-->
				</operations>
			  </nomatch>
		  </match>
		  <nomatch Class="PatchOperationSequence">
			<operations>
			  <li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="AncientSystemRack" or defName="AncientStorageCylinder" or defName="AncientLockerBank" or defName="AncientCrate" or defName="AncientMilitaryCrate" or defName="AncientSpacerCrate" or defName="AncientBarrel" or defName="AncientRefrigerator" or defName="AncientSmallCrate" or defName="AncientLongCrate" or defName="AncientLargeCrate" or defName="AncientContainer" or defName="VME_AncientSystemRack" or defName="VME_AncientStorageCylinder" or defName="VME_AncientLockerBank" or defName="VME_AncientCrate" or defName="VME_AncientMilitaryCrate" or defName="VME_AncientSpacerCrate" or defName="VME_AncientBarrel" or defName="VME_AncientRefrigerator" or defName="VME_AncientSmallCrate" or defName="VME_AncientLongCrate" or defName="VME_AncientLargeCrate" or defName="VME_AncientContainer" or defName="GR_RuinedLabBarrel" or defName="GR_Rack" or defName="GR_AncientCrate" or defName="GR_AncientCrateDouble" or defName="GR_AncientCratePile" or defName="GR_AncientTechCrate" or defName="GR_RuinedBarrelDouble" or defName="GR_RuinedLabShelf" or defName="GR_LabLockerBank"]</xpath>
				<value>
					<thingClass>Building_Storage</thingClass>
					<canOverlapZones>false</canOverlapZones>
					<surfaceType>Item</surfaceType>
					<drawGUIOverlay>true</drawGUIOverlay>
					<inspectorTabs>
					  <li>ITab_Storage</li>
					</inspectorTabs>
					<building>
					  <preventDeteriorationOnTop>true</preventDeteriorationOnTop>
					  <ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
					  <maxItemsInCell>3</maxItemsInCell>
					  <defaultStorageSettings>
						<priority>Low</priority>
						<filter>
							<specialFiltersToDisallow>
							  <li>AllowRotten</li>
							</specialFiltersToDisallow>
						</filter>
					  </defaultStorageSettings>
					</building>
				</value>
			  </li>
			  <li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="AncientSystemRack" or defName="AncientStorageCylinder" or defName="AncientLockerBank" or defName="AncientCrate" or defName="AncientMilitaryCrate" or defName="AncientSpacerCrate" or defName="AncientBarrel" or defName="AncientRefrigerator" or defName="AncientSmallCrate" or defName="AncientLongCrate" or defName="AncientLargeCrate"or defName="VME_AncientSystemRack" or defName="VME_AncientStorageCylinder" or defName="VME_AncientLockerBank" or defName="VME_AncientCrate" or defName="VME_AncientMilitaryCrate" or defName="VME_AncientSpacerCrate" or defName="VME_AncientBarrel" or defName="VME_AncientRefrigerator" or defName="VME_AncientSmallCrate" or defName="VME_AncientLongCrate" or defName="VME_AncientLargeCrate"or defName="GR_RuinedLabBarrel" or defName="GR_Rack" or defName="GR_AncientCrate" or defName="GR_AncientCrateDouble" or defName="GR_AncientCratePile" or defName="GR_AncientTechCrate" or defName="GR_RuinedBarrelDouble" or defName="GR_RuinedLabShelf" or defName="GR_LabLockerBank"]/building/defaultStorageSettings/filter/specialFiltersToDisallow</xpath>
				<value>
					<li>AllowLargeCorpses</li>
				</value>
			  </li><!--
			  <li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="AncientShoppingCart"]</xpath>
				<value>
					<thingClass>Building_Storage</thingClass>
					<canOverlapZones>false</canOverlapZones>
					<surfaceType>Item</surfaceType>
					<drawGUIOverlay>true</drawGUIOverlay>
					<inspectorTabs>
					  <li>ITab_Storage</li>
					</inspectorTabs>
					<building>
					  <preventDeteriorationOnTop>false</preventDeteriorationOnTop>
					  <ignoreStoredThingsBeauty>false</ignoreStoredThingsBeauty>
					  <defaultStorageSettings>
						<priority>Low</priority>
						<filter>
							<specialFiltersToDisallow>
							  <li>AllowRotten</li>
							</specialFiltersToDisallow>
						</filter>
					  </defaultStorageSettings>
					</building>
				</value>
			  </li>-->
			 </operations>
		  </nomatch>
	  </li>
	</operations>
  </Operation>

  <Operation Class="PatchOperationSequence">
	<operations>
	  <li Class="PatchOperationConditional">
		<xpath>Defs/ThingDef[defName="AncientBed" or defName="AncientOperatingTable" or defName="VME_AncientBed" or defName="VME_AncientOperatingTable"]/graphicData/shaderType</xpath>
		  <nomatch Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="AncientBed" or defName="AncientOperatingTable" or defName="VME_AncientBed" or defName="VME_AncientOperatingTable"]/graphicData</xpath>
			<value>
			  <shaderType>CutoutComplex</shaderType>
			</value>
		  </nomatch>
	  </li>
	  <li Class="PatchOperationReplace">
		 <xpath>Defs/ThingDef[defName="AncientTankTrap" or defName="VME_AncientTankTrap"]/pathCost</xpath>
			<value>
			  <pathCost>150</pathCost>
			</value>
	  </li>
	  <li Class="PatchOperationFindMod">
		 <mods>
		    <li>Bill Doors' Useful Junks</li>
		 </mods>
		 <nomatch Class="PatchOperationSequence">
			<operations>
			  <li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="AncientBed" or defName="VME_AncientBed"]</xpath>
					<value>
						<placeWorkers>
						  <li>PlaceWorker_ShowFacilitiesConnections</li>
						</placeWorkers>
					</value>
				</li>
				<li Class="PatchOperationAdd">
				  <xpath>Defs/ThingDef[defName="AncientBed" or defName="VME_AncientBed"]/comps</xpath>
					<value>
					  <li Class="CompProperties_AffectedByFacilities">
						<linkableFacilities>
						  <li>EndTable</li>
						  <li>Dresser</li>
						  <li MayRequire="Ludeon.RimWorld.Ideology">SleepAccelerator</li>
						</linkableFacilities>
					  </li>
					</value>
				</li>
				<li Class="PatchOperationAdd">
				  <xpath>Defs/ThingDef[defName="AncientOperatingTable" or defName="VME_AncientOperatingTable"]</xpath>
					<value>
						<thingClass>Building_Bed</thingClass>
						<drawGUIOverlay>true</drawGUIOverlay>
						<canOverlapZones>false</canOverlapZones>
						<placeWorkers>
						  <li>PlaceWorker_ShowFacilitiesConnections</li>
						</placeWorkers>
						<building>
						  <bed_showSleeperBody>True</bed_showSleeperBody>
						  <bed_healPerDay>1</bed_healPerDay>
						  <bed_defaultMedical>true</bed_defaultMedical>
						</building>
					</value>
				</li>
				  <li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="AncientOperatingTable"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientOperatingTable"]</xpath>
						<value>
							<comps>
							  <li Class="CompProperties_AssignableToPawn">
								<drawAssignmentOverlay>false</drawAssignmentOverlay>
								<compClass>CompAssignableToPawn_Bed</compClass>
							  </li>
							  <li Class="CompProperties_AffectedByFacilities">
								<linkableFacilities>
								  <li>EndTable</li>
								  <li>Dresser</li>
								  <li MayRequire="Ludeon.RimWorld.Ideology">SleepAccelerator</li>
								</linkableFacilities>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AncientOperatingTable"]/comps</xpath>
						<value>
							  <li Class="CompProperties_AssignableToPawn">
								<drawAssignmentOverlay>false</drawAssignmentOverlay>
								<compClass>CompAssignableToPawn_Bed</compClass>
							  </li>
							  <li Class="CompProperties_AffectedByFacilities">
								<linkableFacilities>
								  <li>EndTable</li>
								  <li>Dresser</li>
								  <li MayRequire="Ludeon.RimWorld.Ideology">SleepAccelerator</li>
								</linkableFacilities>
							  </li>
						</value>
					  </match>
				  </li>
				  <li MayRequire="VanillaExpanded.VMemesE" Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="VME_AncientOperatingTable"]/comps</xpath>
					  <nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="VME_AncientOperatingTable"]</xpath>
						<value>
							<comps>
							  <li Class="CompProperties_AssignableToPawn">
								<drawAssignmentOverlay>false</drawAssignmentOverlay>
								<compClass>CompAssignableToPawn_Bed</compClass>
							  </li>
							  <li Class="CompProperties_AffectedByFacilities">
								<linkableFacilities>
								  <li>EndTable</li>
								  <li>Dresser</li>
								  <li MayRequire="Ludeon.RimWorld.Ideology">SleepAccelerator</li>
								</linkableFacilities>
							  </li>
							</comps>
						</value>
					  </nomatch>
					  <match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="VME_AncientOperatingTable"]/comps</xpath>
						<value>
							  <li Class="CompProperties_AssignableToPawn">
								<drawAssignmentOverlay>false</drawAssignmentOverlay>
								<compClass>CompAssignableToPawn_Bed</compClass>
							  </li>
							  <li Class="CompProperties_AffectedByFacilities">
								<linkableFacilities>
								  <li>EndTable</li>
								  <li>Dresser</li>
								  <li MayRequire="Ludeon.RimWorld.Ideology">SleepAccelerator</li>
								</linkableFacilities>
							  </li>
						</value>
					  </match>
				  </li>
				<li Class="PatchOperationAdd">
				  <xpath>Defs/ThingDef[defName="AncientOperatingTable" or defName="VME_AncientOperatingTable"]/statBases</xpath>
					<value>
					  <Beauty>-5</Beauty>
					  <BedRestEffectiveness>0.65</BedRestEffectiveness>
					  <Comfort>0.60</Comfort>
					  <ImmunityGainSpeedFactor>0.85</ImmunityGainSpeedFactor>
					  <MedicalTendQualityOffset>-0.10</MedicalTendQualityOffset>
					  <SurgerySuccessChanceFactor>0.75</SurgerySuccessChanceFactor>
					</value>
				</li>
			</operations>
		 </nomatch>
	  </li>
	</operations>
  </Operation>

</Patch>