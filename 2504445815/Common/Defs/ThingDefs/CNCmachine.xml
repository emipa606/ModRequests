<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<ThingDef ParentName="BenchBase">
		<defName>CNCmachine</defName>
		<label>CNC Machine</label>
		<description>A CNC machine dedicated for fabricating and manufacturing small and high caliber cannon turrets. Consumes 400W of power. Can be connected up to four CNC Modules to increase its work speed by 500% for every CNC Modules.</description>
		<thingClass>Building_WorkTable_HeatPush</thingClass>
		<graphicData>
			<texPath>Things/Building/cncmachine</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(4.5,2.25)</drawSize>
			<damageData>
				<cornerTL>Damage/Corner</cornerTL>
				<cornerTR>Damage/Corner</cornerTR>
				<cornerBL>Damage/Corner</cornerBL>
				<cornerBR>Damage/Corner</cornerBR>
			</damageData>
		</graphicData>
		<castEdgeShadows>true</castEdgeShadows>
		<staticSunShadowHeight>0.45</staticSunShadowHeight>
		<constructEffect>ConstructMetal</constructEffect>
		<costList>
			<Steel>500</Steel>
			<Plasteel>10</Plasteel>
			<ComponentIndustrial>5</ComponentIndustrial>
		</costList>
		<altitudeLayer>Building</altitudeLayer>
		<fillPercent>0.5</fillPercent>
		<useHitPoints>True</useHitPoints>
		<statBases>
			<WorkToBuild>4000</WorkToBuild>
			<MaxHitPoints>500</MaxHitPoints>
			<Flammability>0.5</Flammability>
			<Cleanliness>-2</Cleanliness>
		</statBases>
		<size>(4,2)</size>
		<passability>PassThroughOnly</passability>
		<pathCost>70</pathCost>
		<hasInteractionCell>True</hasInteractionCell>
		<interactionCellOffset>(0,0,-1)</interactionCellOffset>
		<surfaceType>Item</surfaceType>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>    
    <designationCategory>Production</designationCategory>
		<constructionSkillPrerequisite>4</constructionSkillPrerequisite>
    <recipes>
      <li>Make_FCSComputer</li>
    </recipes>
		<inspectorTabs>
			<li>ITab_Bills</li>
		</inspectorTabs>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<shortCircuitInRain>true</shortCircuitInRain>
				<basePowerConsumption>400</basePowerConsumption>
			</li>
			<li Class="CompProperties_Flickable"/>
			<li Class="CompProperties_Glower">
				<glowRadius>5</glowRadius>
				<glowColor>(73,123,138,0)</glowColor>
			</li>
			<li Class="CompProperties_AffectedByFacilities">
				<linkableFacilities>
					<li>CNCmodule</li>
				</linkableFacilities>
			</li>
			<li Class="CompProperties_Breakdownable"/>
		</comps>
		<building>
			<spawnedConceptLearnOpportunity>BillsTab</spawnedConceptLearnOpportunity>
			<heatPerTickWhileWorking>0.2</heatPerTickWhileWorking>
		</building>
		<researchPrerequisites>
			<li>Machining</li>
		</researchPrerequisites>
		<designationHotKey>Misc7</designationHotKey>
		<placeWorkers>
			<li>PlaceWorker_ShowFacilitiesConnections</li>
			<li>PlaceWorker_PreventInteractionSpotOverlap</li>
		</placeWorkers>
	</ThingDef>

	<ThingDef ParentName="BuildingBase">
    <defName>CNCmodule</defName>
    <label>CNC module</label>
    <description>Increases work speed by 500% when placed near a CNC Machine. One CNC Machine can connect to up to four CNC Modules. Consumes 200W of power.</description>
    <graphicData>
		<texPath>Things/Building/cncmodule</texPath>
		<graphicClass>Graphic_Multi</graphicClass>
		<drawSize>(4.5,2.25)</drawSize>
		<damageData>
			<cornerTL>Damage/Corner</cornerTL>
			<cornerTR>Damage/Corner</cornerTR>
			<cornerBL>Damage/Corner</cornerBL>
			<cornerBR>Damage/Corner</cornerBR>
		</damageData>
    </graphicData>
    <altitudeLayer>Building</altitudeLayer>
    <passability>PassThroughOnly</passability>
    <castEdgeShadows>true</castEdgeShadows>
    <staticSunShadowHeight>0.45</staticSunShadowHeight>
    <fillPercent>0.5</fillPercent>
    <canOverlapZones>false</canOverlapZones>
    <pathCost>60</pathCost>
    <statBases>
		<MaxHitPoints>500</MaxHitPoints>
		<WorkToBuild>3000</WorkToBuild>
		<Mass>40</Mass>
		<Flammability>0.5</Flammability>
    </statBases>
    <size>(3,2)</size>
	<costList>
		<Steel>400</Steel>
		<ComponentIndustrial>5</ComponentIndustrial>
		<ComponentSpacer>1</ComponentSpacer>
	</costList>
    <researchPrerequisites>
		<li>Machining</li>
    </researchPrerequisites>
    <designationCategory>Misc</designationCategory>
    <minifiedDef>MinifiedThing</minifiedDef>
    <constructionSkillPrerequisite>5</constructionSkillPrerequisite>
    <thingCategories>
    	<li>BuildingsMisc</li>
    </thingCategories>
    <comps>
		<li Class="CompProperties_Power">
			<compClass>CompPowerTrader</compClass>
			<shortCircuitInRain>true</shortCircuitInRain>
			<basePowerConsumption>200</basePowerConsumption>
		</li>
		<li Class="CompProperties_Flickable"/>
		<li Class="CompProperties_Glower">
			<glowRadius>5</glowRadius>
			<glowColor>(73,123,138,0)</glowColor>
		</li>
      	<li Class="CompProperties_Facility">
	        <statOffsets>
	            <WorkTableWorkSpeedFactor>5</WorkTableWorkSpeedFactor>
	        </statOffsets>
        	<maxSimultaneous>4</maxSimultaneous>
        </li>
		<li Class="CompProperties_Breakdownable"/>
    </comps>
    <designationHotKey>Misc6</designationHotKey>
		<placeWorkers>
			<li>PlaceWorker_ShowFacilitiesConnections</li>
		</placeWorkers>
  </ThingDef>
  
  <WorkGiverDef>
    <defName>DoBillsCNCMachine</defName>
    <label>make things at cnc machine</label>
    <giverClass>WorkGiver_DoBill</giverClass>
    <workType>Smithing</workType>
    <priorityInType>75</priorityInType>
    <fixedBillGiverDefs>
      <li>CNCmachine</li>
    </fixedBillGiverDefs>
    <verb>work</verb>
    <gerund>working at</gerund>
    <requiredCapacities>
      <li>Manipulation</li>
    </requiredCapacities>
    <prioritizeSustains>true</prioritizeSustains>
  </WorkGiverDef>

  <RecipeDef>
    <defName>Make_FCSComputer</defName>
    <label>make an FCS Computer</label>
    <description>FCS (Fire Control System) Computer module is used to build unmanned cannon turrets from AMC</description>
    <jobString>Making an FCS Computer.</jobString>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Machining</soundWorking>
    <workAmount>1000</workAmount>
    <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
    <researchPrerequisite>Automated_FCS</researchPrerequisite>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>30</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>Gold</li>
          </thingDefs>
        </filter>
        <count>20</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>ComponentIndustrial</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>ComponentSpacer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Steel</li>
        <li>Gold</li>
        <li>ComponentIndustrial</li>
        <li>ComponentSpacer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <FCSComputer>1</FCSComputer>
    </products>
		<skillRequirements>
			<Crafting>5</Crafting>
		</skillRequirements>
    <workSkill>Crafting</workSkill>
    <recipeUsers>
      <li>FabricationBench</li>
    </recipeUsers>
  </RecipeDef>

  <RecipeDef>
    <defName>DMCRecycleAmmo</defName>
    <label>Recycle AMC Ammunitions</label>
    <description>Recycle any AMC ammunitions into a small amount of raw resources</description>
    <jobString>Recycling ammunitions.</jobString>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Machining</soundWorking>
    <workAmount>1</workAmount>
    <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>SixPounderShellAP</li>
            <li>SeventyFiveShellAP</li>
            <li>EightyEightShellAP</li>
            <li>OneHundredShellAP</li>
            <li>OneTwentyEightShellAP</li>
            <li>NinetyShellAP</li>
            <li>OneOSixShellHEAT</li>
            <li>OneOFiveShellAP</li>
            <li>FlakTwentyMag</li>
            <li>BoforsClip</li>
            <li>RardenShell</li>
            <li>KugelblitzShell</li>
            <li>LongFortyMilShell</li>
            <li>FlakThirtySeven</li>
            <li>RheinmetallTwentyMilShell</li>
            <li>ShipunovShell</li>
            <li>SIDAMShell</li>
            <li>SIGShellHE</li>
            <li>NinePointTwoInchShellHE</li>
            <li>SixHundredMilShell</li>
            <li>GvozdikaShell</li>
            <li>AkatsiyaShell</li>
            <li>OneFiftyFiveShell</li>
            <li>TwelveSevenShell</li>
            <li>OneHundredFiftyShell</li>
            <li>JOnetwentysevenShell</li>
            <li>TwentyThreeShellHE</li>
            <li>MarkSixtyFour</li>
            <li>OneHundredmmShell</li>
            <li>TAKShell</li>
            <li>NavalSeventySix</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>SixPounderShellAP</li>
        <li>SeventyFiveShellAP</li>
        <li>EightyEightShellAP</li>
        <li>OneHundredShellAP</li>
        <li>OneTwentyEightShellAP</li>
        <li>NinetyShellAP</li>
        <li>OneOSixShellHEAT</li>
        <li>OneOFiveShellAP</li>
        <li>FlakTwentyMag</li>
        <li>BoforsClip</li>
        <li>RardenShell</li>
        <li>KugelblitzShell</li>
        <li>LongFortyMilShell</li>
        <li>FlakThirtySeven</li>
        <li>RheinmetallTwentyMilShell</li>
        <li>ShipunovShell</li>
        <li>SIDAMShell</li>
        <li>SIGShellHE</li>
        <li>NinePointTwoInchShellHE</li>
        <li>SixHundredMilShell</li>
        <li>GvozdikaShell</li>
        <li>AkatsiyaShell</li>
        <li>OneFiftyFiveShell</li>
        <li>TwelveSevenShell</li>
        <li>OneHundredFiftyShell</li>
        <li>JOnetwentysevenShell</li>
        <li>TwentyThreeShellHE</li>
        <li>MarkSixtyFour</li>
        <li>OneHundredmmShell</li>
        <li>TAKShell</li>
        <li>NavalSeventySix</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <Steel>5</Steel>
      <Chemfuel>1</Chemfuel>
    </products>
    <skillRequirements>
      <Crafting>1</Crafting>
    </skillRequirements>
    <workSkill>Crafting</workSkill>
    <recipeUsers>
      <li>ElectricSmelter</li>
    </recipeUsers>
  </RecipeDef>
</Defs>