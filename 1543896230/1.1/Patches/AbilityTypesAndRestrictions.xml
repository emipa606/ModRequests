<?xml version="1.0" encoding="utf-8" ?>
<Patch>
<!-- Restrict Ork & Grot Abilities: TheForce -->
<Operation Class="PatchOperationSequence">
  <success>Always</success>
  <operations>
    <li Class="PatchOperationTest">
      <xpath>/Defs/TraitDef[defName = "PJ_ForceSensitive"]</xpath>
    </li>
    <li Class="PatchOperationTest">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Base_Child" or @Name = "Ork_Base" or starts-with(*,'Ork_Boy_') or starts-with(*,'Ork_Nob_') or starts-with(*,'Ork_Boss_')]/disallowedTraits</xpath>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Base_Child" or @Name = "Ork_Base" or starts-with(*,'Ork_Boy_') or starts-with(*,'Ork_Nob_') or starts-with(*,'Ork_Boss_')]/disallowedTraits</xpath>
		<value>
			<li>
				<defName>PJ_ForceSensitive</defName>
			</li>
			<li>
				<defName>PJ_JediTrait</defName>
			</li>
			<li>
				<defName>PJ_SithTrait</defName>
			</li>
			<li>
				<defName>PJ_GrayTrait</defName>
			</li>
		</value>
    </li>
    <li Class="PatchOperationTest">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Grot_Base_Child" or @Name = "Grot_Base" or starts-with(*,'Grot_')]/disallowedTraits</xpath>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Grot_Base_Child" or @Name = "Grot_Base" or starts-with(*,'Grot_')]/disallowedTraits</xpath>
		<value>
			<li>
				<defName>PJ_ForceSensitive</defName>
			</li>
			<li>
				<defName>PJ_JediTrait</defName>
			</li>
			<li>
				<defName>PJ_SithTrait</defName>
			</li>
			<li>
				<defName>PJ_GrayTrait</defName>
			</li>
		</value>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Weird_Boy" or defName = "Ork_Weird_Nob" or defName = "Ork_Weird_Boss" or defName = "Weird_Grot"]/forcedTraits</xpath>
		<value>	
			<li>
				<defName>PJ_SithTrait</defName>
				<degree>1</degree>
				<chance>50</chance>
			</li>
			<li>
				<defName>PJ_SithTrait</defName>
				<degree>2</degree>
				<chance>35</chance>
			</li>
			<li>
				<defName>PJ_SithTrait</defName>
				<degree>3</degree>
				<chance>15</chance>
			</li>
			<li>
				<defName>PJ_SithTrait</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
		</value>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Weird_Child"]/forcedTraits</xpath>
		<value>	
			<li>
				<defName>PJ_ForceSensitive</defName>
				<degree>1</degree>
				<chance>75</chance>
			</li>
			<li>
				<defName>PJ_ForceSensitive</defName>
				<degree>2</degree>
				<chance>50</chance>
			</li>
		</value>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Weird_Child"]/disallowedTraits</xpath>
		<value>	
			<li>
				<defName>PJ_JediTrait</defName>
			</li>
			<li>
				<defName>PJ_GrayTrait</defName>
			</li>
		</value>
    </li>
  </operations>
</Operation>

<!-- Restrict Ork & Grot Abilities: RimWolrd of Magic -->
<Operation Class="PatchOperationSequence">
  <success>Always</success>
  <operations>
    <li Class="PatchOperationTest">
      <xpath>/Defs/TraitDef[defName = "Gifted"]</xpath>
    </li>
    <li Class="PatchOperationTest">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Base_Child" or @Name = "Ork_Base" or starts-with(*,'Ork_Boy_') or starts-with(*,'Ork_Nob_') or starts-with(*,'Ork_Boss_')]/disallowedTraits</xpath>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Base_Child" or @Name = "Ork_Base" or starts-with(*,'Ork_Boy_') or starts-with(*,'Ork_Nob_') or starts-with(*,'Ork_Boss_')]/disallowedTraits</xpath>
		<value>	
			<li>
				<defName>TM_Gifted</defName>
			</li>
			<li>
				<defName>InnerFire</defName>
			</li>
			<li>
				<defName>HeartOfFrost</defName>
			</li>
			<li>
				<defName>StormBorn</defName>
			</li>
			<li>
				<defName>Arcanist</defName>
			</li>
			<li>
				<defName>Druid</defName>
			</li>
			<li>
				<defName>Paladin</defName>
			</li>
			<li>
				<defName>Summoner</defName>
			</li>
			<li>
				<defName>Necromancer</defName>
			</li>
			<li>
				<defName>Lich</defName>
			</li>
			<li>
				<defName>Priest</defName>
			</li>
			<li>
				<defName>Geomancer</defName>
			</li>
			<li>
				<defName>Technomancer</defName>
			</li>
			<li>
				<defName>Succubus</defName>
			</li>
			<li>
				<defName>Warlock</defName>
			</li>
			<li>
				<defName>TM_Psionic</defName>
			</li>
			<li>
				<defName>DeathKnight</defName>
			</li>
			<li>
				<defName>Enchanter</defName>
			</li>
			<li>
				<defName>BloodMage</defName>
			</li>
		</value>
    </li>
    <li Class="PatchOperationTest">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Grot_Base_Child" or @Name = "Grot_Base" or starts-with(*,'Grot_')]/disallowedTraits</xpath>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Grot_Base_Child" or @Name = "Grot_Base" or starts-with(*,'Grot_')]/disallowedTraits</xpath>
		<value>	
			<li>
				<defName>TM_Gifted</defName>
			</li>
			<li>
				<defName>InnerFire</defName>
			</li>
			<li>
				<defName>HeartOfFrost</defName>
			</li>
			<li>
				<defName>StormBorn</defName>
			</li>
			<li>
				<defName>Arcanist</defName>
			</li>
			<li>
				<defName>Druid</defName>
			</li>
			<li>
				<defName>Paladin</defName>
			</li>
			<li>
				<defName>Summoner</defName>
			</li>
			<li>
				<defName>Necromancer</defName>
			</li>
			<li>
				<defName>Lich</defName>
			</li>
			<li>
				<defName>Priest</defName>
			</li>
			<li>
				<defName>Geomancer</defName>
			</li>
			<li>
				<defName>Technomancer</defName>
			</li>
			<li>
				<defName>Succubus</defName>
			</li>
			<li>
				<defName>Warlock</defName>
			</li>
			<li>
				<defName>TM_Psionic</defName>
			</li>
			<li>
				<defName>DeathKnight</defName>
			</li>
			<li>
				<defName>Enchanter</defName>
			</li>
			<li>
				<defName>BloodMage</defName>
			</li>
			<li>
				<defName>Paladin</defName>
			</li>
			<li>
				<defName>PhysicalProdigy</defName>
			</li>
			<li>
				<defName>Gladiator</defName>
			</li>
			<li>
				<defName>Bladedancer</defName>
			</li>
		</value>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Weird_Boy" or defName = "Ork_Weird_Nob" or defName = "Ork_Weird_Boss" or defName = "Weird_Grot"]/forcedTraits</xpath>
		<value>	
			<li>
				<defName>InnerFire</defName>
				<degree>4</degree>
				<chance>30</chance>
			</li>
			<li>
				<defName>HeartOfFrost</defName>
				<degree>4</degree>
				<chance>30</chance>
			</li>
			<li>
				<defName>StormBorn</defName>
				<degree>4</degree>
				<chance>30</chance>
			</li>
			<li>
				<defName>Arcanist</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>Druid</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<!--
			<li>
				<defName>Paladin</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			-->
			<li>
				<defName>Summoner</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>Necromancer</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>Lich</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<!--
			<li>
				<defName>Priest</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			-->
			<li>
				<defName>Geomancer</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>Technomancer</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>Succubus</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>Warlock</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>TM_Psionic</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>DeathKnight</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>Enchanter</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
			<li>
				<defName>BloodMage</defName>
				<degree>4</degree>
				<chance>5</chance>
			</li>
		</value>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Weird_Child" or defName = "Weird_Grot"]/forcedTraits</xpath>
		<value>	
			<li>
				<defName>TM_Gifted</defName>
				<degree>2</degree>
				<chance>75</chance>
			</li>
		</value>
    </li>
    <li Class="PatchOperationAdd">
      <xpath>/Defs/AlienRace.BackstoryDef[defName = "Ork_Weird_Child" or defName = "Weird_Grot"]/disallowedTraits</xpath>
		<value>	
			<li>
				<defName>Paladin</defName>
			</li>
			<li>
				<defName>PhysicalProdigy</defName>
			</li>
			<li>
				<defName>Gladiator</defName>
			</li>
			<li>
				<defName>TM_Sniper</defName>
			</li>
			<li>
				<defName>Bladedancer</defName>
			</li>
			<li>
				<defName>Ranger</defName>
			</li>
			<li>
				<defName>TM_Bard</defName>
			</li>
			<li>
				<defName>Faceless</defName>
			</li>
		</value>
    </li>
  </operations>
</Operation>
</Patch>
