<Patch>

    <!--================================ patches for medicaddons on Vanilla Furniture Expanded pack (and all modules) ======================================-->


    <!--========================= adding facilities =============================-->

    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="sd_medicaddons.PatchOperationFindMod">
                <modName>Vanilla Furniture Expanded</modName>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="Bed_StoneSlab" or defName="Bed_Simple" or defName="Bed_Ergonomic" or defName="Bed_DoubleErgonomic" or defName="Bed_Kingsize"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
                <value>
                    <li>sd_medicaddons_medieval_surg_washpan</li>
                    <li>sd_medicaddons_medieval_surg_instruments</li>
                    <li>sd_medicaddons_medieval_surg_lamp</li>
                    <li>sd_medicaddons_industrial_surg_instruments</li>
                    <li>sd_medicaddons_industrial_surg_lamp</li>
                    <li>sd_medicaddons_spacer_surg_vitalsmonitor</li>
                    <li>sd_medicaddons_spacer_surg_instruments</li>
                    <li>sd_medicaddons_spacer_surg_lamp</li>
                </value>
            </li>
        </operations>
    </Operation>

    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="sd_medicaddons.PatchOperationFindMod">
                <modName>Vanilla Furniture Expanded - Medical Module</modName>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="Bed_OperatingTable" or defName="Bed_CryptoBed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
                <value>
                    <li>sd_medicaddons_medieval_surg_washpan</li>
                    <li>sd_medicaddons_medieval_surg_instruments</li>
                    <li>sd_medicaddons_medieval_surg_lamp</li>
                    <li>sd_medicaddons_industrial_surg_instruments</li>
                    <li>sd_medicaddons_industrial_surg_lamp</li>
                    <li>sd_medicaddons_spacer_surg_vitalsmonitor</li>
                    <li>sd_medicaddons_spacer_surg_instruments</li>
                    <li>sd_medicaddons_spacer_surg_lamp</li>
                </value>
            </li>
        </operations>
    </Operation>

    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="sd_medicaddons.PatchOperationFindMod">
                <modName>Vanilla Furniture Expanded - Spacer Module</modName>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="Bed_AdvBed" or defName="Bed_AdvDoubleBed"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
                <value>
                    <li>sd_medicaddons_medieval_surg_washpan</li>
                    <li>sd_medicaddons_medieval_surg_instruments</li>
                    <li>sd_medicaddons_medieval_surg_lamp</li>
                    <li>sd_medicaddons_industrial_surg_instruments</li>
                    <li>sd_medicaddons_industrial_surg_lamp</li>
                    <li>sd_medicaddons_spacer_surg_vitalsmonitor</li>
                    <li>sd_medicaddons_spacer_surg_instruments</li>
                    <li>sd_medicaddons_spacer_surg_lamp</li>
                </value>
            </li>
        </operations>
    </Operation>

</Patch>