<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>VGP Garden Drinks UF</li>
			<li>VGP Garden Drinks</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

	<!-- Add garden alcohols to vinegar must recipe -->
	<li Class="PatchOperationAdd">
		<xpath>/Defs/RecipeDef[defName="GAB_MakeVinegarMust"]/ingredients/li/filter/categories</xpath>
		<value>
			<li>VG_Drinks</li>
		</value>
	</li>
	<li Class="PatchOperationAdd">
		<xpath>/Defs/RecipeDef[defName="GAB_MakeVinegarMust"]/fixedIngredientFilter/categories</xpath>
		<value>
			<li>VG_Drinks</li>
		</value>
	</li>
	<li Class="PatchOperationAdd">
		<xpath>/Defs/RecipeDef[defName="GAB_MakeVinegarMust"]/defaultIngredientFilter/categories</xpath>
		<value>
			<li>VG_Drinks</li>
		</value>
	</li>
	<!-- But not ambrosia wine by default. -->
	<li Class="PatchOperationAdd">
		<xpath>/Defs/RecipeDef[defName="GAB_MakeVinegarMust"]/defaultIngredientFilter/disallowedThingDefs</xpath>
		<value>
			<li>VG_AmbrosiaWine</li>
		</value>
	</li>

			</operations>
		</match>
	</Operation>
	
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>VGP Garden Drinks UF</li>
			<li>VGP Garden Drinks</li>
		</mods>
		<match Class="PatchOperationFindMod">
		<mods>
		<li>Vanilla Cooking Expanded</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

	<!-- Add Sugar Conversion Recipes -->
	<li Class="PatchOperationAdd">
		<xpath>/Defs</xpath>
		<value>

			<!-- Make cane must from sugar -->
			<RecipeDef>
				<defName>GAB_MakeCaneMust</defName>
				<label>make cane must from sugar</label>
				<description>Make cane must from sugar. \n\nMakes 5.</description>
				<jobString>Making cane must.</jobString>
				<workSpeedStat>CookSpeed</workSpeedStat>
				<workSkill>Cooking</workSkill>
				<effectWorking>Cook</effectWorking>
				<soundWorking>Recipe_Brewing</soundWorking>
				<allowMixingIngredients>true</allowMixingIngredients>
				<workAmount>1000</workAmount>
				<targetCountAdjustment>1</targetCountAdjustment>
				<recipeUsers>
					<li>Brewery</li>
				</recipeUsers>
				<skillRequirements>
					<Cooking>6</Cooking>
				</skillRequirements>
				<ingredients>
					<li>
						<filter>
							<thingDefs>
								<li>VCE_RawSugar</li>
							</thingDefs>
						</filter>
						<count>3</count>
					</li>
				</ingredients>
				<fixedIngredientFilter>
					<thingDefs>
						<li>VCE_RawSugar</li>
					</thingDefs>
				</fixedIngredientFilter>
				<products>
					<VG_CaneMash>5</VG_CaneMash>
				</products>
			</RecipeDef>

			<!-- Make bulk cane must from sugar -->
			<RecipeDef>
				<defName>GAB_MakeBulkCaneMust</defName>
				<label>make cane must from sugar x4</label>
				<description>Make cane must from sugar. \n\nMakes 20.</description>
				<jobString>Making cane must.</jobString>
				<workSpeedStat>CookSpeed</workSpeedStat>
				<workSkill>Cooking</workSkill>
				<effectWorking>Cook</effectWorking>
				<soundWorking>Recipe_Brewing</soundWorking>
				<allowMixingIngredients>true</allowMixingIngredients>
				<workAmount>3000</workAmount>
				<targetCountAdjustment>1</targetCountAdjustment>
				<recipeUsers>
					<li>Brewery</li>
				</recipeUsers>
				<skillRequirements>
					<Cooking>10</Cooking>
				</skillRequirements>
				<researchPrerequisite>VG_PrecursorBulk</researchPrerequisite>
				<ingredients>
					<li>
						<filter>
							<thingDefs>
								<li>VCE_RawSugar</li>
							</thingDefs>
						</filter>
						<count>12</count>
					</li>
				</ingredients>
				<fixedIngredientFilter>
					<thingDefs>
						<li>VCE_RawSugar</li>
					</thingDefs>
				</fixedIngredientFilter>
				<products>
					<VG_CaneMash>20</VG_CaneMash>
				</products>
			</RecipeDef>

		</value>
	</li>
</operations>
</match>
</match>
</Operation>
</Patch>


