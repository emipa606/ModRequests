<?xml version="1.0" encoding="utf-8"?>

<Patch>

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Core</li>
		</mods>

		<match Class="PatchOperationSequence">
			<success>Always</success>
			<operations>
				
				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="MeleeHit_Metal_Sharp"]/subSounds/li/grains/li[clipFolderPath="Impact/MeleeHit_Metal_Sharp"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Swordfight</clipFolderPath>
					</value>
				</li>

				<!--I can't get this one to work, it's supposed to replace the bullet sounds hitting metal - which also works on melee weapons hitting stuff.
				
				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="BulletImpact_Metal"]/subSounds/li/grains/li[clipFolderPath="Impact/BulletImpact_Metal"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Clank</clipFolderPath>
					</value>
				</li>-->
				
				<!--<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="MeleeHit_Metal_Blunt"]/subSounds/li/grains/li[clipFolderPath="Impact/MeleeHit_Metal_Blunt"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Hammerfight</clipFolderPath>
					</value>
				</li>-->

				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="MeleeHit_Metal_Blunt"]/subSounds/li/grains/li[clipFolderPath="Impact/MeleeHit_Metal_Blunt"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Hammerclank</clipFolderPath>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="MeleeHit_Wood"]/subSounds/li/grains/li[clipFolderPath="Impact/MeleeHit_Wood"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Woodhit</clipFolderPath>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="MeleeHit_Stone"]/subSounds/li/grains/li[clipFolderPath="Impact/MeleeHit_Stone"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Stonehit</clipFolderPath>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="Pawn_Melee_Punch_Miss"]/subSounds/li/grains/li[clipFolderPath="Impact/PunchMiss"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Miss</clipFolderPath>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="Pawn_MeleeDodge"]/subSounds/li/grains/li[clipFolderPath="Impact/MeleeDodge"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Miss</clipFolderPath>
					</value>
				</li>
				
				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="Pawn_Melee_Punch_HitPawn"]/subSounds/li/grains/li[clipFolderPath="Impact/PunchHitPawn"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Punch</clipFolderPath>
					</value>
				</li>
				
				<!--<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="Deflect_Metal"]/subSounds/li/grains/li[clipFolderPath="Impact/Deflect/Deflect_Metal"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/Deflect_Metal</clipFolderPath>
					</value>
				</li>-->

				<li Class="PatchOperationReplace">
					<xpath>/Defs/SoundDef[defName="Deflect_Metal"]/subSounds/li/grains/li[clipFolderPath="Impact/Deflect/Deflect_Metal"]/clipFolderPath</xpath>
					<value>
						<clipFolderPath>Impact/RimClank</clipFolderPath>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>

</Patch>