<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]/corePart/groups|/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="LeftElytra" or def="RightElytra" or def="Stomach" or def="InsectHeart"]/groups</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]/corePart|/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="LeftElytra" or def="RightElytra" or def="Stomach" or def="InsectHeart"]</xpath>
				<value>
					<groups />
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]/corePart/groups|/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="LeftElytra" or def="RightElytra" or def="Stomach" or def="InsectHeart"]/groups</xpath>
		<value>
			<li>Torso</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]/corePart/groups</xpath>
		<value>
			<li>Waist</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Pronotum"]/groups</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Pronotum"]</xpath>
				<value>
					<groups />
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Pronotum"]/groups</xpath>
		<value>
			<li>Neck</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="InsectHead"]/groups</xpath>
		<value>
			<li>UpperHead</li>
			<li>FullHead</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Brain"]/groups</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Brain"]</xpath>
				<value>
					<groups />
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Brain"]/groups</xpath>
		<value>
			<li>UpperHead</li>
			<li>FullHead</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Eye"]/groups</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Eye"]</xpath>
				<value>
					<groups />
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Eye"]/groups</xpath>
		<value>
			<li>FullHead</li>
			<li>Eyes</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Antenna"]/groups</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Antenna"]</xpath>
				<value>
					<groups />
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="Antenna"]/groups</xpath>
		<value>
			<li>UpperHead</li>
			<li>FullHead</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="InsectNostril"]/groups</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="InsectNostril"]</xpath>
				<value>
					<groups />
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="InsectNostril"]/groups</xpath>
		<value>
			<li>FullHead</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="InsectMouth"]/groups</xpath>
		<value>
			<li>FullHead</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLikeWithClaw"]//li[def="HeadClaw"]/groups</xpath>
		<value>
			<li>FullHead</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationTest">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="InsectLeg"]/groups</xpath>
				<success>Invert</success>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="InsectLeg"]</xpath>
				<value>
					<groups />
				</value>
			</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[def="InsectLeg"]/groups</xpath>
		<value>
			<li>Legs</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[customLabel="front left leg"]/groups</xpath>
		<value>
			<li>FrontLeftLeg</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/BodyDef[defName="BeetleLike" or defName="BeetleLikeWithClaw"]//li[customLabel="front right leg"]/groups</xpath>
		<value>
			<li>FrontRightLeg</li>
		</value>
	</Operation>

</Patch>