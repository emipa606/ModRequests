<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  
  <ThingDef ParentName="BasePawn">
    <defName>NAT_Collector_Reworked</defName>
    <label>collector</label>
    <description>A curved human figure with massive shoulder and carpal protrusions.\n\nThe Collector is an overgrown sightstealer who has acquired an irresistible mania for collecting along with complete self-awareness.</description>
    <hiddenWhileUndiscovered>true</hiddenWhileUndiscovered>
    <statBases>
      <MoveSpeed>10.9</MoveSpeed>
      <Flammability>0.2</Flammability>
      <ComfyTemperatureMin>-40</ComfyTemperatureMin>
      <ComfyTemperatureMax>60</ComfyTemperatureMax>
      <PsychicSensitivity>2</PsychicSensitivity>
      <MinimumContainmentStrength>80</MinimumContainmentStrength>
      <StaggerDurationFactor>0.2</StaggerDurationFactor>
      <ToxicResistance>0.5</ToxicResistance>
	  <ToxicEnvironmentResistance MayRequire="Ludeon.RimWorld.Biotech">1</ToxicEnvironmentResistance>
	  <ArmorRating_Sharp>0.28</ArmorRating_Sharp>
      <ArmorRating_Blunt>0.38</ArmorRating_Blunt>
	  <LeatherAmount>60</LeatherAmount>
      <MeatAmount>70</MeatAmount>
    </statBases>
    <tradeability>None</tradeability>
    <hideStats>true</hideStats>
    <onlyShowInspectString>true</onlyShowInspectString>
    <hideMainDesc>true</hideMainDesc>
    <race>
      <thinkTreeMain>NAT_ReworkedCollector</thinkTreeMain>
      <thinkTreeConstant>NAT_CollectorConstant</thinkTreeConstant>
      <body>Human</body>
      <baseBodySize>1.2</baseBodySize>
      <baseHealthScale>6</baseHealthScale>
      <intelligence>ToolUser</intelligence>
      <needsRest>false</needsRest>
      <hasGenders>false</hasGenders>
      <bloodDef>Filth_DarkBlood</bloodDef>
      <bleedRateFactor>0.2</bleedRateFactor>
      <fleshType>EntityFlesh</fleshType>
	  <isImmuneToInfections>true</isImmuneToInfections>
      <specificMeatDef>Meat_Twisted</specificMeatDef>
      <leatherDef>Leather_Dread</leatherDef>
      <foodType>None</foodType>
      <hasCorpse>true</hasCorpse>
      <lifeExpectancy>450</lifeExpectancy>
      <soundMeleeDodge>Pawn_MeleeDodge</soundMeleeDodge>
      <soundCallIntervalRange>120~240</soundCallIntervalRange>
      <disableIgniteVerb>true</disableIgniteVerb>
      <trainability>None</trainability>
	  <canBecomeShambler>true</canBecomeShambler>
      <lifeStageAges>
        <li>
          <def>EntityFullyFormed</def>
          <soundCall>Pawn_Revenant_Call</soundCall>
          <soundWounded>Pawn_Revenant_Wounded</soundWounded>
          <soundDeath>Pawn_Revenant_Death</soundDeath>
        </li>
      </lifeStageAges>
      <hediffGiverSets>
        <li>AnomalyEntity</li>
      </hediffGiverSets>
    </race>
    <comps>
      <li Class="NAT.CompProperties_ReworkedCollector">
        <highPriorityThings>
		  <li>GoldenCube</li>
		  <li>RevenantSpine</li>
		  <li>Shard</li>
		  <li>GrayFleshSample</li>
		</highPriorityThings>
        <thingsRange>3~11</thingsRange>
		<waitingTicksRange>50000~75000</waitingTicksRange>
		<damageRange>75~120</damageRange>
		<rageTicksRange>500~1500</rageTicksRange>
      </li>
      <li Class="CompProperties_HoldingPlatformTarget">
        <baseEscapeIntervalMtbDays>60</baseEscapeIntervalMtbDays>
        <lookForTargetOnEscape>false</lookForTargetOnEscape>
      </li>
      <li Class="CompProperties_AttachPoints">
        <points>
          <li>
            <offset>(-.45, 0, .35)</offset>
            <type>PlatformRestraint0</type>
          </li>
          <li>
            <offset>(.45, 0, .35)</offset>
            <type>PlatformRestraint1</type>
          </li>
          <li>
            <offset>(.2, 0, -.71)</offset>
            <type>PlatformRestraint2</type>
          </li>
          <li>
            <offset>(-.2, 0, -.71)</offset>
            <type>PlatformRestraint3</type>
          </li>
        </points>
      </li>
      <li Class="CompProperties_ProducesBioferrite">
        <bioferriteDensity>2</bioferriteDensity>
      </li>
      <li Class="CompProperties_Studiable">
        <frequencyTicks>120000</frequencyTicks>
        <knowledgeCategory>Advanced</knowledgeCategory>
        <anomalyKnowledge>3</anomalyKnowledge>
        <minMonolithLevelForStudy>1</minMonolithLevelForStudy>
        <requiresHoldingPlatform>true</requiresHoldingPlatform>
      </li>
    </comps>
    <tools>
      <li>
        <label>head</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>8</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.1</chanceFactor>
      </li>
	  <li>
        <label>left claw</label>
        <labelNoLocation>claw</labelNoLocation>
        <capacities>
          <li>Scratch</li>
        </capacities>
        <power>11</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>LeftHand</linkedBodyPartsGroup>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>14</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
	  <li>
        <label>right claw</label>
        <labelNoLocation>claw</labelNoLocation>
        <capacities>
          <li>Scratch</li>
        </capacities>
        <power>11</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>RightHand</linkedBodyPartsGroup>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>14</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
    </tools>
	<killedLeavingsRanges>
      <Shard>0~1</Shard>
    </killedLeavingsRanges>
  </ThingDef>
  
  <ThingDef ParentName="MysteriousSphereEntityBase">
    <defName>NAT_RustedSphere</defName>
    <label>rusted mass</label>
    <description>Large piece of bioferrite. It seems to be filling with strange energy.</description>
    <uiIconPath>Things/Pawn/NAT_RustedSphere</uiIconPath>
    <hiddenWhileUndiscovered>true</hiddenWhileUndiscovered>
    <race>
      <body>FleshmassNucleus</body>
      <thinkTreeMain>FleshmassNucleus</thinkTreeMain>
      <thinkTreeConstant>FleshmassNucleusConstant</thinkTreeConstant>
      <baseHealthScale>1</baseHealthScale>
      <baseBodySize>1.2</baseBodySize>
    </race>
	<statBases>
      <Flammability>2</Flammability>
    </statBases>
    <comps>
      <li Class="CompProperties_Studiable">
        <frequencyTicks>120000</frequencyTicks>
        <knowledgeCategory>Advanced</knowledgeCategory>
        <anomalyKnowledge>3</anomalyKnowledge>
        <minMonolithLevelForStudy>1</minMonolithLevelForStudy>
        <requiresHoldingPlatform>true</requiresHoldingPlatform>
      </li>
      <li Class="CompProperties_ProducesBioferrite">
        <bioferriteDensity>3</bioferriteDensity>
      </li>
      <li Class="CompProperties_Pushable">
        <offsetDistance>0.5</offsetDistance>
      </li>
	  <li Class="CompProperties_StudyUnlocks">
        <studyNotes>
          <li>
            <threshold>2</threshold>
            <label>Rusted mass study progress</label>
            <text>Investigation of the rusted mass has revealed some information. It is an archotech machine, that has a lot of psy-connections with something far away. \n\nIf not suppressed, its activity level will increase over time. You can't tell what will happen when the device fully activates.</text>
          </li>
          <li>
            <threshold>10</threshold>
            <label>Rusted mass study progress</label>
            <text>You've learned more about the rusted mass. It is a beginning of rusted army, connected with countless rusted soldiers. Rusted mass will grow getting mor life power and then will transfofm into rusted soldiers, causing rusted hordes to attack this place.\n\nThe power level of the rusted mass rises unless suppressed. If it fully activates, it will transform into group of rusted soldiers and draw others to attack colony.\n\n{PAWN_nameDef} thinks that it may be possible to safely deactivate the rusted mass but this will need significantly more study.</text>
          </li>
          <li>
            <threshold>30</threshold>
            <label>Rusted mass study complete</label>
            <text>{PAWN_nameDef} has completed {PAWN_possessive} investigation of the rusted mass. {PAWN_pronoun} has discovered a method for safely deactivating the mass using shards of archotechnology.\n\nYou can no longer study the rusted mass after deactivating it.</text>
          </li>
        </studyNotes>
      </li>
	  <li Class="NAT.CompProperties_RustedSphereDeactivation">
        <shardsRequired>1</shardsRequired>
        <activeTicks>1</activeTicks>
        <ticksToActivate>180</ticksToActivate>
        <activateTexPath>UI/NAT_DeactivateRustedMass</activateTexPath>
        <activateLabelString>Deactivate rusted mass</activateLabelString>
        <activateDescString>Permanently and safely disable Rusted mass. This will prevent it from activating and being studied further.\n\nRequires 2 shards.</activateDescString>
        <guiLabelString>Choose who should do this</guiLabelString>
        <jobString>Deactivate rusted mass</jobString>
        <activatingStringPending>deactivating rusted mass</activatingStringPending>
        <activatingString>deactivating rusted mass: {1}s</activatingString>
        <messageCompletedString>{PAWN_nameDef} has successfully deactivated rusted mass.</messageCompletedString>
        <showMustBeActivatedByColonist>false</showMustBeActivatedByColonist>
        <targetingParameters>
          <canTargetBuildings>false</canTargetBuildings>
          <canTargetAnimals>false</canTargetAnimals>
          <canTargetMechs>false</canTargetMechs>
          <onlyTargetControlledPawns>true</onlyTargetControlledPawns>
        </targetingParameters>
      </li>
	  <li Class="CompProperties_Activity">
        <startingRange>0.2~0.4</startingRange>
        <workerClass>PawnActivityWorker</workerClass>
        <showLetterOnActivated>true</showLetterOnActivated>
		<changePerDayOutside>0.5</changePerDayOutside>
		<changePerDamage>0.01</changePerDamage>
        <letterDef>ThreatBig</letterDef>
        <letterTitle>Rusted mass activated!</letterTitle>
        <letterDesc>The activity level of the rusted mass has reached 100% and it has activated. It summoned large rusted group nearby.\n\nIt also divided into rusted soldiers!</letterDesc> 
        <activityResearchFactorCurve>
          <points>
            <li>0, 0.5</li>
            <li>0.5, 1</li>
            <li>1, 2</li>
          </points>
        </activityResearchFactorCurve>
      </li>
      <li Class="NAT.CompProperties_RustedSphere">
        <pointsFromCurrentPoints>
		  <points>
		    <li>(0,1000)</li>
			<li>(10000, 8000)</li>
		  </points>
		</pointsFromCurrentPoints>
		<pointsFactorFromRaidIndex>
		  <points>
		    <li>(0,0.5)</li>
			<li>(1,0.8)</li>
			<li>(6, 1.1)</li>
			<li>(100, 1.5)</li>
		  </points>
		</pointsFactorFromRaidIndex>
		<pointsFactorFromActivity>
		  <points>
		    <li>(0,0.3)</li>
			<li>(0.2,0.7)</li>
			<li>(0.6,1)</li>
			<li>(0.8, 1.5)</li>
			<li>(1, 2)</li>
		  </points>
		</pointsFactorFromActivity>
		<cooldownFactorFromRaidIndex>
		  <points>
		    <li>(0,2)</li>
			<li>(6,1.5)</li>
			<li>(15,1)</li>
			<li>(30,0.8)</li>
		  </points>
		</cooldownFactorFromRaidIndex>
		<cooldownFactorFromActivity>
		  <points>
		    <li>(0,4)</li>
			<li>(0.2,2)</li>
			<li>(0.5,1.5)</li>
			<li>(0.8,1)</li>
			<li>(1,0.5)</li>
		  </points>
		</cooldownFactorFromActivity>
		<cooldownDaysRange>2~3.5</cooldownDaysRange>
      </li>
      <li Class="CompProperties_AttachPoints">
        <points>
          <li>
            <offset>(-.35, 0, .25)</offset>
            <type>PlatformRestraint0</type>
          </li>
          <li>
            <offset>(.30, 0, .20)</offset>
            <type>PlatformRestraint1</type>
          </li>
          <li>
            <offset>(.35, 0, -.35)</offset>
            <type>PlatformRestraint2</type>
          </li>
          <li>
            <offset>(-.35, 0, -.35)</offset>
            <type>PlatformRestraint3</type>
          </li>
        </points>
      </li>
    </comps>
    <killedLeavingsRanges>
      <Bioferrite>11~15</Bioferrite>
    </killedLeavingsRanges>
  </ThingDef>
  
  <ThingDef ParentName="BasePawn">
    <defName>NAT_Collector</defName>
    <label>collector</label>
    <description>A tall human like figure with tough desiccated skin and large spike on each arm.\n\nA hidden collector can be revealed with disruptor flares, explosives, EMP, firefoam, or fire.</description>
    <hiddenWhileUndiscovered>true</hiddenWhileUndiscovered>
    <statBases>
      <MoveSpeed>10.9</MoveSpeed>
      <Flammability>0.2</Flammability>
      <ComfyTemperatureMin>-40</ComfyTemperatureMin>
      <ComfyTemperatureMax>60</ComfyTemperatureMax>
      <PsychicSensitivity>2</PsychicSensitivity>
      <MinimumContainmentStrength>80</MinimumContainmentStrength>
      <StaggerDurationFactor>0.2</StaggerDurationFactor>
      <ToxicResistance>0.5</ToxicResistance>
	  <ToxicEnvironmentResistance MayRequire="Ludeon.RimWorld.Biotech">1</ToxicEnvironmentResistance>
	  <ArmorRating_Sharp>0.28</ArmorRating_Sharp>
      <ArmorRating_Blunt>0.38</ArmorRating_Blunt>
	  <LeatherAmount>60</LeatherAmount>
      <MeatAmount>70</MeatAmount>
    </statBases>
    <tradeability>None</tradeability>
    <hideStats>true</hideStats>
    <onlyShowInspectString>true</onlyShowInspectString>
    <hideMainDesc>true</hideMainDesc>
    <race>
      <thinkTreeMain>NAT_Collector</thinkTreeMain>
      <thinkTreeConstant>NAT_CollectorConstant</thinkTreeConstant>
      <body>Human</body>
      <baseBodySize>1.2</baseBodySize>
      <baseHealthScale>5.5</baseHealthScale>
      <intelligence>ToolUser</intelligence>
      <needsRest>false</needsRest>
      <hasGenders>false</hasGenders>
      <bloodDef>Filth_DarkBlood</bloodDef>
      <bleedRateFactor>0.2</bleedRateFactor>
      <fleshType>EntityFlesh</fleshType>
	  <isImmuneToInfections>true</isImmuneToInfections>
      <specificMeatDef>Meat_Twisted</specificMeatDef>
      <leatherDef>Leather_Dread</leatherDef>
      <foodType>None</foodType>
      <hasCorpse>true</hasCorpse>
      <lifeExpectancy>450</lifeExpectancy>
      <soundMeleeDodge>Pawn_MeleeDodge</soundMeleeDodge>
      <soundCallIntervalRange>120~240</soundCallIntervalRange>
      <disableIgniteVerb>true</disableIgniteVerb>
      <trainability>None</trainability>
	  <canBecomeShambler>false</canBecomeShambler>
      <lifeStageAges>
        <li>
          <def>EntityFullyFormed</def>
          <soundCall>Pawn_Revenant_Call</soundCall>
          <soundWounded>Pawn_Revenant_Wounded</soundWounded>
          <soundDeath>Pawn_Revenant_Death</soundDeath>
        </li>
      </lifeStageAges>
      <hediffGiverSets>
        <li>AnomalyEntity</li>
      </hediffGiverSets>
    </race>
    <comps>
      <li>
        <compClass>NAT.CompCollector</compClass>
      </li>
      <li Class="CompProperties_HoldingPlatformTarget">
        <baseEscapeIntervalMtbDays>60</baseEscapeIntervalMtbDays>
        <lookForTargetOnEscape>false</lookForTargetOnEscape>
      </li>
      <li Class="CompProperties_AttachPoints">
        <points>
          <li>
            <offset>(-.45, 0, .35)</offset>
            <type>PlatformRestraint0</type>
          </li>
          <li>
            <offset>(.45, 0, .35)</offset>
            <type>PlatformRestraint1</type>
          </li>
          <li>
            <offset>(.2, 0, -.71)</offset>
            <type>PlatformRestraint2</type>
          </li>
          <li>
            <offset>(-.2, 0, -.71)</offset>
            <type>PlatformRestraint3</type>
          </li>
        </points>
      </li>
      <li Class="CompProperties_ProducesBioferrite">
        <bioferriteDensity>2</bioferriteDensity>
      </li>
      <li Class="CompProperties_Studiable">
        <frequencyTicks>120000</frequencyTicks>
        <knowledgeCategory>Advanced</knowledgeCategory>
        <anomalyKnowledge>3</anomalyKnowledge>
        <minMonolithLevelForStudy>1</minMonolithLevelForStudy>
        <requiresHoldingPlatform>true</requiresHoldingPlatform>
      </li>
	  <li Class="CompProperties_StudyUnlocks">
        <studyNotes>
          <li>
            <thresholdRange>3~5</thresholdRange>
            <label>Collector study progress</label>
            <text>{PAWN_nameDef} has learned more about the collector. He collect people and valuable things and then brings all stolen in his lair.\n\n{PAWN_nameDef} thinks that to get information about stolen, {PAWN_pronoun} should kill collector and study his corpse.</text>
          </li>
        </studyNotes>
      </li>
    </comps>
    <tools>
      <li>
        <label>head</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>10</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.2</chanceFactor>
      </li>
    </tools>
	<killedLeavingsRanges>
      <Shard>0~1</Shard>
    </killedLeavingsRanges>
  </ThingDef>

</Defs>