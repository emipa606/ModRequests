<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<!--Преображение в дерево-->
	
	<!--Болезнь для преображения-->
	 <HediffDef>
		<defName>TreeSprout</defName>
		<label>tree sprout</label>
		<description>Inside each representative of the Euglena race, there is a part of the great tree that will return the bearer to its roots when the time comes.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<everCurableByItem>false</everCurableByItem>
		<isBad>false</isBad>
		<recordDownedTale>false</recordDownedTale>
		<defaultLabelColor>(149, 189, 252)</defaultLabelColor>
		<stages>
			<li>
			</li>
		</stages>
		<comps>
			<li Class="X_Euglena.Eug_HediffCompProperties_PawnToItem">
				<itemToSpawn1>MasteryTree</itemToSpawn1>
				<itemToSpawn2>NatureTree</itemToSpawn2>
				<itemToSpawn3>WarsTree</itemToSpawn3>
				<itemToSpawn4>MindTree</itemToSpawn4>
				<itemToSpawn5>BodyTree</itemToSpawn5>
				<itemToSpawn6>MemoryTree</itemToSpawn6>
				<minSkillLevel>10</minSkillLevel>
				<AgeYearsRange>60~80</AgeYearsRange>
				<notificationText>One of our race returned to the ancestors</notificationText>
			</li>
		</comps>
	</HediffDef>

	<HediffDef>
		<defName>testAge</defName>
		<label>testAge</label>
		<description>.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<everCurableByItem>false</everCurableByItem>
		<isBad>false</isBad>
		<recordDownedTale>false</recordDownedTale>
		<defaultLabelColor>(149, 189, 252)</defaultLabelColor>
		<stages>
			<li>
			</li>
		</stages>
		<comps>
			<li Class="X_Euglena.HediffCompProperties_AcceleratedAging"></li>
		</comps>
	</HediffDef>
	
	

	<!--Ген-->
	<GeneDef>
		<defName>PieceGreatTree</defName>
		<label>piece of Great Tree</label>
		<description>Within each bearer of a given gene is a part of the great tree that will return the bearer to his roots when the time comes.</description>
		<iconPath>Gene/Genes/Gene_PieceGreatTree</iconPath>
		<modExtensions>
			<li Class="Euglena.Eug_DefModExtensionInfo">
				<Hediffs>
					<li>TreeSprout</li>
				</Hediffs>
			</li>
		</modExtensions>
		<geneClass>Euglena.Eug_Gene_AddHeddifs</geneClass>
		<displayCategory>Euglena</displayCategory>
		<minAgeActive>0</minAgeActive>
		<canGenerateInGeneSet>false</canGenerateInGeneSet>
		<biostatCpx>1</biostatCpx>
		<biostatMet>1</biostatMet>
		<marketValueFactor>2</marketValueFactor>
		<biologicalAgeTickFactorFromAgeCurve>
			<points>
				<li>(20, 7)</li>
			</points>
		</biologicalAgeTickFactorFromAgeCurve>
	</GeneDef>
	

	<!--Базовые параметры дерева-->
	<ThingDef Name="AncestralTree" ParentName="TreeBase" Abstract="True">
		<altitudeLayer>Item</altitudeLayer>
		<tickerType>Normal</tickerType>
		<statBases>
			<MaxHitPoints>85</MaxHitPoints>
			<Beauty>5</Beauty>
			<BeautyOutdoors>15</BeautyOutdoors>
			<Nutrition>0.25</Nutrition>
			<Mass>15</Mass>
		</statBases>
		<graphicData>
			<drawSize>1.3</drawSize>
			<shadowData>
				<volume>(0.2, 0.35, 0.13)</volume>
				<offset>(0,0,-0.2)</offset>
			</shadowData>
		</graphicData>
		<blockWind>false</blockWind>
		<pathCost>0</pathCost>
		<fillPercent>0.01</fillPercent>
		<plant>
			<harvestYield>5</harvestYield>
			<sowTags Inherit="False">
				<li>AncestralTree</li>
			</sowTags>
			<harvestTag>Wood</harvestTag>
			<skipDeteriorationMessage>true</skipDeteriorationMessage>
			<autoHarvestable>false</autoHarvestable>
			<burnedThingDef IsNull="True" />
			<choppedThingDef IsNull="True" />
			<smashedThingDef IsNull="True" />
			<sowWork>750</sowWork>
			<growMinGlow>0.3</growMinGlow>
			<topWindExposure>0.1</topWindExposure>
			<growDays>1.5</growDays>
			<visualSizeRange>0.75~1.2</visualSizeRange>
			<interferesWithRoof>false</interferesWithRoof>
			<blockAdjacentSow>false</blockAdjacentSow>
			<treeLoversCareIfChopped>false</treeLoversCareIfChopped>
			<purpose>Beauty</purpose>
			<lifespanDaysPerGrowDays>0</lifespanDaysPerGrowDays>

			<fertilityMin>0.3</fertilityMin>
			<fertilitySensitivity>0.3</fertilitySensitivity>
			<wildClusterWeight>0</wildClusterWeight>
			<treeCategory>Super</treeCategory>
			<dieIfNoSunlight>false</dieIfNoSunlight>
			<showGrowthInInspectPane>false</showGrowthInInspectPane>
			<minSpacingBetweenSamePlant>100</minSpacingBetweenSamePlant>
			<warnIfMarkedForCut>true</warnIfMarkedForCut>
			<harvestWork>250</harvestWork>
		</plant>
		<comps>
			<li Class="CompProperties_MeditationFocus">
				<statDef>MeditationFocusStrength</statDef>
				<focusTypes>
					<li>Natural</li>
				</focusTypes>
			</li>
			<li Class="CompProperties_GiveThoughtToAllMapPawnsOnDestroy">
				<thought>SorrowLostAncestors</thought>
				<message>The ancestor tree was destroyed, this event swept through all living.</message>
			</li>
		</comps>
	</ThingDef>

	<!--Тип дерева-->
	<ThingDef ParentName="AncestralTree">
		<defName>MasteryTree</defName>
		<label>mastery tree</label>
		<description>Tree of Mastery is a plant that emerged from a pawn of venerable age that had a piece of the great tree within it. This tree has become a mentor in craftsmanship for the people around it, giving them wisdom and knowledge in the art of craftsmanship. It serves as a source of inspiration and a teacher who helps his students achieve mastery in various crafts.</description>
		<graphicData>
			<texPath>AncestralTree/AncestorCrafterTree</texPath>
			<graphicClass>Graphic_Random</graphicClass>
		</graphicData>
		<comps>
			<li Class="CompProperties_GiveHediffSeverity">
				<hediff>InfluenceMasteryTree</hediff>
				<range>7</range>
				<severityPerSecond>1</severityPerSecond>
				<drugExposure>false</drugExposure>
				<allowMechs>false</allowMechs>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="AncestralTree">
		<defName>NatureTree</defName>
		<label>nature tree</label>
		<description>Tree of Nature is a plant that emerged from a pawn of venerable age that had a piece of the great tree within it. It serves as a symbol of fertility and abundance and is considered sacred among the local inhabitants. Often, a bountiful harvest can be found around the tree.</description>
		<graphicData>
			<texPath>AncestralTree/AncestorNatureTree</texPath>
			<graphicClass>Graphic_Random</graphicClass>
		</graphicData>
		<comps>
			<li Class="Euglena.Eug_CompProperties_PlantSpawn">
				<plantDefs>
					<li>Plant_Rice</li>
					<li>Plant_Potato</li>
					<li>Plant_Cotton</li>
					<li>Plant_Hops</li>
					<li>Plant_Smokeleaf</li>
					<li>Plant_Psychoid</li>
					<li>Plant_Strawberry</li>
				</plantDefs>
				<ticksToSpawnRange>30000~60000</ticksToSpawnRange>
				<minFertility>0.1</minFertility>
				<spawnRadius>5</spawnRadius>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="AncestralTree">
		<defName>MindTree</defName>
		<label>mind tree</label>
		<description>Tree of Mind is a plant that emerged from a pawn of venerable age that had a piece of the great tree within it. It serves as a symbol of knowledge and wisdom and is revered among the local population. The tree is said to provide insights and solutions to those who seek them, and it's considered a source of enlightenment.</description>
		<graphicData>
			<texPath>AncestralTree/AncestorSocialTree</texPath>
			<graphicClass>Graphic_Random</graphicClass>
		</graphicData>
		<comps>
			<li Class="CompProperties_GiveHediffSeverity">
				<hediff>InfluenceMindTree</hediff>
				<range>7</range>
				<severityPerSecond>1</severityPerSecond>
				<drugExposure>false</drugExposure>
				<allowMechs>false</allowMechs>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="AncestralTree">
		<defName>WarsTree</defName>
		<label>wars tree</label>
		<description>The tree of war is a plant that emerged from a pawn of venerable age that had a piece of the great tree in it. The ancestor devoted all his energy to struggle and conflict. It symbolizes strength, fearlessness and warrior spirit. Its leaves and bark have a dark and menacing appearance.</description>
		<graphicData>
			<texPath>AncestralTree/AncestorFightTree</texPath>
			<graphicClass>Graphic_Random</graphicClass>
		</graphicData>
		<comps>
			<li Class="CompProperties_GiveHediffSeverity">
				<hediff>InfluenceWarsTree</hediff>
				<range>7</range>
				<severityPerSecond>1</severityPerSecond>
				<drugExposure>false</drugExposure>
				<allowMechs>false</allowMechs>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="AncestralTree">
		<defName>BodyTree</defName>
		<label>body tree</label>
		<description>The body tree is a plant that emerged from a pawn of venerable age in which there was a piece of a great tree. An ancestor who devoted his life to the study and maintenance of health and harmony of the body. This tree serves as a symbol of strength, health and longevity.</description>
		<graphicData>
			<texPath>AncestralTree/AncestorMedicalTree</texPath>
			<graphicClass>Graphic_Random</graphicClass>
		</graphicData>
		<comps>
			<li Class="CompProperties_GiveHediffSeverity">
				<hediff>InfluenceBodyTree</hediff>
				<range>7</range>
				<severityPerSecond>1</severityPerSecond>
				<drugExposure>false</drugExposure>
				<allowMechs>false</allowMechs>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="AncestralTree">
		<defName>MemoryTree</defName>
		<label>memory tree</label>
		<description>The memory tree is a plant that emerged from a pawn of venerable age, in which there was a piece of a great tree. An ancestor who devoted his life to the preservation and transmission of knowledge and experience to future generations. This tree symbolizes wisdom, knowledge and the endless flow of information.</description>
		<graphicData>
			<texPath>AncestralTree/AncestorMemoryTree</texPath>
			<graphicClass>Graphic_Random</graphicClass>
		</graphicData>
		<comps>
			<li Class="CompProperties_GiveHediffSeverity">
				<hediff>InfluenceMemoryTree</hediff>
				<range>7</range>
				<severityPerSecond>1</severityPerSecond>
				<drugExposure>false</drugExposure>
				<allowMechs>false</allowMechs>
			</li>
			<li Class="CompProperties_MoteEmitter">
				<mote>Mote_PsychicEmanatorEffect</mote>
				<emissionInterval>350</emissionInterval>
			</li>
		</comps>
	</ThingDef>

	<!--Базовые параметры состояния здоровья ауры-->
	<HediffDef Name="AncestralTreeHediff" Abstract="True">
		<hediffClass>Hediff_High</hediffClass>
		<defaultLabelColor>(193,252,66)</defaultLabelColor>
		<scenarioCanAdd>true</scenarioCanAdd>
		<maxSeverity>1.0</maxSeverity>
		<isBad>false</isBad>
		<comps>
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>-100</severityPerDay>
				<showHoursToRecover>false</showHoursToRecover>
			</li>
		</comps>
	</HediffDef>


	<HediffDef ParentName="AncestralTreeHediff">
		<defName>InfluenceMasteryTree</defName>
		<label>influence mastery tree</label>
		<description>Influence mastery tree.</description>
		<stages>
			<li>
				<statOffsets>
					<GeneralLaborSpeed>0.2</GeneralLaborSpeed>
					<MoveSpeed>0.2</MoveSpeed>
				</statOffsets>
			</li>
		</stages>
	</HediffDef>

	<HediffDef ParentName="AncestralTreeHediff">
		<defName>InfluenceMindTree</defName>
		<label>influence mind tree</label>
		<description>Influence mind tree.</description>
		<stages>
			<li>
				<painOffset>-0.1</painOffset>
				<statOffsets>
					<MentalBreakThreshold>0.1</MentalBreakThreshold>
				</statOffsets>
			</li>
		</stages>
	</HediffDef>

	<HediffDef ParentName="AncestralTreeHediff">
		<defName>InfluenceWarsTree</defName>
		<label>influence wars tree</label>
		<description>Influence wars tree.</description>
		<stages>
			<li>
				<statOffsets>
					<ShootingAccuracyPawn>0.2</ShootingAccuracyPawn>
					<MeleeHitChance>0.2</MeleeHitChance>
					<MeleeDodgeChance>0.2</MeleeDodgeChance>
				</statOffsets>
			</li>
		</stages>
	</HediffDef>

	<HediffDef ParentName="AncestralTreeHediff">
		<defName>InfluenceBodyTree</defName>
		<label>influence body tree</label>
		<description>Influence body tree.</description>
		<stages>
			<li>
				<painOffset>-0.4</painOffset>
				<statOffsets>
					<MedicalOperationSpeed>0.2</MedicalOperationSpeed>
					<MedicalSurgerySuccessChance>0.1</MedicalSurgerySuccessChance>
				</statOffsets>
			</li>
		</stages>
	</HediffDef>

	<HediffDef ParentName="AncestralTreeHediff">
		<defName>InfluenceMemoryTree</defName>
		<label>influence memory tree</label>
		<description>Influence memory tree.</description>
		<stages>
			<li>
			</li>
		</stages>
	</HediffDef>

	<ThoughtDef>
		<defName>SorrowLostAncestors</defName>
		<durationDays>5</durationDays>
		<stackLimit>1</stackLimit>
		<effectMultiplyingStat>PsychicSensitivity</effectMultiplyingStat>
		<developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
		<stages>
			<li>
				<label>sorrow for lost ancestors</label>
				<description>The pain, after the loss of a part of the native soul, does not subside...</description>
				<baseMoodEffect>-3</baseMoodEffect>
			</li>
		</stages>
	</ThoughtDef>

	<ThoughtDef>
		<defName>MemoryNature</defName>
		<workerClass>X_Euglena.Eug_ThoughtWorker_PsychicEmanator</workerClass>
		<effectMultiplyingStat>PsychicSensitivity</effectMultiplyingStat>
		<developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
		<modExtensions>
			<li Class="X_Euglena.X_DefModExtensionInfo">
				<psyThing>MemoryTree</psyThing>
				<EmminerRadius>10</EmminerRadius>
			</li>
		</modExtensions>
		<stages>
			<li>
				<label>Memory in nature</label>
				<description>The was once a living person, but only a gray tree remaines from him, with his half-living sprit.</description>
				<baseMoodEffect>3</baseMoodEffect>
			</li>
		</stages>
	</ThoughtDef>

</Defs>
