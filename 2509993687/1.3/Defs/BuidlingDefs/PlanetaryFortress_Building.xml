<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <ThingDef Name="PlanetaryFortressBase" ParentName="BuildingBase" Abstract="True">
    <category>Building</category>
    <soundImpactDefault>BulletImpact_Metal</soundImpactDefault>
    <selectable>true</selectable>
    <drawerType>MapMeshAndRealTime</drawerType>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    <repairEffect>Repair</repairEffect>
    <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
    <filthLeaving>Filth_RubbleBuilding</filthLeaving>
    <rotatable>false</rotatable>	
    <statBases>
      <SellPriceFactor>0.70</SellPriceFactor>
    </statBases>
    <tickerType>Normal</tickerType>
    <altitudeLayer>BuildingOnTop</altitudeLayer>
    <stealable>false</stealable>
    <minifiedDef>MinifiedThing</minifiedDef>
    <thingCategories>
      <li>Buildings</li>
    </thingCategories>
	<inspectorTabs>
		<li>ITab_ContentsTransporter</li>
	</inspectorTabs>
    <pathCost>100</pathCost>
    <pathCostIgnoreRepeat>true</pathCostIgnoreRepeat>
    <passability>PassThroughOnly</passability>
    <castEdgeShadows>false</castEdgeShadows>
    <fillPercent>0.90</fillPercent>
    <designationCategory>Security</designationCategory>
    <killedLeavings>
      <ChunkSlagSteel>12</ChunkSlagSteel>
    </killedLeavings>
	<comps>
		<li Class="CompProperties_Explosive">
			<explosiveRadius>9.5</explosiveRadius>
			<explosiveDamageType>Bomb</explosiveDamageType>
			<destroyThingOnExplosionSize>2.5</destroyThingOnExplosionSize>
			<startWickHitPointsPercent>0.12</startWickHitPointsPercent>
			<wickTicks>
				<min>150</min>
				<max>200</max>
			</wickTicks>
		</li>
	</comps>

  </ThingDef>



  <ThingDef ParentName="PlanetaryFortressBase">
    <defName>PlanetaryFortress</defName> 
    <label>Planetary Fortress</label> 
    <description>A strong defensive fortress equipped with the "Twin Ibiks Cannon. Can be redeployed after installation of SRTS engine. All battery capacity will be emptied when using SRTS engine for safety reasons.</description>

     <thingClass>TerrenSecurity.Building_CanSetForcedTargetTurret</thingClass>
	 
    <graphicData>
      <texPath>Things/Building/PlanetaryFortress/PlanetaryFortress</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <shaderType>CutoutComplex</shaderType>
      <drawSize>(14,14)</drawSize> 
      <shadowData>
        <volume>(6.45,1.0,5.35)</volume>
        <offset>(0.5,0,-2.15)</offset>
      </shadowData>
    </graphicData>
    <size>(7,7)</size> 
    <statBases>
      <MaxHitPoints>2600</MaxHitPoints> 
      <WorkToBuild>36000</WorkToBuild> 
      <Flammability>0</Flammability>
      <Mass>20</Mass> 
      <Beauty>15</Beauty>
    </statBases>
    <costList> 
      <Steel>1200</Steel>
      <Plasteel>650</Plasteel>
      <Uranium>350</Uranium>
      <Gold>200</Gold>	  
      <ComponentIndustrial>30</ComponentIndustrial>
      <ComponentSpacer>12</ComponentSpacer>
	  
    </costList>
	<comps>
  <li Class="CompProperties_Refuelable">
     <fuelCapacity>800</fuelCapacity>
     <fuelConsumptionRate>35.0</fuelConsumptionRate>
     <targetFuelLevelConfigurable>true</targetFuelLevelConfigurable>
     <initialConfigurableTargetFuelLevel>400</initialConfigurableTargetFuelLevel>
     <fuelFilter>
     <thingDefs>
        <li>ChemGas</li>
     </thingDefs>
     </fuelFilter>
     <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
     <autoRefuelPercent>1</autoRefuelPercent>
     <showFuelGizmo>true</showFuelGizmo>
     <drawOutOfFuelOverlay>false</drawOutOfFuelOverlay>
     <drawFuelGaugeInMap>false</drawFuelGaugeInMap>
   </li>
       <li Class="CompProperties_Battery">
        <storedEnergyMax>2000</storedEnergyMax>
        <efficiency>3.5</efficiency>
        <shortCircuitInRain>false</shortCircuitInRain>
        <transmitsPower>true</transmitsPower>
      </li>
  
       <li Class="CompProperties_Power">
        <compClass>CompPowerPlant</compClass>
        <basePowerConsumption>-2000</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
      <li Class="CompProperties_Breakdownable" />
      <li Class="CompProperties_Flickable" />
      <li Class="CompProperties_Glower">
        <glowRadius>21</glowRadius>
        <glowColor>(217,217,217,0)</glowColor>
      </li>	  	  	  
	</comps>	
	<researchPrerequisites>
      <li>Research_PlanetaryFortress</li>
    </researchPrerequisites>
    <constructionSkillPrerequisite>13</constructionSkillPrerequisite> 
    <uiIconScale>1</uiIconScale> 
    <killedLeavings>
      <ChunkSlagSteel>12</ChunkSlagSteel>
      <ComponentIndustrial>5</ComponentIndustrial>
      <ComponentSpacer>2</ComponentSpacer>	  
    </killedLeavings>
    <building>
      <hasFuelingPort>true</hasFuelingPort>	
      <ai_combatDangerous>true</ai_combatDangerous>
      <turretGunDef>PlanetaryFortress_Turret_Top</turretGunDef>
      <turretBurstCooldownTime>20</turretBurstCooldownTime>
      <turretBurstWarmupTime>5</turretBurstWarmupTime>	  
      <turretTopDrawSize>7.9</turretTopDrawSize>
      <turretTopOffset>(0, 0.35)</turretTopOffset>
	  </building>	
	
    <placeWorkers>
      <li>PlaceWorker_TurretTop</li>
      <li>PlaceWorker_ShowTurretRadius</li>
      <li>PlaceWorker_NotUnderRoof</li>	  
    </placeWorkers>

	
	
  </ThingDef>
  
  


</Defs>